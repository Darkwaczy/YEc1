"use strict";var nT=Object.create;var Ri=Object.defineProperty;var oT=Object.getOwnPropertyDescriptor;var iT=Object.getOwnPropertyNames;var sT=Object.getPrototypeOf,aT=Object.prototype.hasOwnProperty;var uT=(e,t,r)=>t in e?Ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ba=(e,t)=>{for(var r in t)Ri(e,r,{get:t[r],enumerable:!0})},Sh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iT(t))!aT.call(e,o)&&o!==r&&Ri(e,o,{get:()=>t[o],enumerable:!(n=oT(t,o))||n.enumerable});return e};var H=(e,t,r)=>(r=e!=null?nT(sT(e)):{},Sh(t||!e||!e.__esModule?Ri(r,"default",{value:e,enumerable:!0}):r,e)),cT=e=>Sh(Ri({},"__esModule",{value:!0}),e);var Ke=(e,t,r)=>uT(e,typeof t!="symbol"?t+"":t,r);var Th=S((_4,Ph)=>{"use strict";Ph.exports=function(){if(process.env.npm_config_user_agent)return pT(process.env.npm_config_user_agent)};function pT(e){let t=e.split(" ")[0],r=t.lastIndexOf("/"),n=t.substring(0,r);return{name:n==="npminstall"?"cnpm":n,version:t.substring(r+1)}}});var Aa=S((p9,og)=>{"use strict";var Uc={to(e,t){return t?`\x1B[${t+1};${e+1}H`:`\x1B[${e+1}G`},move(e,t){let r="";return e<0?r+=`\x1B[${-e}D`:e>0&&(r+=`\x1B[${e}C`),t<0?r+=`\x1B[${-t}A`:t>0&&(r+=`\x1B[${t}B`),r},up:(e=1)=>`\x1B[${e}A`,down:(e=1)=>`\x1B[${e}B`,forward:(e=1)=>`\x1B[${e}C`,backward:(e=1)=>`\x1B[${e}D`,nextLine:(e=1)=>"\x1B[E".repeat(e),prevLine:(e=1)=>"\x1B[F".repeat(e),left:"\x1B[G",hide:"\x1B[?25l",show:"\x1B[?25h",save:"\x1B7",restore:"\x1B8"},_T={up:(e=1)=>"\x1B[S".repeat(e),down:(e=1)=>"\x1B[T".repeat(e)},PT={screen:"\x1B[2J",up:(e=1)=>"\x1B[1J".repeat(e),down:(e=1)=>"\x1B[J".repeat(e),line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",lines(e){let t="";for(let r=0;r<e;r++)t+=this.line+(r<e-1?Uc.up():"");return e&&(t+=Uc.left),t}};og.exports={cursor:Uc,scroll:_T,erase:PT,beep:"\x07"}});var Wn=S((d9,Vc)=>{var Fa=process||{},ig=Fa.argv||[],Ra=Fa.env||{},TT=!(Ra.NO_COLOR||ig.includes("--no-color"))&&(!!Ra.FORCE_COLOR||ig.includes("--color")||Fa.platform==="win32"||(Fa.stdout||{}).isTTY&&Ra.TERM!=="dumb"||!!Ra.CI),AT=(e,t,r=e)=>n=>{let o=""+n,s=o.indexOf(t,e.length);return~s?e+RT(o,t,r,s)+t:e+o+t},RT=(e,t,r,n)=>{let o="",s=0;do o+=e.substring(s,n)+r,s=n+t.length,n=e.indexOf(t,s);while(~n);return o+e.substring(s)},sg=(e=TT)=>{let t=e?AT:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m"),blackBright:t("\x1B[90m","\x1B[39m"),redBright:t("\x1B[91m","\x1B[39m"),greenBright:t("\x1B[92m","\x1B[39m"),yellowBright:t("\x1B[93m","\x1B[39m"),blueBright:t("\x1B[94m","\x1B[39m"),magentaBright:t("\x1B[95m","\x1B[39m"),cyanBright:t("\x1B[96m","\x1B[39m"),whiteBright:t("\x1B[97m","\x1B[39m"),bgBlackBright:t("\x1B[100m","\x1B[49m"),bgRedBright:t("\x1B[101m","\x1B[49m"),bgGreenBright:t("\x1B[102m","\x1B[49m"),bgYellowBright:t("\x1B[103m","\x1B[49m"),bgBlueBright:t("\x1B[104m","\x1B[49m"),bgMagentaBright:t("\x1B[105m","\x1B[49m"),bgCyanBright:t("\x1B[106m","\x1B[49m"),bgWhiteBright:t("\x1B[107m","\x1B[49m")}};Vc.exports=sg();Vc.exports.createColors=sg});var zy=S((o7,qa)=>{qa.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;qa.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;qa.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var yl=S((i7,jy)=>{var gl=zy();jy.exports={isSpaceSeparator(e){return typeof e=="string"&&gl.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||gl.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e==="\u200C"||e==="\u200D"||gl.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}}});var Gy=S((s7,qy)=>{var tt=yl(),vl,Et,un,Ka,Tn,br,rt,bl,Wi;qy.exports=function(t,r){vl=String(t),Et="start",un=[],Ka=0,Tn=1,br=0,rt=void 0,bl=void 0,Wi=void 0;do rt=_F(),AF[Et]();while(rt.type!=="eof");return typeof r=="function"?Cl({"":Wi},"",r):Wi};function Cl(e,t,r){let n=e[t];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let o=0;o<n.length;o++){let s=String(o),i=Cl(n,s,r);i===void 0?delete n[s]:Object.defineProperty(n,s,{value:i,writable:!0,enumerable:!0,configurable:!0})}else for(let o in n){let s=Cl(n,o,r);s===void 0?delete n[o]:Object.defineProperty(n,o,{value:s,writable:!0,enumerable:!0,configurable:!0})}return r.call(e,t,n)}var Y,W,Ki,an,oe;function _F(){for(Y="default",W="",Ki=!1,an=1;;){oe=cn();let e=Vy[Y]();if(e)return e}}function cn(){if(vl[Ka])return String.fromCodePoint(vl.codePointAt(Ka))}function A(){let e=cn();return e===`
`?(Tn++,br=0):e?br+=e.length:br++,e&&(Ka+=e.length),e}var Vy={default(){switch(oe){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":A();return;case"/":A(),Y="comment";return;case void 0:return A(),Re("eof")}if(tt.isSpaceSeparator(oe)){A();return}return Vy[Et]()},comment(){switch(oe){case"*":A(),Y="multiLineComment";return;case"/":A(),Y="singleLineComment";return}throw Fe(A())},multiLineComment(){switch(oe){case"*":A(),Y="multiLineCommentAsterisk";return;case void 0:throw Fe(A())}A()},multiLineCommentAsterisk(){switch(oe){case"*":A();return;case"/":A(),Y="default";return;case void 0:throw Fe(A())}A(),Y="multiLineComment"},singleLineComment(){switch(oe){case`
`:case"\r":case"\u2028":case"\u2029":A(),Y="default";return;case void 0:return A(),Re("eof")}A()},value(){switch(oe){case"{":case"[":return Re("punctuator",A());case"n":return A(),Xn("ull"),Re("null",null);case"t":return A(),Xn("rue"),Re("boolean",!0);case"f":return A(),Xn("alse"),Re("boolean",!1);case"-":case"+":A()==="-"&&(an=-1),Y="sign";return;case".":W=A(),Y="decimalPointLeading";return;case"0":W=A(),Y="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":W=A(),Y="decimalInteger";return;case"I":return A(),Xn("nfinity"),Re("numeric",1/0);case"N":return A(),Xn("aN"),Re("numeric",NaN);case'"':case"'":Ki=A()==='"',W="",Y="string";return}throw Fe(A())},identifierNameStartEscape(){if(oe!=="u")throw Fe(A());A();let e=wl();switch(e){case"$":case"_":break;default:if(!tt.isIdStartChar(e))throw Uy();break}W+=e,Y="identifierName"},identifierName(){switch(oe){case"$":case"_":case"\u200C":case"\u200D":W+=A();return;case"\\":A(),Y="identifierNameEscape";return}if(tt.isIdContinueChar(oe)){W+=A();return}return Re("identifier",W)},identifierNameEscape(){if(oe!=="u")throw Fe(A());A();let e=wl();switch(e){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!tt.isIdContinueChar(e))throw Uy();break}W+=e,Y="identifierName"},sign(){switch(oe){case".":W=A(),Y="decimalPointLeading";return;case"0":W=A(),Y="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":W=A(),Y="decimalInteger";return;case"I":return A(),Xn("nfinity"),Re("numeric",an*(1/0));case"N":return A(),Xn("aN"),Re("numeric",NaN)}throw Fe(A())},zero(){switch(oe){case".":W+=A(),Y="decimalPoint";return;case"e":case"E":W+=A(),Y="decimalExponent";return;case"x":case"X":W+=A(),Y="hexadecimal";return}return Re("numeric",an*0)},decimalInteger(){switch(oe){case".":W+=A(),Y="decimalPoint";return;case"e":case"E":W+=A(),Y="decimalExponent";return}if(tt.isDigit(oe)){W+=A();return}return Re("numeric",an*Number(W))},decimalPointLeading(){if(tt.isDigit(oe)){W+=A(),Y="decimalFraction";return}throw Fe(A())},decimalPoint(){switch(oe){case"e":case"E":W+=A(),Y="decimalExponent";return}if(tt.isDigit(oe)){W+=A(),Y="decimalFraction";return}return Re("numeric",an*Number(W))},decimalFraction(){switch(oe){case"e":case"E":W+=A(),Y="decimalExponent";return}if(tt.isDigit(oe)){W+=A();return}return Re("numeric",an*Number(W))},decimalExponent(){switch(oe){case"+":case"-":W+=A(),Y="decimalExponentSign";return}if(tt.isDigit(oe)){W+=A(),Y="decimalExponentInteger";return}throw Fe(A())},decimalExponentSign(){if(tt.isDigit(oe)){W+=A(),Y="decimalExponentInteger";return}throw Fe(A())},decimalExponentInteger(){if(tt.isDigit(oe)){W+=A();return}return Re("numeric",an*Number(W))},hexadecimal(){if(tt.isHexDigit(oe)){W+=A(),Y="hexadecimalInteger";return}throw Fe(A())},hexadecimalInteger(){if(tt.isHexDigit(oe)){W+=A();return}return Re("numeric",an*Number(W))},string(){switch(oe){case"\\":A(),W+=PF();return;case'"':if(Ki)return A(),Re("string",W);W+=A();return;case"'":if(!Ki)return A(),Re("string",W);W+=A();return;case`
`:case"\r":throw Fe(A());case"\u2028":case"\u2029":RF(oe);break;case void 0:throw Fe(A())}W+=A()},start(){switch(oe){case"{":case"[":return Re("punctuator",A())}Y="value"},beforePropertyName(){switch(oe){case"$":case"_":W=A(),Y="identifierName";return;case"\\":A(),Y="identifierNameStartEscape";return;case"}":return Re("punctuator",A());case'"':case"'":Ki=A()==='"',Y="string";return}if(tt.isIdStartChar(oe)){W+=A(),Y="identifierName";return}throw Fe(A())},afterPropertyName(){if(oe===":")return Re("punctuator",A());throw Fe(A())},beforePropertyValue(){Y="value"},afterPropertyValue(){switch(oe){case",":case"}":return Re("punctuator",A())}throw Fe(A())},beforeArrayValue(){if(oe==="]")return Re("punctuator",A());Y="value"},afterArrayValue(){switch(oe){case",":case"]":return Re("punctuator",A())}throw Fe(A())},end(){throw Fe(A())}};function Re(e,t){return{type:e,value:t,line:Tn,column:br}}function Xn(e){for(let t of e){if(cn()!==t)throw Fe(A());A()}}function PF(){switch(cn()){case"b":return A(),"\b";case"f":return A(),"\f";case"n":return A(),`
`;case"r":return A(),"\r";case"t":return A(),"	";case"v":return A(),"\v";case"0":if(A(),tt.isDigit(cn()))throw Fe(A());return"\0";case"x":return A(),TF();case"u":return A(),wl();case`
`:case"\u2028":case"\u2029":return A(),"";case"\r":return A(),cn()===`
`&&A(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Fe(A());case void 0:throw Fe(A())}return A()}function TF(){let e="",t=cn();if(!tt.isHexDigit(t)||(e+=A(),t=cn(),!tt.isHexDigit(t)))throw Fe(A());return e+=A(),String.fromCodePoint(parseInt(e,16))}function wl(){let e="",t=4;for(;t-- >0;){let r=cn();if(!tt.isHexDigit(r))throw Fe(A());e+=A()}return String.fromCodePoint(parseInt(e,16))}var AF={start(){if(rt.type==="eof")throw eo();Dl()},beforePropertyName(){switch(rt.type){case"identifier":case"string":bl=rt.value,Et="afterPropertyName";return;case"punctuator":Ga();return;case"eof":throw eo()}},afterPropertyName(){if(rt.type==="eof")throw eo();Et="beforePropertyValue"},beforePropertyValue(){if(rt.type==="eof")throw eo();Dl()},beforeArrayValue(){if(rt.type==="eof")throw eo();if(rt.type==="punctuator"&&rt.value==="]"){Ga();return}Dl()},afterPropertyValue(){if(rt.type==="eof")throw eo();switch(rt.value){case",":Et="beforePropertyName";return;case"}":Ga()}},afterArrayValue(){if(rt.type==="eof")throw eo();switch(rt.value){case",":Et="beforeArrayValue";return;case"]":Ga()}},end(){}};function Dl(){let e;switch(rt.type){case"punctuator":switch(rt.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=rt.value;break}if(Wi===void 0)Wi=e;else{let t=un[un.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,bl,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")un.push(e),Array.isArray(e)?Et="beforeArrayValue":Et="beforePropertyName";else{let t=un[un.length-1];t==null?Et="end":Array.isArray(t)?Et="afterArrayValue":Et="afterPropertyValue"}}function Ga(){un.pop();let e=un[un.length-1];e==null?Et="end":Array.isArray(e)?Et="afterArrayValue":Et="afterPropertyValue"}function Fe(e){return Wa(e===void 0?`JSON5: invalid end of input at ${Tn}:${br}`:`JSON5: invalid character '${Hy(e)}' at ${Tn}:${br}`)}function eo(){return Wa(`JSON5: invalid end of input at ${Tn}:${br}`)}function Uy(){return br-=5,Wa(`JSON5: invalid identifier character at ${Tn}:${br}`)}function RF(e){console.warn(`JSON5: '${Hy(e)}' in strings is not valid ECMAScript; consider escaping`)}function Hy(e){let t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){let r=e.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return e}function Wa(e){let t=new SyntaxError(e);return t.lineNumber=Tn,t.columnNumber=br,t}});var Wy=S((a7,Ky)=>{var xl=yl();Ky.exports=function(t,r,n){let o=[],s="",i,a,u="",c;if(r!=null&&typeof r=="object"&&!Array.isArray(r)&&(n=r.space,c=r.quote,r=r.replacer),typeof r=="function")a=r;else if(Array.isArray(r)){i=[];for(let f of r){let g;typeof f=="string"?g=f:(typeof f=="number"||f instanceof String||f instanceof Number)&&(g=String(f)),g!==void 0&&i.indexOf(g)<0&&i.push(g)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),typeof n=="number"?n>0&&(n=Math.min(10,Math.floor(n)),u="          ".substr(0,n)):typeof n=="string"&&(u=n.substr(0,10)),l("",{"":t});function l(f,g){let y=g[f];switch(y!=null&&(typeof y.toJSON5=="function"?y=y.toJSON5(f):typeof y.toJSON=="function"&&(y=y.toJSON(f))),a&&(y=a.call(g,f,y)),y instanceof Number?y=Number(y):y instanceof String?y=String(y):y instanceof Boolean&&(y=y.valueOf()),y){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof y=="string")return p(y,!1);if(typeof y=="number")return String(y);if(typeof y=="object")return Array.isArray(y)?m(y):d(y)}function p(f){let g={"'":.1,'"':.2},y={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},b="";for(let T=0;T<f.length;T++){let E=f[T];switch(E){case"'":case'"':g[E]++,b+=E;continue;case"\0":if(xl.isDigit(f[T+1])){b+="\\x00";continue}}if(y[E]){b+=y[E];continue}if(E<" "){let R=E.charCodeAt(0).toString(16);b+="\\x"+("00"+R).substring(R.length);continue}b+=E}let w=c||Object.keys(g).reduce((T,E)=>g[T]<g[E]?T:E);return b=b.replace(new RegExp(w,"g"),y[w]),w+b+w}function d(f){if(o.indexOf(f)>=0)throw TypeError("Converting circular structure to JSON5");o.push(f);let g=s;s=s+u;let y=i||Object.keys(f),b=[];for(let T of y){let E=l(T,f);if(E!==void 0){let R=h(T)+":";u!==""&&(R+=" "),R+=E,b.push(R)}}let w;if(b.length===0)w="{}";else{let T;if(u==="")T=b.join(","),w="{"+T+"}";else{let E=`,
`+s;T=b.join(E),w=`{
`+s+T+`,
`+g+"}"}}return o.pop(),s=g,w}function h(f){if(f.length===0)return p(f,!0);let g=String.fromCodePoint(f.codePointAt(0));if(!xl.isIdStartChar(g))return p(f,!0);for(let y=g.length;y<f.length;y++)if(!xl.isIdContinueChar(String.fromCodePoint(f.codePointAt(y))))return p(f,!0);return f}function m(f){if(o.indexOf(f)>=0)throw TypeError("Converting circular structure to JSON5");o.push(f);let g=s;s=s+u;let y=[];for(let w=0;w<f.length;w++){let T=l(String(w),f);y.push(T!==void 0?T:"null")}let b;if(y.length===0)b="[]";else if(u==="")b="["+y.join(",")+"]";else{let w=`,
`+s,T=y.join(w);b=`[
`+s+T+`,
`+g+"]"}return o.pop(),s=g,b}}});var Jy=S((u7,Zy)=>{var FF=Gy(),$F=Wy(),kF={parse:FF,stringify:$F};Zy.exports=kF});var Pl=S(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.throwUnsupportedData=An.throwUnknownDataType=An.getType=void 0;function dD(e){return Object.prototype.toString.call(e)}An.getType=dD;function i$(e){throw new TypeError("unsupported data type: "+dD(e))}An.throwUnknownDataType=i$;function s$(e){throw new TypeError("unsupported data type: "+e)}An.throwUnsupportedData=s$});var $l=S(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.s_to_num=mt.int_str_to_s=mt.num_to_s=mt.big_int_to_s=mt.int_to_s=mt.s_to_big_int=mt.s_to_int=void 0;var ln="";for(let e=0;e<10;e++){let t=String.fromCharCode(48+e);ln+=t}for(let e=0;e<26;e++){let t=String.fromCharCode(65+e);ln+=t}for(let e=0;e<26;e++){let t=String.fromCharCode(97+e);ln+=t}var Lo=ln.length,Al={};for(let e=0;e<Lo;e++){let t=ln[e];Al[t]=e}function Rl(e){let t=0,r=1;for(let n=e.length-1;n>=0;n--){let o=e[n],s=Al[o];s*=r,t+=s,r*=Lo}return t}mt.s_to_int=Rl;function fD(e){let t=BigInt(0),r=BigInt(1),n=BigInt(Lo);for(let o=e.length-1;o>=0;o--){let s=e[o],i=BigInt(Al[s]);i*=r,t+=i,r*=n}return t}mt.s_to_big_int=fD;function Fl(e){if(e===0)return ln[0];let t=[];for(;e!==0;){let r=e%Lo,n=ln[r];t.push(n),e-=r,e/=Lo}return t.reverse().join("")}mt.int_to_s=Fl;function mD(e){let t=BigInt(0),r=BigInt(Lo);if(e===t)return ln[0];let n=[];for(;e!==t;){let o=e%r,s=ln[Number(o)];n.push(s),e/=r}return n.reverse().join("")}mt.big_int_to_s=mD;function hD(e){return e.split("").reverse().join("")}function gD(e){if(e<0)return"-"+gD(-e);let[t,r]=e.toString().split(".");if(!r)if(t.includes("e")){let[s,i]=t.split("e");t=s,r="0e"+i}else return Fl(e);let n;r&&([r,n]=r.split("e")),t=Ja(t),r=hD(r),r=Ja(r);let o=t+"."+r;if(n){switch(o+=".",n[0]){case"+":n=n.slice(1);break;case"-":o+="-",n=n.slice(1);break}n=Ja(n),o+=n}return o}mt.num_to_s=gD;function Ja(e){let t=+e;return t.toString()===e&&t+1!==t&&t-1!==t?Fl(t):":"+mD(BigInt(e))}mt.int_str_to_s=Ja;function Tl(e){return e[0]===":"?fD(e.substring(1)).toString():Rl(e).toString()}function yD(e){if(e[0]==="-")return-yD(e.substr(1));let[t,r,n]=e.split(".");if(!r)return Rl(t);t=Tl(t),r=Tl(r),r=hD(r);let o=t+"."+r;if(n){o+="e";let s=!1;n[0]==="-"&&(s=!0,n=n.slice(1)),n=Tl(n),o+=s?-n:+n}return+o}mt.s_to_num=yD});var Il=S(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.decodeStr=ht.encodeStr=ht.decodeBool=ht.encodeBool=ht.decodeKey=ht.decodeNum=ht.encodeNum=void 0;var kl=$l();function a$(e){return"n|"+(0,kl.num_to_s)(e)}ht.encodeNum=a$;function u$(e){return e=e.replace("n|",""),(0,kl.s_to_num)(e)}ht.decodeNum=u$;function c$(e){return typeof e=="number"?e:(0,kl.s_to_int)(e)}ht.decodeKey=c$;function l$(e){return e?"b|T":"b|F"}ht.encodeBool=l$;function p$(e){switch(e){case"b|T":return!0;case"b|F":return!1}return!!e}ht.decodeBool=p$;function d$(e){switch(e[0]+e[1]){case"b|":case"o|":case"n|":case"a|":case"s|":e="s|"+e}return e}ht.encodeStr=d$;function f$(e){return e[0]+e[1]==="s|"?e.substr(2):e}ht.decodeStr=f$});var Nl=S(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.config=void 0;Ya.config={sort_key:!1,error_on_nan:!1,error_on_infinite:!1}});var Bl=S(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.addValue=ar.makeInMemoryMemory=ar.makeInMemoryCache=ar.makeInMemoryStore=ar.memToValues=void 0;var Ll=Nl(),Ol=Pl(),Ml=Il(),m$=$l();function h$(e){return e.store.toArray()}ar.memToValues=h$;function DD(){let e=[];return{forEach(t){for(let r=0;r<e.length;r++)if(t(e[r])==="break")return},add(t){e.push(t)},toArray(){return e}}}ar.makeInMemoryStore=DD;function vD(){let e=Object.create(null),t=Object.create(null);return{getValue(r){return e[r]},getSchema(r){return t[r]},forEachValue(r){for(let[n,o]of Object.entries(e))if(r(n,o)==="break")return},forEachSchema(r){for(let[n,o]of Object.entries(t))if(r(n,o)==="break")return},setValue(r,n){e[r]=n},setSchema(r,n){t[r]=n},hasValue(r){return r in e},hasSchema(r){return r in t}}}ar.makeInMemoryCache=vD;function g$(){return{store:DD(),cache:vD(),keyCount:0}}ar.makeInMemoryMemory=g$;function ro(e,t){if(e.cache.hasValue(t))return e.cache.getValue(t);let r=e.keyCount++,n=(0,m$.num_to_s)(r);return e.store.add(t),e.cache.setValue(t,n),n}function y$(e,t){Ll.config.sort_key&&t.sort();let r=t.join(",");if(e.cache.hasSchema(r))return e.cache.getSchema(r);let n=Ji(e,t,void 0);return e.cache.setSchema(r,n),n}function Ji(e,t,r){if(t===null)return"";switch(typeof t){case"undefined":if(Array.isArray(r))return Ji(e,null,r);break;case"object":if(t===null)return ro(e,null);if(Array.isArray(t)){let n="a";for(let o=0;o<t.length;o++){let s=t[o],i=s===null?"_":Ji(e,s,t);n+="|"+i}return n==="a"&&(n="a|"),ro(e,n)}else{let n=Object.keys(t);if(n.length===0)return ro(e,"o|");let o="o",s=y$(e,n);o+="|"+s;for(let i of n){let a=t[i],u=Ji(e,a,t);o+="|"+u}return ro(e,o)}case"boolean":return ro(e,(0,Ml.encodeBool)(t));case"number":return Number.isNaN(t)?(Ll.config.error_on_nan&&(0,Ol.throwUnsupportedData)("[number NaN]"),""):Number.POSITIVE_INFINITY===t||Number.NEGATIVE_INFINITY===t?(Ll.config.error_on_infinite&&(0,Ol.throwUnsupportedData)("[number Infinity]"),""):ro(e,(0,Ml.encodeNum)(t));case"string":return ro(e,(0,Ml.encodeStr)(t))}return(0,Ol.throwUnknownDataType)(t)}ar.addValue=Ji});var jl=S(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.decompress=Rn.decode=Rn.compress=void 0;var D$=Pl(),Qa=Il(),zl=Bl();function v$(e){let t=(0,zl.makeInMemoryMemory)(),r=(0,zl.addValue)(t,e,void 0);return[(0,zl.memToValues)(t),r]}Rn.compress=v$;function C$(e,t){if(t==="o|")return{};let r={},n=t.split("|"),o=n[1],s=Yi(e,o),i=n.length;i-2===1&&!Array.isArray(s)&&(s=[s]);for(let a=2;a<i;a++){let u=s[a-2],c=n[a];c=Yi(e,c),r[u]=c}return r}function w$(e,t){if(t==="a|")return[];let r=t.split("|"),n=r.length-1,o=new Array(n);for(let s=0;s<n;s++){let i=r[s+1];i=Yi(e,i),o[s]=i}return o}function Yi(e,t){if(t===""||t==="_")return null;let r=(0,Qa.decodeKey)(t),n=e[r];if(n===null)return n;switch(typeof n){case"undefined":return n;case"number":return n;case"string":switch(n[0]+n[1]){case"b|":return(0,Qa.decodeBool)(n);case"o|":return C$(e,n);case"n|":return(0,Qa.decodeNum)(n);case"a|":return w$(e,n);default:return(0,Qa.decodeStr)(n)}}return(0,D$.throwUnknownDataType)(n)}Rn.decode=Yi;function b$(e){let[t,r]=e;return Yi(t,r)}Rn.decompress=b$});var wD=S(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.trimUndefinedRecursively=Bo.trimUndefined=void 0;function x$(e){for(let t in e)e[t]===void 0&&delete e[t]}Bo.trimUndefined=x$;function S$(e){CD(e,new Set)}Bo.trimUndefinedRecursively=S$;function CD(e,t){t.add(e);for(let r in e)if(e[r]===void 0)delete e[r];else{let n=e[r];n&&typeof n=="object"&&!t.has(n)&&CD(n,t)}}});var SD=S(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.config=gt.trimUndefinedRecursively=gt.trimUndefined=gt.addValue=gt.decode=gt.decompress=gt.compress=void 0;var bD=jl();Object.defineProperty(gt,"compress",{enumerable:!0,get:function(){return bD.compress}});Object.defineProperty(gt,"decompress",{enumerable:!0,get:function(){return bD.decompress}});var E$=jl();Object.defineProperty(gt,"decode",{enumerable:!0,get:function(){return E$.decode}});var _$=Bl();Object.defineProperty(gt,"addValue",{enumerable:!0,get:function(){return _$.addValue}});var xD=wD();Object.defineProperty(gt,"trimUndefined",{enumerable:!0,get:function(){return xD.trimUndefined}});Object.defineProperty(gt,"trimUndefinedRecursively",{enumerable:!0,get:function(){return xD.trimUndefinedRecursively}});var P$=Nl();Object.defineProperty(gt,"config",{enumerable:!0,get:function(){return P$.config}})});var VD=S((TK,UD)=>{"use strict";var BD=require("child_process"),ok=BD.spawn,ik=BD.exec;UD.exports=function(e,t,r){if(typeof t=="function"&&r===void 0&&(r=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(r)return r(new Error("pid must be a number"));throw new Error("pid must be a number")}var n={},o={};switch(n[e]=[],o[e]=1,process.platform){case"win32":ik("taskkill /pid "+e+" /T /F",r);break;case"darwin":jD(e,n,o,function(){MD(n,t,r)});break;default:zD(e,n,o,function(s){return ok("ps",["-o","pid","--no-headers","--ppid",s])},function(){MD(n,t,r)});break}};function MD(e,t,r){var n={};try{Object.keys(e).forEach(function(o){e[o].forEach(function(s){n[s]||(LD(s,t),n[s]=1)}),n[o]||(LD(o,t),n[o]=1)})}catch(o){if(r)return r(o);throw o}if(r)return r()}function LD(e,t){try{process.kill(parseInt(e,10),t)}catch(r){if(r.code!=="ESRCH")throw r}}function zD(e,t,r,n,o){var s=n(e),i="";s.stdout.on("data",function(c){var c=c.toString("ascii");i+=c});var a=function(u){if(delete r[e],u!=0){Object.keys(r).length==0&&o();return}i.match(/\d+/g).forEach(function(c){c=parseInt(c,10),t[e].push(c),t[c]=[],r[c]=1,zD(c,t,r,n,o)})};s.on("close",a)}function jD(e,t,r,n){try{let o="";try{o=execSync("pgrep -P "+e,{encoding:"utf8",timeout:2e3,maxBuffer:1024*1024})}catch(i){if(i.status!==1)throw i}delete r[e];let s=o.trim().split(`
`).filter(Boolean);if(s.length===0){Object.keys(r).length===0&&n();return}s.forEach(function(i){let a=parseInt(i,10);isNaN(a)||(t[e].push(a),t[a]=[],r[a]=1,jD(a,t,r,n))})}catch{delete r[e],Object.keys(r).length===0&&n()}}});var uu=S(ur=>{"use strict";ur.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ur.find=(e,t)=>e.nodes.find(r=>r.type===t);ur.exceedsLimit=(e,t,r=1,n)=>n===!1||!ur.isInteger(e)||!ur.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ur.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ur.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ur.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ur.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ur.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ur.flatten=(...e)=>{let t=[],r=n=>{for(let o=0;o<n.length;o++){let s=n[o];if(Array.isArray(s)){r(s);continue}s!==void 0&&t.push(s)}return t};return r(e),t}});var cu=S((aW,qD)=>{"use strict";var HD=uu();qD.exports=(e,t={})=>{let r=(n,o={})=>{let s=t.escapeInvalid&&HD.isInvalidBrace(o),i=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||i)&&HD.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var KD=S((uW,GD)=>{"use strict";GD.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var rv=S((cW,tv)=>{"use strict";var WD=KD(),no=(e,t,r)=>{if(WD(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(WD(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let o=String(n.relaxZeros),s=String(n.shorthand),i=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+o+s+i+a;if(no.cache.hasOwnProperty(u))return no.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let f=e+"|"+t;return n.capture?`(${f})`:n.wrap===!1?f:`(?:${f})`}let p=ev(e)||ev(t),d={min:e,max:t,a:c,b:l},h=[],m=[];if(p&&(d.isPadded=p,d.maxLen=String(d.max).length),c<0){let f=l<0?Math.abs(l):1;m=ZD(f,Math.abs(c),d,n),c=d.a=0}return l>=0&&(h=ZD(c,l,d,n)),d.negatives=m,d.positives=h,d.result=fk(m,h,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&h.length+m.length>1&&(d.result=`(?:${d.result})`),no.cache[u]=d,d.result};function fk(e,t,r){let n=Xl(e,t,"-",!1,r)||[],o=Xl(t,e,"",!1,r)||[],s=Xl(e,t,"-?",!0,r)||[];return n.concat(s).concat(o).join("|")}function mk(e,t){let r=1,n=1,o=YD(e,r),s=new Set([t]);for(;e<=o&&o<=t;)s.add(o),r+=1,o=YD(e,r);for(o=QD(t+1,n)-1;e<o&&o<=t;)s.add(o),n+=1,o=QD(t+1,n)-1;return s=[...s],s.sort(yk),s}function hk(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=gk(e,t),o=n.length,s="",i=0;for(let a=0;a<o;a++){let[u,c]=n[a];u===c?s+=u:u!=="0"||c!=="9"?s+=Dk(u,c,r):i++}return i&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[i],digits:o}}function ZD(e,t,r,n){let o=mk(e,t),s=[],i=e,a;for(let u=0;u<o.length;u++){let c=o[u],l=hk(String(i),String(c),n),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+XD(a.count),i=c+1;continue}r.isPadded&&(p=vk(c,r,n)),l.string=p+l.pattern+XD(l.count),s.push(l),i=c+1,a=l}return s}function Xl(e,t,r,n,o){let s=[];for(let i of e){let{string:a}=i;!n&&!JD(t,"string",a)&&s.push(r+a),n&&JD(t,"string",a)&&s.push(r+a)}return s}function gk(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function yk(e,t){return e>t?1:t>e?-1:0}function JD(e,t,r){return e.some(n=>n[t]===r)}function YD(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function QD(e,t){return e-e%Math.pow(10,t)}function XD(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Dk(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function ev(e){return/^-?(0+)\d/.test(e)}function vk(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),o=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}no.cache={};no.clearCache=()=>no.cache={};tv.exports=no});var rp=S((lW,cv)=>{"use strict";var Ck=require("util"),ov=rv(),nv=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),wk=e=>t=>e===!0?Number(t):String(t),ep=e=>typeof e=="number"||typeof e=="string"&&e!=="",ns=e=>Number.isInteger(+e),tp=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},bk=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,xk=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},pu=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Sk=(e,t,r)=>{e.negatives.sort((a,u)=>a<u?-1:a>u?1:0),e.positives.sort((a,u)=>a<u?-1:a>u?1:0);let n=t.capture?"":"?:",o="",s="",i;return e.positives.length&&(o=e.positives.map(a=>pu(String(a),r)).join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.map(a=>pu(String(a),r)).join("|")})`),o&&s?i=`${o}|${s}`:i=o||s,t.wrap?`(${n}${i})`:i},iv=(e,t,r,n)=>{if(r)return ov(e,t,{wrap:!1,...n});let o=String.fromCharCode(e);if(e===t)return o;let s=String.fromCharCode(t);return`[${o}-${s}]`},sv=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,o=r.capture?"":"?:";return n?`(${o}${e.join("|")})`:e.join("|")}return ov(e,t,r)},av=(...e)=>new RangeError("Invalid range arguments: "+Ck.inspect(...e)),uv=(e,t,r)=>{if(r.strictRanges===!0)throw av([e,t]);return[]},Ek=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},_k=(e,t,r=1,n={})=>{let o=Number(e),s=Number(t);if(!Number.isInteger(o)||!Number.isInteger(s)){if(n.strictRanges===!0)throw av([e,t]);return[]}o===0&&(o=0),s===0&&(s=0);let i=o>s,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=tp(a)||tp(u)||tp(c),p=l?Math.max(a.length,u.length,c.length):0,d=l===!1&&bk(e,t,n)===!1,h=n.transform||wk(d);if(n.toRegex&&r===1)return iv(pu(e,p),pu(t,p),!0,n);let m={negatives:[],positives:[]},f=b=>m[b<0?"negatives":"positives"].push(Math.abs(b)),g=[],y=0;for(;i?o>=s:o<=s;)n.toRegex===!0&&r>1?f(o):g.push(xk(h(o,y),p,d)),o=i?o-r:o+r,y++;return n.toRegex===!0?r>1?Sk(m,n,p):sv(g,null,{wrap:!1,...n}):g},Pk=(e,t,r=1,n={})=>{if(!ns(e)&&e.length>1||!ns(t)&&t.length>1)return uv(e,t,n);let o=n.transform||(d=>String.fromCharCode(d)),s=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),a=s>i,u=Math.min(s,i),c=Math.max(s,i);if(n.toRegex&&r===1)return iv(u,c,!1,n);let l=[],p=0;for(;a?s>=i:s<=i;)l.push(o(s,p)),s=a?s-r:s+r,p++;return n.toRegex===!0?sv(l,null,{wrap:!1,options:n}):l},lu=(e,t,r,n={})=>{if(t==null&&ep(e))return[e];if(!ep(e)||!ep(t))return uv(e,t,n);if(typeof r=="function")return lu(e,t,1,{transform:r});if(nv(r))return lu(e,t,0,r);let o={...n};return o.capture===!0&&(o.wrap=!0),r=r||o.step||1,ns(r)?ns(e)&&ns(t)?_k(e,t,r,o):Pk(e,t,Math.max(Math.abs(r),1),o):r!=null&&!nv(r)?Ek(r,o):lu(e,t,1,r)};cv.exports=lu});var dv=S((pW,pv)=>{"use strict";var Tk=rp(),lv=uu(),Ak=(e,t={})=>{let r=(n,o={})=>{let s=lv.isInvalidBrace(o),i=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||i===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0)return u+n.value;if(n.isClose===!0)return console.log("node.isClose",u,n.value),u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=lv.reduce(n.nodes),p=Tk(...l,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};pv.exports=Ak});var hv=S((dW,mv)=>{"use strict";var Rk=rp(),fv=cu(),jo=uu(),oo=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?jo.flatten(t).map(o=>`{${o}}`):t;for(let o of e)if(Array.isArray(o))for(let s of o)n.push(oo(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?oo(o,s,r):o+s);return jo.flatten(n)},Fk=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(o,s={})=>{o.queue=[];let i=s,a=s.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(o.invalid||o.dollar){a.push(oo(a.pop(),fv(o,t)));return}if(o.type==="brace"&&o.invalid!==!0&&o.nodes.length===2){a.push(oo(a.pop(),["{}"]));return}if(o.nodes&&o.ranges>0){let p=jo.reduce(o.nodes);if(jo.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=Rk(...p,t);d.length===0&&(d=fv(o,t)),a.push(oo(a.pop(),d)),o.nodes=[];return}let u=jo.encloseBrace(o),c=o.queue,l=o;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let p=0;p<o.nodes.length;p++){let d=o.nodes[p];if(d.type==="comma"&&o.type==="brace"){p===1&&c.push(""),c.push("");continue}if(d.type==="close"){a.push(oo(a.pop(),c,u));continue}if(d.value&&d.type!=="open"){c.push(oo(c.pop(),d.value));continue}d.nodes&&n(d,o)}return c};return jo.flatten(n(e))};mv.exports=Fk});var yv=S((fW,gv)=>{"use strict";gv.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var bv=S((mW,wv)=>{"use strict";var $k=cu(),{MAX_LENGTH:Dv,CHAR_BACKSLASH:np,CHAR_BACKTICK:kk,CHAR_COMMA:Ik,CHAR_DOT:Nk,CHAR_LEFT_PARENTHESES:Ok,CHAR_RIGHT_PARENTHESES:Mk,CHAR_LEFT_CURLY_BRACE:Lk,CHAR_RIGHT_CURLY_BRACE:Bk,CHAR_LEFT_SQUARE_BRACKET:vv,CHAR_RIGHT_SQUARE_BRACKET:Cv,CHAR_DOUBLE_QUOTE:zk,CHAR_SINGLE_QUOTE:jk,CHAR_NO_BREAK_SPACE:Uk,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Vk}=yv(),Hk=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Dv,r.maxLength):Dv;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let o={type:"root",input:e,nodes:[]},s=[o],i=o,a=o,u=0,c=e.length,l=0,p=0,d,h=()=>e[l++],m=f=>{if(f.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&f.type==="text"){a.value+=f.value;return}return i.nodes.push(f),f.parent=i,f.prev=a,a=f,f};for(m({type:"bos"});l<c;)if(i=s[s.length-1],d=h(),!(d===Vk||d===Uk)){if(d===np){m({type:"text",value:(t.keepEscaping?d:"")+h()});continue}if(d===Cv){m({type:"text",value:"\\"+d});continue}if(d===vv){u++;let f;for(;l<c&&(f=h());){if(d+=f,f===vv){u++;continue}if(f===np){d+=h();continue}if(f===Cv&&(u--,u===0))break}m({type:"text",value:d});continue}if(d===Ok){i=m({type:"paren",nodes:[]}),s.push(i),m({type:"text",value:d});continue}if(d===Mk){if(i.type!=="paren"){m({type:"text",value:d});continue}i=s.pop(),m({type:"text",value:d}),i=s[s.length-1];continue}if(d===zk||d===jk||d===kk){let f=d,g;for(t.keepQuotes!==!0&&(d="");l<c&&(g=h());){if(g===np){d+=g+h();continue}if(g===f){t.keepQuotes===!0&&(d+=g);break}d+=g}m({type:"text",value:d});continue}if(d===Lk){p++;let g={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};i=m(g),s.push(i),m({type:"open",value:d});continue}if(d===Bk){if(i.type!=="brace"){m({type:"text",value:d});continue}let f="close";i=s.pop(),i.close=!0,m({type:f,value:d}),p--,i=s[s.length-1];continue}if(d===Ik&&p>0){if(i.ranges>0){i.ranges=0;let f=i.nodes.shift();i.nodes=[f,{type:"text",value:$k(i)}]}m({type:"comma",value:d}),i.commas++;continue}if(d===Nk&&p>0&&i.commas===0){let f=i.nodes;if(p===0||f.length===0){m({type:"text",value:d});continue}if(a.type==="dot"){if(i.range=[],a.value+=d,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){f.pop();let g=f[f.length-1];g.value+=a.value+d,a=g,i.ranges--;continue}m({type:"dot",value:d});continue}m({type:"text",value:d})}do if(i=s.pop(),i.type!=="root"){i.nodes.forEach(y=>{y.nodes||(y.type==="open"&&(y.isOpen=!0),y.type==="close"&&(y.isClose=!0),y.nodes||(y.type="text"),y.invalid=!0)});let f=s[s.length-1],g=f.nodes.indexOf(i);f.nodes.splice(g,1,...i.nodes)}while(s.length>0);return m({type:"eos"}),o};wv.exports=Hk});var Ev=S((hW,Sv)=>{"use strict";var xv=cu(),qk=dv(),Gk=hv(),Kk=bv(),Kt=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let o=Kt.create(n,t);Array.isArray(o)?r.push(...o):r.push(o)}else r=[].concat(Kt.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Kt.parse=(e,t={})=>Kk(e,t);Kt.stringify=(e,t={})=>xv(typeof e=="string"?Kt.parse(e,t):e,t);Kt.compile=(e,t={})=>(typeof e=="string"&&(e=Kt.parse(e,t)),qk(e,t));Kt.expand=(e,t={})=>{typeof e=="string"&&(e=Kt.parse(e,t));let r=Gk(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Kt.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Kt.compile(e,t):Kt.expand(e,t);Sv.exports=Kt});var os=S((gW,Rv)=>{"use strict";var Wk=require("path"),Wr="\\\\/",_v=`[^${Wr}]`,fn="\\.",Zk="\\+",Jk="\\?",du="\\/",Yk="(?=.)",Pv="[^/]",op=`(?:${du}|$)`,Tv=`(?:^|${du})`,ip=`${fn}{1,2}${op}`,Qk=`(?!${fn})`,Xk=`(?!${Tv}${ip})`,eI=`(?!${fn}{0,1}${op})`,tI=`(?!${ip})`,rI=`[^.${du}]`,nI=`${Pv}*?`,Av={DOT_LITERAL:fn,PLUS_LITERAL:Zk,QMARK_LITERAL:Jk,SLASH_LITERAL:du,ONE_CHAR:Yk,QMARK:Pv,END_ANCHOR:op,DOTS_SLASH:ip,NO_DOT:Qk,NO_DOTS:Xk,NO_DOT_SLASH:eI,NO_DOTS_SLASH:tI,QMARK_NO_DOT:rI,STAR:nI,START_ANCHOR:Tv},oI={...Av,SLASH_LITERAL:`[${Wr}]`,QMARK:_v,STAR:`${_v}*?`,DOTS_SLASH:`${fn}{1,2}(?:[${Wr}]|$)`,NO_DOT:`(?!${fn})`,NO_DOTS:`(?!(?:^|[${Wr}])${fn}{1,2}(?:[${Wr}]|$))`,NO_DOT_SLASH:`(?!${fn}{0,1}(?:[${Wr}]|$))`,NO_DOTS_SLASH:`(?!${fn}{1,2}(?:[${Wr}]|$))`,QMARK_NO_DOT:`[^.${Wr}]`,START_ANCHOR:`(?:^|[${Wr}])`,END_ANCHOR:`(?:[${Wr}]|$)`},iI={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Rv.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:iI,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Wk.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?oI:Av}}});var is=S(It=>{"use strict";var sI=require("path"),aI=process.platform==="win32",{REGEX_BACKSLASH:uI,REGEX_REMOVE_BACKSLASH:cI,REGEX_SPECIAL_CHARS:lI,REGEX_SPECIAL_CHARS_GLOBAL:pI}=os();It.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);It.hasRegexChars=e=>lI.test(e);It.isRegexChar=e=>e.length===1&&It.hasRegexChars(e);It.escapeRegex=e=>e.replace(pI,"\\$1");It.toPosixSlashes=e=>e.replace(uI,"/");It.removeBackslashes=e=>e.replace(cI,t=>t==="\\"?"":t);It.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};It.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:aI===!0||sI.sep==="\\";It.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?It.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};It.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};It.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",o=r.contains?"":"$",s=`${n}(?:${e})${o}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Lv=S((DW,Mv)=>{"use strict";var Fv=is(),{CHAR_ASTERISK:sp,CHAR_AT:dI,CHAR_BACKWARD_SLASH:ss,CHAR_COMMA:fI,CHAR_DOT:ap,CHAR_EXCLAMATION_MARK:up,CHAR_FORWARD_SLASH:Ov,CHAR_LEFT_CURLY_BRACE:cp,CHAR_LEFT_PARENTHESES:lp,CHAR_LEFT_SQUARE_BRACKET:mI,CHAR_PLUS:hI,CHAR_QUESTION_MARK:$v,CHAR_RIGHT_CURLY_BRACE:gI,CHAR_RIGHT_PARENTHESES:kv,CHAR_RIGHT_SQUARE_BRACKET:yI}=os(),Iv=e=>e===Ov||e===ss,Nv=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},DI=(e,t)=>{let r=t||{},n=e.length-1,o=r.parts===!0||r.scanToEnd===!0,s=[],i=[],a=[],u=e,c=-1,l=0,p=0,d=!1,h=!1,m=!1,f=!1,g=!1,y=!1,b=!1,w=!1,T=!1,E=!1,R=0,$,I,k={value:"",depth:0,isGlob:!1},F=()=>c>=n,v=()=>u.charCodeAt(c+1),z=()=>($=I,u.charCodeAt(++c));for(;c<n;){I=z();let je;if(I===ss){b=k.backslashes=!0,I=z(),I===cp&&(y=!0);continue}if(y===!0||I===cp){for(R++;F()!==!0&&(I=z());){if(I===ss){b=k.backslashes=!0,z();continue}if(I===cp){R++;continue}if(y!==!0&&I===ap&&(I=z())===ap){if(d=k.isBrace=!0,m=k.isGlob=!0,E=!0,o===!0)continue;break}if(y!==!0&&I===fI){if(d=k.isBrace=!0,m=k.isGlob=!0,E=!0,o===!0)continue;break}if(I===gI&&(R--,R===0)){y=!1,d=k.isBrace=!0,E=!0;break}}if(o===!0)continue;break}if(I===Ov){if(s.push(c),i.push(k),k={value:"",depth:0,isGlob:!1},E===!0)continue;if($===ap&&c===l+1){l+=2;continue}p=c+1;continue}if(r.noext!==!0&&(I===hI||I===dI||I===sp||I===$v||I===up)===!0&&v()===lp){if(m=k.isGlob=!0,f=k.isExtglob=!0,E=!0,I===up&&c===l&&(T=!0),o===!0){for(;F()!==!0&&(I=z());){if(I===ss){b=k.backslashes=!0,I=z();continue}if(I===kv){m=k.isGlob=!0,E=!0;break}}continue}break}if(I===sp){if($===sp&&(g=k.isGlobstar=!0),m=k.isGlob=!0,E=!0,o===!0)continue;break}if(I===$v){if(m=k.isGlob=!0,E=!0,o===!0)continue;break}if(I===mI){for(;F()!==!0&&(je=z());){if(je===ss){b=k.backslashes=!0,z();continue}if(je===yI){h=k.isBracket=!0,m=k.isGlob=!0,E=!0;break}}if(o===!0)continue;break}if(r.nonegate!==!0&&I===up&&c===l){w=k.negated=!0,l++;continue}if(r.noparen!==!0&&I===lp){if(m=k.isGlob=!0,o===!0){for(;F()!==!0&&(I=z());){if(I===lp){b=k.backslashes=!0,I=z();continue}if(I===kv){E=!0;break}}continue}break}if(m===!0){if(E=!0,o===!0)continue;break}}r.noext===!0&&(f=!1,m=!1);let V=u,G="",x="";l>0&&(G=u.slice(0,l),u=u.slice(l),p-=l),V&&m===!0&&p>0?(V=u.slice(0,p),x=u.slice(p)):m===!0?(V="",x=u):V=u,V&&V!==""&&V!=="/"&&V!==u&&Iv(V.charCodeAt(V.length-1))&&(V=V.slice(0,-1)),r.unescape===!0&&(x&&(x=Fv.removeBackslashes(x)),V&&b===!0&&(V=Fv.removeBackslashes(V)));let _={prefix:G,input:e,start:l,base:V,glob:x,isBrace:d,isBracket:h,isGlob:m,isExtglob:f,isGlobstar:g,negated:w,negatedExtglob:T};if(r.tokens===!0&&(_.maxDepth=0,Iv(I)||i.push(k),_.tokens=i),r.parts===!0||r.tokens===!0){let je;for(let de=0;de<s.length;de++){let Fr=je?je+1:l,$r=s[de],Vt=e.slice(Fr,$r);r.tokens&&(de===0&&l!==0?(i[de].isPrefix=!0,i[de].value=G):i[de].value=Vt,Nv(i[de]),_.maxDepth+=i[de].depth),(de!==0||Vt!=="")&&a.push(Vt),je=$r}if(je&&je+1<e.length){let de=e.slice(je+1);a.push(de),r.tokens&&(i[i.length-1].value=de,Nv(i[i.length-1]),_.maxDepth+=i[i.length-1].depth)}_.slashes=s,_.parts=a}return _};Mv.exports=DI});var jv=S((vW,zv)=>{"use strict";var fu=os(),Wt=is(),{MAX_LENGTH:mu,POSIX_REGEX_SOURCE:vI,REGEX_NON_SPECIAL_CHARS:CI,REGEX_SPECIAL_CHARS_BACKREF:wI,REPLACEMENTS:Bv}=fu,bI=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(o=>Wt.escapeRegex(o)).join("..")}return r},Uo=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,pp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Bv[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(mu,r.maxLength):mu,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},i=[s],a=r.capture?"":"?:",u=Wt.isWindows(t),c=fu.globChars(u),l=fu.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:d,SLASH_LITERAL:h,ONE_CHAR:m,DOTS_SLASH:f,NO_DOT:g,NO_DOT_SLASH:y,NO_DOTS_SLASH:b,QMARK:w,QMARK_NO_DOT:T,STAR:E,START_ANCHOR:R}=c,$=L=>`(${a}(?:(?!${R}${L.dot?f:p}).)*?)`,I=r.dot?"":g,k=r.dot?w:T,F=r.bash===!0?$(r):E;r.capture&&(F=`(${F})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let v={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=Wt.removePrefix(e,v),o=e.length;let z=[],V=[],G=[],x=s,_,je=()=>v.index===o-1,de=v.peek=(L=1)=>e[v.index+L],Fr=v.advance=()=>e[++v.index]||"",$r=()=>e.slice(v.index+1),Vt=(L="",Ae=0)=>{v.consumed+=L,v.index+=Ae},Da=L=>{v.output+=L.output!=null?L.output:L.value,Vt(L.value)},tT=()=>{let L=1;for(;de()==="!"&&(de(2)!=="("||de(3)==="?");)Fr(),v.start++,L++;return L%2===0?!1:(v.negated=!0,v.start++,!0)},va=L=>{v[L]++,G.push(L)},Hn=L=>{v[L]--,G.pop()},ne=L=>{if(x.type==="globstar"){let Ae=v.braces>0&&(L.type==="comma"||L.type==="brace"),O=L.extglob===!0||z.length&&(L.type==="pipe"||L.type==="paren");L.type!=="slash"&&L.type!=="paren"&&!Ae&&!O&&(v.output=v.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=F,v.output+=x.output)}if(z.length&&L.type!=="paren"&&(z[z.length-1].inner+=L.value),(L.value||L.output)&&Da(L),x&&x.type==="text"&&L.type==="text"){x.value+=L.value,x.output=(x.output||"")+L.value;return}L.prev=x,i.push(L),x=L},Ca=(L,Ae)=>{let O={...l[Ae],conditions:1,inner:""};O.prev=x,O.parens=v.parens,O.output=v.output;let ee=(r.capture?"(":"")+O.open;va("parens"),ne({type:L,value:Ae,output:v.output?"":m}),ne({type:"paren",extglob:!0,value:Fr(),output:ee}),z.push(O)},rT=L=>{let Ae=L.close+(r.capture?")":""),O;if(L.type==="negate"){let ee=F;if(L.inner&&L.inner.length>1&&L.inner.includes("/")&&(ee=$(r)),(ee!==F||je()||/^\)+$/.test($r()))&&(Ae=L.close=`)$))${ee}`),L.inner.includes("*")&&(O=$r())&&/^\.[^\\/.]+$/.test(O)){let Ue=pp(O,{...t,fastpaths:!1}).output;Ae=L.close=`)${Ue})${ee})`}L.prev.type==="bos"&&(v.negatedExtglob=!0)}ne({type:"paren",extglob:!0,value:_,output:Ae}),Hn("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let L=!1,Ae=e.replace(wI,(O,ee,Ue,bt,Je,Fc)=>bt==="\\"?(L=!0,O):bt==="?"?ee?ee+bt+(Je?w.repeat(Je.length):""):Fc===0?k+(Je?w.repeat(Je.length):""):w.repeat(Ue.length):bt==="."?p.repeat(Ue.length):bt==="*"?ee?ee+bt+(Je?F:""):F:ee?O:`\\${O}`);return L===!0&&(r.unescape===!0?Ae=Ae.replace(/\\/g,""):Ae=Ae.replace(/\\+/g,O=>O.length%2===0?"\\\\":O?"\\":"")),Ae===e&&r.contains===!0?(v.output=e,v):(v.output=Wt.wrapOutput(Ae,v,t),v)}for(;!je();){if(_=Fr(),_==="\0")continue;if(_==="\\"){let O=de();if(O==="/"&&r.bash!==!0||O==="."||O===";")continue;if(!O){_+="\\",ne({type:"text",value:_});continue}let ee=/^\\+/.exec($r()),Ue=0;if(ee&&ee[0].length>2&&(Ue=ee[0].length,v.index+=Ue,Ue%2!==0&&(_+="\\")),r.unescape===!0?_=Fr():_+=Fr(),v.brackets===0){ne({type:"text",value:_});continue}}if(v.brackets>0&&(_!=="]"||x.value==="["||x.value==="[^")){if(r.posix!==!1&&_===":"){let O=x.value.slice(1);if(O.includes("[")&&(x.posix=!0,O.includes(":"))){let ee=x.value.lastIndexOf("["),Ue=x.value.slice(0,ee),bt=x.value.slice(ee+2),Je=vI[bt];if(Je){x.value=Ue+Je,v.backtrack=!0,Fr(),!s.output&&i.indexOf(x)===1&&(s.output=m);continue}}}(_==="["&&de()!==":"||_==="-"&&de()==="]")&&(_=`\\${_}`),_==="]"&&(x.value==="["||x.value==="[^")&&(_=`\\${_}`),r.posix===!0&&_==="!"&&x.value==="["&&(_="^"),x.value+=_,Da({value:_});continue}if(v.quotes===1&&_!=='"'){_=Wt.escapeRegex(_),x.value+=_,Da({value:_});continue}if(_==='"'){v.quotes=v.quotes===1?0:1,r.keepQuotes===!0&&ne({type:"text",value:_});continue}if(_==="("){va("parens"),ne({type:"paren",value:_});continue}if(_===")"){if(v.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Uo("opening","("));let O=z[z.length-1];if(O&&v.parens===O.parens+1){rT(z.pop());continue}ne({type:"paren",value:_,output:v.parens?")":"\\)"}),Hn("parens");continue}if(_==="["){if(r.nobracket===!0||!$r().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Uo("closing","]"));_=`\\${_}`}else va("brackets");ne({type:"bracket",value:_});continue}if(_==="]"){if(r.nobracket===!0||x&&x.type==="bracket"&&x.value.length===1){ne({type:"text",value:_,output:`\\${_}`});continue}if(v.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Uo("opening","["));ne({type:"text",value:_,output:`\\${_}`});continue}Hn("brackets");let O=x.value.slice(1);if(x.posix!==!0&&O[0]==="^"&&!O.includes("/")&&(_=`/${_}`),x.value+=_,Da({value:_}),r.literalBrackets===!1||Wt.hasRegexChars(O))continue;let ee=Wt.escapeRegex(x.value);if(v.output=v.output.slice(0,-x.value.length),r.literalBrackets===!0){v.output+=ee,x.value=ee;continue}x.value=`(${a}${ee}|${x.value})`,v.output+=x.value;continue}if(_==="{"&&r.nobrace!==!0){va("braces");let O={type:"brace",value:_,output:"(",outputIndex:v.output.length,tokensIndex:v.tokens.length};V.push(O),ne(O);continue}if(_==="}"){let O=V[V.length-1];if(r.nobrace===!0||!O){ne({type:"text",value:_,output:_});continue}let ee=")";if(O.dots===!0){let Ue=i.slice(),bt=[];for(let Je=Ue.length-1;Je>=0&&(i.pop(),Ue[Je].type!=="brace");Je--)Ue[Je].type!=="dots"&&bt.unshift(Ue[Je].value);ee=bI(bt,r),v.backtrack=!0}if(O.comma!==!0&&O.dots!==!0){let Ue=v.output.slice(0,O.outputIndex),bt=v.tokens.slice(O.tokensIndex);O.value=O.output="\\{",_=ee="\\}",v.output=Ue;for(let Je of bt)v.output+=Je.output||Je.value}ne({type:"brace",value:_,output:ee}),Hn("braces"),V.pop();continue}if(_==="|"){z.length>0&&z[z.length-1].conditions++,ne({type:"text",value:_});continue}if(_===","){let O=_,ee=V[V.length-1];ee&&G[G.length-1]==="braces"&&(ee.comma=!0,O="|"),ne({type:"comma",value:_,output:O});continue}if(_==="/"){if(x.type==="dot"&&v.index===v.start+1){v.start=v.index+1,v.consumed="",v.output="",i.pop(),x=s;continue}ne({type:"slash",value:_,output:h});continue}if(_==="."){if(v.braces>0&&x.type==="dot"){x.value==="."&&(x.output=p);let O=V[V.length-1];x.type="dots",x.output+=_,x.value+=_,O.dots=!0;continue}if(v.braces+v.parens===0&&x.type!=="bos"&&x.type!=="slash"){ne({type:"text",value:_,output:p});continue}ne({type:"dot",value:_,output:p});continue}if(_==="?"){if(!(x&&x.value==="(")&&r.noextglob!==!0&&de()==="("&&de(2)!=="?"){Ca("qmark",_);continue}if(x&&x.type==="paren"){let ee=de(),Ue=_;if(ee==="<"&&!Wt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(x.value==="("&&!/[!=<:]/.test(ee)||ee==="<"&&!/<([!=]|\w+>)/.test($r()))&&(Ue=`\\${_}`),ne({type:"text",value:_,output:Ue});continue}if(r.dot!==!0&&(x.type==="slash"||x.type==="bos")){ne({type:"qmark",value:_,output:T});continue}ne({type:"qmark",value:_,output:w});continue}if(_==="!"){if(r.noextglob!==!0&&de()==="("&&(de(2)!=="?"||!/[!=<:]/.test(de(3)))){Ca("negate",_);continue}if(r.nonegate!==!0&&v.index===0){tT();continue}}if(_==="+"){if(r.noextglob!==!0&&de()==="("&&de(2)!=="?"){Ca("plus",_);continue}if(x&&x.value==="("||r.regex===!1){ne({type:"plus",value:_,output:d});continue}if(x&&(x.type==="bracket"||x.type==="paren"||x.type==="brace")||v.parens>0){ne({type:"plus",value:_});continue}ne({type:"plus",value:d});continue}if(_==="@"){if(r.noextglob!==!0&&de()==="("&&de(2)!=="?"){ne({type:"at",extglob:!0,value:_,output:""});continue}ne({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);let O=CI.exec($r());O&&(_+=O[0],v.index+=O[0].length),ne({type:"text",value:_});continue}if(x&&(x.type==="globstar"||x.star===!0)){x.type="star",x.star=!0,x.value+=_,x.output=F,v.backtrack=!0,v.globstar=!0,Vt(_);continue}let L=$r();if(r.noextglob!==!0&&/^\([^?]/.test(L)){Ca("star",_);continue}if(x.type==="star"){if(r.noglobstar===!0){Vt(_);continue}let O=x.prev,ee=O.prev,Ue=O.type==="slash"||O.type==="bos",bt=ee&&(ee.type==="star"||ee.type==="globstar");if(r.bash===!0&&(!Ue||L[0]&&L[0]!=="/")){ne({type:"star",value:_,output:""});continue}let Je=v.braces>0&&(O.type==="comma"||O.type==="brace"),Fc=z.length&&(O.type==="pipe"||O.type==="paren");if(!Ue&&O.type!=="paren"&&!Je&&!Fc){ne({type:"star",value:_,output:""});continue}for(;L.slice(0,3)==="/**";){let wa=e[v.index+4];if(wa&&wa!=="/")break;L=L.slice(3),Vt("/**",3)}if(O.type==="bos"&&je()){x.type="globstar",x.value+=_,x.output=$(r),v.output=x.output,v.globstar=!0,Vt(_);continue}if(O.type==="slash"&&O.prev.type!=="bos"&&!bt&&je()){v.output=v.output.slice(0,-(O.output+x.output).length),O.output=`(?:${O.output}`,x.type="globstar",x.output=$(r)+(r.strictSlashes?")":"|$)"),x.value+=_,v.globstar=!0,v.output+=O.output+x.output,Vt(_);continue}if(O.type==="slash"&&O.prev.type!=="bos"&&L[0]==="/"){let wa=L[1]!==void 0?"|$":"";v.output=v.output.slice(0,-(O.output+x.output).length),O.output=`(?:${O.output}`,x.type="globstar",x.output=`${$(r)}${h}|${h}${wa})`,x.value+=_,v.output+=O.output+x.output,v.globstar=!0,Vt(_+Fr()),ne({type:"slash",value:"/",output:""});continue}if(O.type==="bos"&&L[0]==="/"){x.type="globstar",x.value+=_,x.output=`(?:^|${h}|${$(r)}${h})`,v.output=x.output,v.globstar=!0,Vt(_+Fr()),ne({type:"slash",value:"/",output:""});continue}v.output=v.output.slice(0,-x.output.length),x.type="globstar",x.output=$(r),x.value+=_,v.output+=x.output,v.globstar=!0,Vt(_);continue}let Ae={type:"star",value:_,output:F};if(r.bash===!0){Ae.output=".*?",(x.type==="bos"||x.type==="slash")&&(Ae.output=I+Ae.output),ne(Ae);continue}if(x&&(x.type==="bracket"||x.type==="paren")&&r.regex===!0){Ae.output=_,ne(Ae);continue}(v.index===v.start||x.type==="slash"||x.type==="dot")&&(x.type==="dot"?(v.output+=y,x.output+=y):r.dot===!0?(v.output+=b,x.output+=b):(v.output+=I,x.output+=I),de()!=="*"&&(v.output+=m,x.output+=m)),ne(Ae)}for(;v.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uo("closing","]"));v.output=Wt.escapeLast(v.output,"["),Hn("brackets")}for(;v.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uo("closing",")"));v.output=Wt.escapeLast(v.output,"("),Hn("parens")}for(;v.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uo("closing","}"));v.output=Wt.escapeLast(v.output,"{"),Hn("braces")}if(r.strictSlashes!==!0&&(x.type==="star"||x.type==="bracket")&&ne({type:"maybe_slash",value:"",output:`${h}?`}),v.backtrack===!0){v.output="";for(let L of v.tokens)v.output+=L.output!=null?L.output:L.value,L.suffix&&(v.output+=L.suffix)}return v};pp.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(mu,r.maxLength):mu,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);e=Bv[e]||e;let s=Wt.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:d,STAR:h,START_ANCHOR:m}=fu.globChars(s),f=r.dot?p:l,g=r.dot?d:l,y=r.capture?"":"?:",b={negated:!1,prefix:""},w=r.bash===!0?".*?":h;r.capture&&(w=`(${w})`);let T=I=>I.noglobstar===!0?w:`(${y}(?:(?!${m}${I.dot?c:i}).)*?)`,E=I=>{switch(I){case"*":return`${f}${u}${w}`;case".*":return`${i}${u}${w}`;case"*.*":return`${f}${w}${i}${u}${w}`;case"*/*":return`${f}${w}${a}${u}${g}${w}`;case"**":return f+T(r);case"**/*":return`(?:${f}${T(r)}${a})?${g}${u}${w}`;case"**/*.*":return`(?:${f}${T(r)}${a})?${g}${w}${i}${u}${w}`;case"**/.*":return`(?:${f}${T(r)}${a})?${i}${u}${w}`;default:{let k=/^(.*?)\.(\w+)$/.exec(I);if(!k)return;let F=E(k[1]);return F?F+i+k[2]:void 0}}},R=Wt.removePrefix(e,b),$=E(R);return $&&r.strictSlashes!==!0&&($+=`${a}?`),$};zv.exports=pp});var Vv=S((CW,Uv)=>{"use strict";var xI=require("path"),SI=Lv(),dp=jv(),fp=is(),EI=os(),_I=e=>e&&typeof e=="object"&&!Array.isArray(e),qe=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(d=>qe(d,t,r));return d=>{for(let h of l){let m=h(d);if(m)return m}return!1}}let n=_I(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let o=t||{},s=fp.isWindows(t),i=n?qe.compileRe(e,t):qe.makeRe(e,t,!1,!0),a=i.state;delete i.state;let u=()=>!1;if(o.ignore){let l={...t,ignore:null,onMatch:null,onResult:null};u=qe(o.ignore,l,r)}let c=(l,p=!1)=>{let{isMatch:d,match:h,output:m}=qe.test(l,i,t,{glob:e,posix:s}),f={glob:e,state:a,regex:i,posix:s,input:l,output:m,match:h,isMatch:d};return typeof o.onResult=="function"&&o.onResult(f),d===!1?(f.isMatch=!1,p?f:!1):u(l)?(typeof o.onIgnore=="function"&&o.onIgnore(f),f.isMatch=!1,p?f:!1):(typeof o.onMatch=="function"&&o.onMatch(f),p?f:!0)};return r&&(c.state=a),c};qe.test=(e,t,r,{glob:n,posix:o}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},i=s.format||(o?fp.toPosixSlashes:null),a=e===n,u=a&&i?i(e):e;return a===!1&&(u=i?i(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=qe.matchBase(e,t,r,o):a=t.exec(u)),{isMatch:!!a,match:a,output:u}};qe.matchBase=(e,t,r,n=fp.isWindows(r))=>(t instanceof RegExp?t:qe.makeRe(t,r)).test(xI.basename(e));qe.isMatch=(e,t,r)=>qe(t,r)(e);qe.parse=(e,t)=>Array.isArray(e)?e.map(r=>qe.parse(r,t)):dp(e,{...t,fastpaths:!1});qe.scan=(e,t)=>SI(e,t);qe.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let o=t||{},s=o.contains?"":"^",i=o.contains?"":"$",a=`${s}(?:${e.output})${i}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=qe.toRegex(a,t);return n===!0&&(u.state=e),u};qe.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(o.output=dp.fastpaths(e,t)),o.output||(o=dp(e,t)),qe.compileRe(o,t,r,n)};qe.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};qe.constants=EI;Uv.exports=qe});var qv=S((wW,Hv)=>{"use strict";Hv.exports=Vv()});var hp=S((bW,Jv)=>{"use strict";var Kv=require("util"),Wv=Ev(),Zr=qv(),mp=is(),Gv=e=>e===""||e==="./",Zv=e=>{let t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},$e=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,o=new Set,s=new Set,i=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let p=Zr(String(t[l]),{...r,onResult:a},!0),d=p.state.negated||p.state.negatedExtglob;d&&i++;for(let h of e){let m=p(h,!0);(d?!m.isMatch:m.isMatch)&&(d?n.add(m.output):(n.delete(m.output),o.add(m.output)))}}let c=(i===t.length?[...s]:[...o]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return c};$e.match=$e;$e.matcher=(e,t)=>Zr(e,t);$e.isMatch=(e,t,r)=>Zr(t,r)(e);$e.any=$e.isMatch;$e.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,o=[],s=a=>{r.onResult&&r.onResult(a),o.push(a.output)},i=new Set($e(e,t,{...r,onResult:s}));for(let a of o)i.has(a)||n.add(a);return[...n]};$e.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Kv.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>$e.contains(e,n,r));if(typeof t=="string"){if(Gv(e)||Gv(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return $e.isMatch(e,t,{...r,contains:!0})};$e.matchKeys=(e,t,r)=>{if(!mp.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=$e(Object.keys(e),t,r),o={};for(let s of n)o[s]=e[s];return o};$e.some=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=Zr(String(o),r);if(n.some(i=>s(i)))return!0}return!1};$e.every=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=Zr(String(o),r);if(!n.every(i=>s(i)))return!1}return!0};$e.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Kv.inspect(e)}"`);return[].concat(t).every(n=>Zr(n,r)(e))};$e.capture=(e,t,r)=>{let n=mp.isWindows(r),s=Zr.makeRe(String(e),{...r,capture:!0}).exec(n?mp.toPosixSlashes(t):t);if(s)return s.slice(1).map(i=>i===void 0?"":i)};$e.makeRe=(...e)=>Zr.makeRe(...e);$e.scan=(...e)=>Zr.scan(...e);$e.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let o of Wv(String(n),t))r.push(Zr.parse(o,t));return r};$e.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!Zv(e)?[e]:Wv(e,t)};$e.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return $e.braces(e,{...t,expand:!0})};$e.hasBraces=Zv;Jv.exports=$e});var Qv=S((MW,Yv)=>{var Vo=1e3,Ho=Vo*60,qo=Ho*60,io=qo*24,RI=io*7,FI=io*365.25;Yv.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return $I(e);if(r==="number"&&isFinite(e))return t.long?II(e):kI(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function $I(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*FI;case"weeks":case"week":case"w":return r*RI;case"days":case"day":case"d":return r*io;case"hours":case"hour":case"hrs":case"hr":case"h":return r*qo;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ho;case"seconds":case"second":case"secs":case"sec":case"s":return r*Vo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function kI(e){var t=Math.abs(e);return t>=io?Math.round(e/io)+"d":t>=qo?Math.round(e/qo)+"h":t>=Ho?Math.round(e/Ho)+"m":t>=Vo?Math.round(e/Vo)+"s":e+"ms"}function II(e){var t=Math.abs(e);return t>=io?hu(e,t,io,"day"):t>=qo?hu(e,t,qo,"hour"):t>=Ho?hu(e,t,Ho,"minute"):t>=Vo?hu(e,t,Vo,"second"):e+" ms"}function hu(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}});var gp=S((LW,Xv)=>{function NI(e){r.debug=r,r.default=r,r.coerce=u,r.disable=i,r.enable=o,r.enabled=a,r.humanize=Qv(),r.destroy=c,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let p=0;for(let d=0;d<l.length;d++)p=(p<<5)-p+l.charCodeAt(d),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=t;function r(l){let p,d=null,h,m;function f(...g){if(!f.enabled)return;let y=f,b=Number(new Date),w=b-(p||b);y.diff=w,y.prev=p,y.curr=b,p=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let T=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(R,$)=>{if(R==="%%")return"%";T++;let I=r.formatters[$];if(typeof I=="function"){let k=g[T];R=I.call(y,k),g.splice(T,1),T--}return R}),r.formatArgs.call(y,g),(y.log||r.log).apply(y,g)}return f.namespace=l,f.useColors=r.useColors(),f.color=r.selectColor(l),f.extend=n,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==r.namespaces&&(h=r.namespaces,m=r.enabled(l)),m),set:g=>{d=g}}),typeof r.init=="function"&&r.init(f),f}function n(l,p){let d=r(this.namespace+(typeof p>"u"?":":p)+l);return d.log=this.log,d}function o(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of p)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(l,p){let d=0,h=0,m=-1,f=0;for(;d<l.length;)if(h<p.length&&(p[h]===l[d]||p[h]==="*"))p[h]==="*"?(m=h,f=d,h++):(d++,h++);else if(m!==-1)h=m+1,f++,d=f;else return!1;for(;h<p.length&&p[h]==="*";)h++;return h===p.length}function i(){let l=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),l}function a(l){for(let p of r.skips)if(s(l,p))return!1;for(let p of r.names)if(s(l,p))return!0;return!1}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Xv.exports=NI});var eC=S((Nt,gu)=>{Nt.formatArgs=MI;Nt.save=LI;Nt.load=BI;Nt.useColors=OI;Nt.storage=zI();Nt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Nt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function OI(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function MI(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+gu.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),e.splice(n,0,t)}Nt.log=console.debug||console.log||(()=>{});function LI(e){try{e?Nt.storage.setItem("debug",e):Nt.storage.removeItem("debug")}catch{}}function BI(){let e;try{e=Nt.storage.getItem("debug")||Nt.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function zI(){try{return localStorage}catch{}}gu.exports=gp()(Nt);var{formatters:jI}=gu.exports;jI.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var rC=S((BW,tC)=>{"use strict";tC.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}});var iC=S((zW,oC)=>{"use strict";var UI=require("os"),nC=require("tty"),cr=rC(),{env:nt}=process,kn;cr("no-color")||cr("no-colors")||cr("color=false")||cr("color=never")?kn=0:(cr("color")||cr("colors")||cr("color=true")||cr("color=always"))&&(kn=1);"FORCE_COLOR"in nt&&(nt.FORCE_COLOR==="true"?kn=1:nt.FORCE_COLOR==="false"?kn=0:kn=nt.FORCE_COLOR.length===0?1:Math.min(parseInt(nt.FORCE_COLOR,10),3));function yp(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Dp(e,t){if(kn===0)return 0;if(cr("color=16m")||cr("color=full")||cr("color=truecolor"))return 3;if(cr("color=256"))return 2;if(e&&!t&&kn===void 0)return 0;let r=kn||0;if(nt.TERM==="dumb")return r;if(process.platform==="win32"){let n=UI.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in nt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in nt)||nt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in nt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(nt.TEAMCITY_VERSION)?1:0;if(nt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in nt){let n=parseInt((nt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(nt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(nt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(nt.TERM)||"COLORTERM"in nt?1:r}function VI(e){let t=Dp(e,e&&e.isTTY);return yp(t)}oC.exports={supportsColor:VI,stdout:yp(Dp(!0,nC.isatty(1))),stderr:yp(Dp(!0,nC.isatty(2)))}});var aC=S((ot,Du)=>{var HI=require("tty"),yu=require("util");ot.init=YI;ot.log=WI;ot.formatArgs=GI;ot.save=ZI;ot.load=JI;ot.useColors=qI;ot.destroy=yu.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ot.colors=[6,2,3,4,5,1];try{let e=iC();e&&(e.stderr||e).level>=2&&(ot.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ot.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function qI(){return"colors"in ot.inspectOpts?!!ot.inspectOpts.colors:HI.isatty(process.stderr.fd)}function GI(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${o};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(o+"m+"+Du.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=KI()+t+" "+e[0]}function KI(){return ot.inspectOpts.hideDate?"":new Date().toISOString()+" "}function WI(...e){return process.stderr.write(yu.formatWithOptions(ot.inspectOpts,...e)+`
`)}function ZI(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function JI(){return process.env.DEBUG}function YI(e){e.inspectOpts={};let t=Object.keys(ot.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ot.inspectOpts[t[r]]}Du.exports=gp()(ot);var{formatters:sC}=Du.exports;sC.o=function(e){return this.inspectOpts.colors=this.useColors,yu.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};sC.O=function(e){return this.inspectOpts.colors=this.useColors,yu.inspect(e,this.inspectOpts)}});var vu=S((jW,vp)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?vp.exports=eC():vp.exports=aC()});var cC=S((UW,uC)=>{var as;uC.exports=function(){if(!as){try{as=vu()("follow-redirects")}catch{}typeof as!="function"&&(as=function(){})}as.apply(null,arguments)}});var mC=S((VW,Fp)=>{var cs=require("url"),us=cs.URL,QI=require("http"),XI=require("https"),Sp=require("stream").Writable,Ep=require("assert"),lC=cC();(function(){var t=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=ao(Error.captureStackTrace);!t&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var _p=!1;try{Ep(new us(""))}catch(e){_p=e.code==="ERR_INVALID_URL"}var e1=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Pp=["abort","aborted","connect","error","socket","timeout"],Tp=Object.create(null);Pp.forEach(function(e){Tp[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var wp=ls("ERR_INVALID_URL","Invalid URL",TypeError),bp=ls("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),t1=ls("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",bp),r1=ls("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),n1=ls("ERR_STREAM_WRITE_AFTER_END","write after end"),o1=Sp.prototype.destroy||dC;function Ot(e,t){Sp.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(o){r.emit("error",o instanceof bp?o:new bp({cause:o}))}},this._performRequest()}Ot.prototype=Object.create(Sp.prototype);Ot.prototype.abort=function(){Rp(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Ot.prototype.destroy=function(e){return Rp(this._currentRequest,e),o1.call(this,e),this};Ot.prototype.write=function(e,t,r){if(this._ending)throw new n1;if(!so(e)&&!a1(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(ao(t)&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new r1),this.abort())};Ot.prototype.end=function(e,t,r){if(ao(e)?(r=e,e=t=null):ao(t)&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,o=this._currentRequest;this.write(e,t,function(){n._ended=!0,o.end(null,null,r)}),this._ending=!0}};Ot.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Ot.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Ot.prototype.setTimeout=function(e,t){var r=this;function n(i){i.setTimeout(e),i.removeListener("timeout",i.destroy),i.addListener("timeout",i.destroy)}function o(i){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),s()},e),n(i)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),r.removeListener("close",s),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.on("abort",s),this.on("error",s),this.on("response",s),this.on("close",s),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Ot.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Ot.prototype,e,{get:function(){return this._currentRequest[e]}})});Ot.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Ot.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);n._redirectable=this;for(var o of Pp)n.on(o,Tp[o]);if(this._currentUrl=/^\//.test(this._options.path)?cs.format(this._options):this._options.path,this._isRedirect){var s=0,i=this,a=this._requestBodyBuffers;(function u(c){if(n===i._currentRequest)if(c)i.emit("error",c);else if(s<a.length){var l=a[s++];n.finished||n.write(l.data,l.encoding,u)}else i._ended&&n.end()})()}};Ot.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(Rp(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new t1;var n,o=this._options.beforeRedirect;o&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var s=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Cp(/^content-/i,this._options.headers));var i=Cp(/^host$/i,this._options.headers),a=Ap(this._currentUrl),u=i||a.host,c=/^\w+:/.test(r)?this._currentUrl:cs.format(Object.assign(a,{host:u})),l=i1(r,c);if(lC("redirecting to",l.href),this._isRedirect=!0,xp(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==u&&!s1(l.host,u))&&Cp(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),ao(o)){var p={headers:e.headers,statusCode:t},d={url:c,method:s,headers:n};o(this._options,p,d),this._sanitizeOptions(this._options)}this._performRequest()};function pC(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(n){var o=n+":",s=r[o]=e[n],i=t[n]=Object.create(s);function a(c,l,p){return u1(c)?c=xp(c):so(c)?c=xp(Ap(c)):(p=l,l=fC(c),c={protocol:o}),ao(l)&&(p=l,l=null),l=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},c,l),l.nativeProtocols=r,!so(l.host)&&!so(l.hostname)&&(l.hostname="::1"),Ep.equal(l.protocol,o,"protocol mismatch"),lC("options",l),new Ot(l,p)}function u(c,l,p){var d=i.request(c,l,p);return d.end(),d}Object.defineProperties(i,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),t}function dC(){}function Ap(e){var t;if(_p)t=new us(e);else if(t=fC(cs.parse(e)),!so(t.protocol))throw new wp({input:e});return t}function i1(e,t){return _p?new us(e,t):Ap(cs.resolve(t,e))}function fC(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new wp({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new wp({input:e.href||e});return e}function xp(e,t){var r=t||{};for(var n of e1)r[n]=e[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Cp(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function ls(e,t,r){function n(o){ao(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,o||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function Rp(e,t){for(var r of Pp)e.removeListener(r,Tp[r]);e.on("error",dC),e.destroy(t)}function s1(e,t){Ep(so(e)&&so(t));var r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}function so(e){return typeof e=="string"||e instanceof String}function ao(e){return typeof e=="function"}function a1(e){return typeof e=="object"&&"length"in e}function u1(e){return us&&e instanceof us}Fp.exports=pC({http:QI,https:XI});Fp.exports.wrap=pC});var ps=S(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.isSSL=void 0;Zt.setupOutgoing=d1;Zt.setupSocket=f1;Zt.getPort=m1;Zt.hasEncryptedConnection=yC;Zt.urlJoin=DC;Zt.rewriteCookieProperty=vC;Zt.toURL=CC;var c1=require("node:tls"),l1=/(^|,)\s*upgrade\s*($|,)/i;Zt.isSSL=/^https|wss/;var p1="trailer",hC=[":method",":path",":scheme",":authority","connection","keep-alive"];function d1(e,t,r,n){let o=t[n||"target"];e.port=+(o.port??(o.protocol!==void 0&&Zt.isSSL.test(o.protocol)?443:80));for(let a of["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"])e[a]=o[a];e.method=t.method||r.method,e.headers={...r.headers},r.headers?.[":authority"]&&(e.headers.host=r.headers[":authority"]),t.headers&&(e.headers={...e.headers,...t.headers});for(let a in e.headers)if(p1==a.toLowerCase()){delete e.headers[a];break}if(r.httpVersionMajor>1)for(let a of hC)delete e.headers[a];t.auth&&(delete e.headers.authorization,e.auth=t.auth),t.ca&&(e.ca=t.ca),o.protocol!==void 0&&Zt.isSSL.test(o.protocol)&&(e.rejectUnauthorized=typeof t.secure>"u"?!0:t.secure),e.agent=t.agent||!1,e.localAddress=t.localAddress,e.agent||(e.headers=e.headers||{},(typeof e.headers.connection!="string"||!l1.test(e.headers.connection))&&(e.headers.connection="close"));let s=o&&t.prependPath!==!1&&"pathname"in o?gC(`${o.pathname}${o.search??""}`):"/",i=t.toProxy?r.url:gC(r.url);if(i=t.ignorePath?"":i,e.path=DC(s,i??""),t.changeOrigin&&(e.headers.host=o.protocol!==void 0&&g1(e.port,o.protocol)&&!h1(e.host)?e.host+":"+e.port:e.host),e.url="href"in o&&o.href||(o.protocol==="https"?"https":"http")+"://"+e.host+(e.port?":"+e.port:""),r.httpVersionMajor>1)for(let a of hC)delete e.headers[a];return e}function f1(e){return e.setTimeout(0),e.setNoDelay(!0),e.setKeepAlive(!0,0),e}function m1(e){let t=e.headers[":authority"]||e.headers.host,r=t?t.match(/:(\d+)/):"";return r?r[1]:yC(e)?"443":"80"}function yC(e){let t=e.connection;return t instanceof c1.TLSSocket&&t.encrypted||!!t.pair}function DC(...e){let t=[],r="";e.forEach((o,s)=>{let i=o.indexOf("?");i!==-1&&(t.push(o.substring(i+1)),e[s]=o.substring(0,i))}),r=t.filter(Boolean).join("&");let n="";for(let o of e)o&&(n.endsWith("/")?o.startsWith("/")?n+=o.slice(1):n+=o:o.startsWith("/")?n+=o:n+="/"+o);return r?n+"?"+r:n}function vC(e,t,r){return Array.isArray(e)?e.map(n=>vC(n,t,r)):e.replace(new RegExp("(;\\s*"+r+"=)([^;]+)","i"),(n,o,s)=>{let i;if(s in t)i=t[s];else if("*"in t)i=t["*"];else return n;return i?o+i:""})}function h1(e){return!!~e.indexOf(":")}function gC(e){if(e===""||e?.startsWith("?"))return e;let t=CC(e);return`${t.pathname??""}${t.search??""}`}function CC(e){return e instanceof URL?e:(typeof e=="object"&&"href"in e&&typeof e.href=="string"&&(e=e.href),e||(e=""),typeof e!="string"&&(e=`${e}`),e.startsWith("//")&&(e=`http://base.invalid${e}`),new URL(e,"http://base.invalid"))}function g1(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443}return e!==0}});var $p=S(_t=>{"use strict";var y1=_t&&_t.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),D1=_t&&_t.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),v1=_t&&_t.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&y1(r,t,n[o]);return D1(r,t),r}})();Object.defineProperty(_t,"__esModule",{value:!0});_t.OUTGOING_PASSES=void 0;_t.removeChunked=wC;_t.setConnection=bC;_t.setRedirectHostRewrite=xC;_t.writeHeaders=SC;_t.writeStatusCode=EC;var Cu=v1(ps()),C1=/^201|30(1|2|7|8)$/;function wC(e,t,r){delete r.headers["transfer-encoding"]}function bC(e,t,r){e.httpVersion==="1.0"?r.headers.connection=e.headers.connection||"close":e.httpVersion!=="2.0"&&!r.headers.connection&&(r.headers.connection=e.headers.connection||"keep-alive")}function xC(e,t,r,n){if((n.hostRewrite||n.autoRewrite||n.protocolRewrite)&&r.headers.location&&C1.test(`${r.statusCode}`)){let o=Cu.toURL(n.target),s=r.headers.location;if(typeof s!="string")return;let i=Cu.toURL(s);if(o.host!=i.host)return;n.hostRewrite?i.host=n.hostRewrite:n.autoRewrite&&(i.host=e.headers[":authority"]??e.headers.host??""),n.protocolRewrite&&(i.protocol=n.protocolRewrite),r.headers.location=i.toString()}}function SC(e,t,r,n){let o=typeof n.cookieDomainRewrite=="string"?{"*":n.cookieDomainRewrite}:n.cookieDomainRewrite,s=typeof n.cookiePathRewrite=="string"?{"*":n.cookiePathRewrite}:n.cookiePathRewrite,i=n.preserveHeaderKeyCase,a=(c,l)=>{l!=null&&(o&&c.toLowerCase()==="set-cookie"&&(l=Cu.rewriteCookieProperty(l,o,"domain")),s&&c.toLowerCase()==="set-cookie"&&(l=Cu.rewriteCookieProperty(l,s,"path")),t.setHeader(String(c).trim(),l))},u;if(i&&r.rawHeaders!=null){u={};for(let c=0;c<r.rawHeaders.length;c+=2){let l=r.rawHeaders[c];u[l.toLowerCase()]=l}}for(let c in r.headers){let l=c;if(e.httpVersionMajor>1&&(l==="connection"||l==="keep-alive"))continue;let p=r.headers[l];i&&u&&(l=u[l]??l),a(l,p)}}function EC(e,t,r){t.statusCode=r.statusCode,r.statusMessage&&e.httpVersionMajor===1&&(t.statusMessage=r.statusMessage)}_t.OUTGOING_PASSES={removeChunked:wC,setConnection:bC,setRedirectHostRewrite:xC,writeHeaders:SC,writeStatusCode:EC}});var FC=S(Mt=>{"use strict";var w1=Mt&&Mt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),b1=Mt&&Mt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),wu=Mt&&Mt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&w1(r,t,n[o]);return b1(r,t),r}})();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.WEB_PASSES=void 0;Mt.deleteLength=PC;Mt.timeout=TC;Mt.XHeaders=AC;Mt.stream=RC;var x1=wu(require("node:http")),S1=wu(require("node:https")),E1=wu(mC()),Go=wu(ps()),_1=$p(),P1=require("node:stream"),_C=Object.values(_1.OUTGOING_PASSES),T1={http:x1,https:S1};function PC(e){(e.method==="DELETE"||e.method==="OPTIONS")&&!e.headers["content-length"]&&(e.headers["content-length"]="0",delete e.headers["transfer-encoding"])}function TC(e,t,r){r.timeout&&e.socket.setTimeout(r.timeout)}function AC(e,t,r){if(!r.xfwd)return;let n=Go.hasEncryptedConnection(e),o={for:e.connection.remoteAddress||e.socket.remoteAddress,port:Go.getPort(e),proto:n?"https":"http"};for(let s of["for","port","proto"])e.headers["x-forwarded-"+s]=(e.headers["x-forwarded-"+s]||"")+(e.headers["x-forwarded-"+s]?",":"")+o[s];e.headers["x-forwarded-host"]=e.headers["x-forwarded-host"]||e.headers[":authority"]||e.headers.host||""}function RC(e,t,r,n,o,s){if(o.emit("start",e,t,r.target||r.forward),r.fetch||r.fetchOptions||process.env.FORCE_FETCH_PATH==="true")return A1(e,t,r,n,o,s);let i=r.followRedirects?E1:T1,a=i.http,u=i.https;if(r.forward){let m=r.forward.protocol==="https:"?u:a,f=Go.setupOutgoing(r.ssl||{},r,e,"forward"),g=m.request(f),y=h(g,r.forward);if(e.on("error",y),g.on("error",y),(r.buffer||e).pipe(g),!r.target)return t.end()}let c=r.target.protocol==="https:"?u:a,l=Go.setupOutgoing(r.ssl||{},r,e),p=c.request(l);p.on("socket",m=>{o&&!p.getHeader("expect")&&o.emit("proxyReq",p,e,t,r,m)}),r.proxyTimeout&&p.setTimeout(r.proxyTimeout,()=>{p.destroy()}),t.on("close",()=>{!t.writableFinished&&p.destroy()});let d=h(p,r.target);e.on("error",d),p.on("error",d);function h(m,f){return g=>{if(e.socket.destroyed&&g.code==="ECONNRESET"){o.emit("econnreset",g,e,t,f),m.destroy();return}s?s(g,e,t,f):o.emit("error",g,e,t,f)}}(r.buffer||e).pipe(p),p.on("response",m=>{if(o?.emit("proxyRes",m,e,t),!t.headersSent&&!r.selfHandleResponse)for(let f of _C)f(e,t,m,r);t.finished?o?.emit("end",e,t,m):(m.on("end",()=>{o?.emit("end",e,t,m)}),r.selfHandleResponse||m.pipe(t))})}async function A1(e,t,r,n,o,s){let i=(h,m)=>{let f=h;f.code===void 0&&f.cause?.code&&(f.code=f.cause.code),s?s(h,e,t,m):o.emit("error",h,e,t,m)};e.on("error",h=>{if(e.socket.destroyed&&h.code==="ECONNRESET"){let m=r.target||r.forward;m&&o.emit("econnreset",h,e,t,m);return}i(h)});let a=r.fetch||fetch,u=r.fetchOptions??{},c=h=>{let m={method:h.method,...u.requestOptions},f=new Headers(u.requestOptions?.headers);if(!u.requestOptions?.headers&&h.headers){for(let[g,y]of Object.entries(h.headers))if(typeof g=="string")if(Array.isArray(y))for(let b of y)f.append(g,b);else y!=null&&f.append(g,y)}return r.auth&&f.set("authorization",`Basic ${Buffer.from(r.auth).toString("base64")}`),r.proxyTimeout&&(m.signal=AbortSignal.timeout(r.proxyTimeout)),m.headers=f,r.buffer?m.body=r.buffer:e.method!=="GET"&&e.method!=="HEAD"&&(m.body=e,m.duplex="half"),m};if(r.forward){let h=Go.setupOutgoing(r.ssl||{},r,e,"forward"),m=c(h),f=new URL(h.url).origin+h.path;if(f.startsWith("ws")&&(f=f.replace("ws","http")),u.onBeforeRequest)try{await u.onBeforeRequest(m,e,t,r)}catch(g){i(g,r.forward);return}try{let g=await a(f,m);if(u.onAfterResponse)try{await u.onAfterResponse(g,e,t,r)}catch(y){i(y,r.forward);return}}catch(g){i(g,r.forward)}if(!r.target)return t.end()}let l=Go.setupOutgoing(r.ssl||{},r,e),p=c(l),d=new URL(l.url).origin+l.path;if(d.startsWith("ws")&&(d=d.replace("ws","http")),u.onBeforeRequest)try{await u.onBeforeRequest(p,e,t,r)}catch(h){i(h,r.target);return}try{let h=await a(d,p);if(u.onAfterResponse)try{await u.onAfterResponse(h,e,t,r)}catch(f){i(f,r.target);return}let m={statusCode:h.status,statusMessage:h.statusText,headers:Object.fromEntries(h.headers.entries()),rawHeaders:Object.entries(h.headers).flatMap(([f,g])=>Array.isArray(g)?g.flatMap(y=>y!=null?[f,y]:[]):g!=null?[f,g]:[])};if(o?.emit("proxyRes",m,e,t),!t.headersSent&&!r.selfHandleResponse)for(let f of _C)f(e,t,m,r);if(t.writableEnded)o?.emit("end",e,t,m);else{let f=h.body?P1.Readable.from(h.body):null;f?(f.on("error",g=>{i(g,r.target)}),f.on("end",()=>{o?.emit("end",e,t,m)}),r.selfHandleResponse?f.resume():f.pipe(t,{end:!0})):o?.emit("end",e,t,m)}}catch(h){i(h,r.target)}}Mt.WEB_PASSES={deleteLength:PC,timeout:TC,XHeaders:AC,stream:RC}});var Mp=S(yt=>{"use strict";var R1=yt&&yt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),F1=yt&&yt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Op=yt&&yt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&R1(r,t,n[o]);return F1(r,t),r}})(),$1=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.WS_PASSES=void 0;yt.numOpenSockets=L1;yt.checkMethodAndHeader=kC;yt.XHeaders=IC;yt.stream=NC;var k1=Op(require("node:http")),I1=Op(require("node:https")),Ko=Op(ps()),N1=$p(),O1=$1(vu()),Wo=(0,O1.default)("http-proxy-3:ws-incoming"),M1=Object.values(N1.OUTGOING_PASSES);function $C(e){let t=new Set;return({add:r,rm:n}={})=>(r&&(r.id||(r.id=Math.random()),t.has(r.id)||t.add(r.id)),n&&(n.id||(n.id=Math.random()),t.has(n.id)&&t.delete(n.id)),Wo("socket counter:",{[e]:t.size},r?"add":n?"rm":""),t.size)}var kp=$C("socket"),Ip=$C("proxySocket"),Np=class{constructor(){this.headers={},this.statusCode=200,this.statusMessage=""}setHeader(t,r){return this.headers[t]=r,this}};function L1(){return kp()+Ip()}function kC(e,t){if(Wo("websocket: checkMethodAndHeader"),e.method!=="GET"||!e.headers.upgrade||e.headers.upgrade.toLowerCase()!=="websocket")return t.destroy(),!0}function IC(e,t,r){if(!r.xfwd)return;Wo("websocket: XHeaders");let n={for:e.connection.remoteAddress||e.socket.remoteAddress,port:Ko.getPort(e),proto:Ko.hasEncryptedConnection(e)?"wss":"ws"};for(let o of["for","port","proto"])e.headers["x-forwarded-"+o]=(e.headers["x-forwarded-"+o]||"")+(e.headers["x-forwarded-"+o]?",":"")+n[o]}function NC(e,t,r,n,o,s){Wo("websocket: new stream");let i=[];kp({add:t});let a=()=>{for(let h of i)h.end()};t.on("close",()=>{kp({rm:t}),a()}),t.on("error",a);let u=(h,m)=>Object.keys(m).reduce((f,g)=>{let y=m[g];if(!Array.isArray(y))return f.push(g+": "+y),f;for(let b=0;b<y.length;b++)f.push(g+": "+y[b]);return f},[h]).join(`\r
`)+`\r
\r
`;Ko.setupSocket(t),n&&n.length&&t.unshift(n);let c=Ko.isSSL.test(r.target.protocol)?I1:k1,l=Ko.setupOutgoing(r.ssl||{},r,e),p=c.request(l);o&&o.emit("proxyReqWs",p,e,t,r,n),p.on("error",d),p.on("upgrade",(h,m,f)=>{Wo("upgrade"),Ip({add:m}),i.push(m),m.on("close",()=>{Ip({rm:m})}),m.on("error",d),m.on("end",()=>{o.emit("close",h,m,f)}),m.on("close",()=>{t.end()}),Ko.setupSocket(m),f&&f.length&&m.unshift(f),t.write(u("HTTP/1.1 101 Switching Protocols",h.headers)),m.pipe(t).pipe(m),o.emit("open",m)});function d(h){s?s(h,e,t):o.emit("error",h,e,t),t.destroySoon()}p.on("response",h=>{Wo("got non-ws HTTP response",{statusCode:h.statusCode,statusMessage:h.statusMessage});let m=new Np;for(let y of M1)y(e,m,h,r);let f=y=>{t.write(y)};e.httpVersion==="1.1"&&h.headers["content-length"]===void 0&&(m.headers["transfer-encoding"]="chunked",f=y=>{t.write(y.length.toString(16)),t.write(`\r
`),t.write(y),t.write(`\r
`)});let g=u(`HTTP/${e.httpVersion} ${h.statusCode} ${h.statusMessage}`,m.headers);t.destroyed?h.resume():(t.write(g),h.on("data",y=>{f(y)}),h.on("end",()=>{f(""),t.destroySoon()}))}),p.end()}yt.WS_PASSES={checkMethodAndHeader:kC,XHeaders:IC,stream:NC}});var MC=S(lr=>{"use strict";var B1=lr&&lr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),z1=lr&&lr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),OC=lr&&lr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&B1(r,t,n[o]);return z1(r,t),r}})(),j1=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0});lr.ProxyServer=void 0;var U1=OC(require("node:http")),V1=OC(require("node:http2")),H1=FC(),q1=Mp(),G1=require("node:events"),K1=j1(vu()),W1=ps(),bu=(0,K1.default)("http-proxy-3"),Lp=class e extends G1.EventEmitter{constructor(t={}){super(),this.createRightProxy=r=>(bu("createRightProxy",{type:r}),n=>(...o)=>{let s=o[0];bu("proxy: ",{type:r,path:s.url});let i=o[1],a=r==="ws"?this.wsPasses:this.webPasses;r=="ws"&&i.on("error",d=>{this.emit("error",d,s,i)});let u=o.length-1,c,l;typeof o[u]=="function"&&(l=o[u],u--);let p;!(o[u]instanceof Buffer)&&o[u]!==i?(p={...n,...o[u]},u--):p={...n},o[u]instanceof Buffer&&(c=o[u]);for(let d of["target","forward"])typeof p[d]=="string"&&(p[d]=(0,W1.toURL)(p[d]));if(!p.target&&!p.forward){this.emit("error",new Error("Must set target or forward"),s,i);return}for(let d of a)if(d(s,i,p,c,this,l))break}),this.onError=r=>{if(this.listeners("error").length===1)throw r},this.listen=(r,n)=>{bu("listen",{port:r,hostname:n});let o=(s,i)=>{this.web(s,i)};return this._server=this.options.ssl?V1.createSecureServer({...this.options.ssl,allowHTTP1:!0},o):U1.createServer(o),this.options.ws&&this._server.on("upgrade",(s,i,a)=>{this.ws(s,i,a)}),this._server.listen(r,n),this},this.address=()=>this._server?.address(),this.close=r=>{if(this._server==null){r?.();return}this._server.close(n=>{this._server=null,r?.(n)})},this.before=(r,n,o)=>{if(r!=="ws"&&r!=="web")throw new Error("type must be `web` or `ws`");let s=r==="ws"?this.wsPasses:this.webPasses,i=!1;if(s.forEach((a,u)=>{a.name===n&&(i=u)}),i===!1)throw new Error("No such pass");s.splice(i,0,o)},this.after=(r,n,o)=>{if(r!=="ws"&&r!=="web")throw new Error("type must be `web` or `ws`");let s=r==="ws"?this.wsPasses:this.webPasses,i=!1;if(s.forEach((a,u)=>{a.name===n&&(i=u)}),i===!1)throw new Error("No such pass");s.splice(i++,0,o)},bu("creating a ProxyServer",t),t.prependPath=t.prependPath!==!1,this.options=t,this.web=this.createRightProxy("web")(t),this.ws=this.createRightProxy("ws")(t),this.webPasses=Object.values(H1.WEB_PASSES),this.wsPasses=Object.values(q1.WS_PASSES),this.on("error",this.onError)}static createProxyServer(t){return new e(t)}static createServer(t){return new e(t)}static createProxy(t){return new e(t)}};lr.ProxyServer=Lp});var LC=S(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.numOpenSockets=Jr.ProxyServer=void 0;Jr.createProxyServer=zp;Jr.createServer=zp;Jr.createProxy=zp;var Bp=MC();Object.defineProperty(Jr,"ProxyServer",{enumerable:!0,get:function(){return Bp.ProxyServer}});var Z1=Mp();Object.defineProperty(Jr,"numOpenSockets",{enumerable:!0,get:function(){return Z1.numOpenSockets}});function zp(e={}){return new Bp.ProxyServer(e)}Jr.default=Bp.ProxyServer});var jC=S(jp=>{"use strict";jp.parse=rN;jp.serialize=nN;var J1=Object.prototype.toString,Y1=Object.prototype.hasOwnProperty,Q1=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,X1=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,eN=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tN=/^[\u0020-\u003A\u003D-\u007E]*$/;function rN(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var o=t&&t.decode||oN,s=0,i=0,a=0;do{if(i=e.indexOf("=",s),i===-1)break;if(a=e.indexOf(";",s),a===-1)a=n;else if(i>a){s=e.lastIndexOf(";",i-1)+1;continue}var u=BC(e,s,i),c=zC(e,i,u),l=e.slice(u,c);if(!Y1.call(r,l)){var p=BC(e,i+1,a),d=zC(e,a,p);e.charCodeAt(p)===34&&e.charCodeAt(d-1)===34&&(p++,d--);var h=e.slice(p,d);r[l]=sN(h,o)}s=a+1}while(s<n);return r}function BC(e,t,r){do{var n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function zC(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function nN(e,t,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!Q1.test(e))throw new TypeError("argument name is invalid");var o=n(t);if(!X1.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(!r)return s;if(r.maxAge!=null){var i=Math.floor(r.maxAge);if(!isFinite(i))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+i}if(r.domain){if(!eN.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!tN.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){var a=r.expires;if(!iN(a)||isNaN(a.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+a.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority){var u=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(u){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var c=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function oN(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function iN(e){return J1.call(e)==="[object Date]"}function sN(e,t){try{return t(e)}catch{return e}}});var HC=S(xu=>{var VC=require("crypto");xu.sign=function(e,t){if(typeof e!="string")throw new TypeError("Cookie value must be provided as a string.");if(typeof t!="string")throw new TypeError("Secret string must be provided.");return e+"."+VC.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")};xu.unsign=function(e,t){if(typeof e!="string")throw new TypeError("Signed cookie string must be provided.");if(typeof t!="string")throw new TypeError("Secret string must be provided.");var r=e.slice(0,e.lastIndexOf(".")),n=xu.sign(r,t);return UC(n)==UC(e)?r:!1};function UC(e){return VC.createHash("sha1").update(e).digest("hex")}});var WC=S((QW,Zo)=>{"use strict";var aN=jC(),uN=HC();Zo.exports=cN;Zo.exports.JSONCookie=qC;Zo.exports.JSONCookies=Up;Zo.exports.signedCookie=GC;Zo.exports.signedCookies=KC;function cN(e,t){var r=!e||Array.isArray(e)?e||[]:[e];return function(o,s,i){if(o.cookies)return i();var a=o.headers.cookie;if(o.secret=r[0],o.cookies=Object.create(null),o.signedCookies=Object.create(null),!a)return i();o.cookies=aN.parse(a,t),r.length!==0&&(o.signedCookies=KC(o.cookies,r),o.signedCookies=Up(o.signedCookies)),o.cookies=Up(o.cookies),i()}}function qC(e){if(!(typeof e!="string"||e.substr(0,2)!=="j:"))try{return JSON.parse(e.slice(2))}catch{return}}function Up(e){for(var t=Object.keys(e),r,n,o=0;o<t.length;o++)r=t[o],n=qC(e[r]),n&&(e[r]=n);return e}function GC(e,t){if(typeof e=="string"){if(e.substr(0,2)!=="s:")return e;for(var r=!t||Array.isArray(t)?t||[]:[t],n=0;n<r.length;n++){var o=uN.unsign(e.slice(2),r[n]);if(o!==!1)return o}return!1}}function KC(e,t){for(var r=Object.keys(e),n,o,s=Object.create(null),i,a=0;a<r.length;a++)o=r[a],i=e[o],n=GC(i,t),i!==n&&(s[o]=n,delete e[o]);return s}});var Fs=S(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.regexpCode=le.getEsmExportName=le.getProperty=le.safeStringify=le.stringify=le.strConcat=le.addCodeArg=le.str=le._=le.nil=le._Code=le.Name=le.IDENTIFIER=le._CodeOrName=void 0;var As=class{};le._CodeOrName=As;le.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var po=class extends As{constructor(t){if(super(),!le.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};le.Name=po;var fr=class extends As{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof po&&(r[n.str]=(r[n.str]||0)+1),r),{})}};le._Code=fr;le.nil=new fr("");function e0(e,...t){let r=[e[0]],n=0;for(;n<t.length;)cf(r,t[n]),r.push(e[++n]);return new fr(r)}le._=e0;var uf=new fr("+");function t0(e,...t){let r=[Rs(e[0])],n=0;for(;n<t.length;)r.push(uf),cf(r,t[n]),r.push(uf,Rs(e[++n]));return jM(r),new fr(r)}le.str=t0;function cf(e,t){t instanceof fr?e.push(...t._items):t instanceof po?e.push(t):e.push(HM(t))}le.addCodeArg=cf;function jM(e){let t=1;for(;t<e.length-1;){if(e[t]===uf){let r=UM(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function UM(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof po||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof po))return`"${e}${t.slice(1)}`}function VM(e,t){return t.emptyStr()?e:e.emptyStr()?t:t0`${e}${t}`}le.strConcat=VM;function HM(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:Rs(Array.isArray(e)?e.join(","):e)}function qM(e){return new fr(Rs(e))}le.stringify=qM;function Rs(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}le.safeStringify=Rs;function GM(e){return typeof e=="string"&&le.IDENTIFIER.test(e)?new fr(`.${e}`):e0`[${e}]`}le.getProperty=GM;function KM(e){if(typeof e=="string"&&le.IDENTIFIER.test(e))return new fr(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}le.getEsmExportName=KM;function WM(e){return new fr(e.toString())}le.regexpCode=WM});var df=S(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.ValueScope=zt.ValueScopeName=zt.Scope=zt.varKinds=zt.UsedValueState=void 0;var Bt=Fs(),lf=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Gu;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Gu||(zt.UsedValueState=Gu={}));zt.varKinds={const:new Bt.Name("const"),let:new Bt.Name("let"),var:new Bt.Name("var")};var Ku=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Bt.Name?t:this.name(t)}name(t){return new Bt.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};zt.Scope=Ku;var Wu=class extends Bt.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Bt._)`.${new Bt.Name(r)}[${n}]`}};zt.ValueScopeName=Wu;var ZM=(0,Bt._)`\n`,pf=class extends Ku{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?ZM:Bt.nil}}get(){return this._scope}name(t){return new Wu(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(t),{prefix:s}=o,i=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let l=a.get(i);if(l)return l}else a=this._values[s]=new Map;a.set(i,o);let u=this._scope[s]||(this._scope[s]=[]),c=u.length;return u[c]=r.ref,o.setValue(r,{property:s,itemIndex:c}),o}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Bt._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,n)}_reduceValues(t,r,n={},o){let s=Bt.nil;for(let i in t){let a=t[i];if(!a)continue;let u=n[i]=n[i]||new Map;a.forEach(c=>{if(u.has(c))return;u.set(c,Gu.Started);let l=r(c);if(l){let p=this.opts.es5?zt.varKinds.var:zt.varKinds.const;s=(0,Bt._)`${s}${p} ${c} = ${l};${this.opts._n}`}else if(l=o?.(c))s=(0,Bt._)`${s}${l}${this.opts._n}`;else throw new lf(c);u.set(c,Gu.Completed)})}return s}};zt.ValueScope=pf});var Q=S(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.or=X.and=X.not=X.CodeGen=X.operators=X.varKinds=X.ValueScopeName=X.ValueScope=X.Scope=X.Name=X.regexpCode=X.stringify=X.getProperty=X.nil=X.strConcat=X.str=X._=void 0;var ie=Fs(),_r=df(),Nn=Fs();Object.defineProperty(X,"_",{enumerable:!0,get:function(){return Nn._}});Object.defineProperty(X,"str",{enumerable:!0,get:function(){return Nn.str}});Object.defineProperty(X,"strConcat",{enumerable:!0,get:function(){return Nn.strConcat}});Object.defineProperty(X,"nil",{enumerable:!0,get:function(){return Nn.nil}});Object.defineProperty(X,"getProperty",{enumerable:!0,get:function(){return Nn.getProperty}});Object.defineProperty(X,"stringify",{enumerable:!0,get:function(){return Nn.stringify}});Object.defineProperty(X,"regexpCode",{enumerable:!0,get:function(){return Nn.regexpCode}});Object.defineProperty(X,"Name",{enumerable:!0,get:function(){return Nn.Name}});var Qu=df();Object.defineProperty(X,"Scope",{enumerable:!0,get:function(){return Qu.Scope}});Object.defineProperty(X,"ValueScope",{enumerable:!0,get:function(){return Qu.ValueScope}});Object.defineProperty(X,"ValueScopeName",{enumerable:!0,get:function(){return Qu.ValueScopeName}});Object.defineProperty(X,"varKinds",{enumerable:!0,get:function(){return Qu.varKinds}});X.operators={GT:new ie._Code(">"),GTE:new ie._Code(">="),LT:new ie._Code("<"),LTE:new ie._Code("<="),EQ:new ie._Code("==="),NEQ:new ie._Code("!=="),NOT:new ie._Code("!"),OR:new ie._Code("||"),AND:new ie._Code("&&"),ADD:new ie._Code("+")};var Dn=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},ff=class extends Dn{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?_r.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=si(this.rhs,t,r)),this}get names(){return this.rhs instanceof ie._CodeOrName?this.rhs.names:{}}},Zu=class extends Dn{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof ie.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=si(this.rhs,t,r),this}get names(){let t=this.lhs instanceof ie.Name?{}:{...this.lhs.names};return Yu(t,this.rhs)}},mf=class extends Zu{constructor(t,r,n,o){super(t,n,o),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},hf=class extends Dn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},gf=class extends Dn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},yf=class extends Dn{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},Df=class extends Dn{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=si(this.code,t,r),this}get names(){return this.code instanceof ie._CodeOrName?this.code.names:{}}},$s=class extends Dn{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,o=n.length;for(;o--;){let s=n[o];s.optimizeNames(t,r)||(JM(t,s.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>ho(t,r.names),{})}},vn=class extends $s{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},vf=class extends $s{},ii=class extends vn{};ii.kind="else";var fo=class e extends vn{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new ii(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(r0(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=si(this.condition,t,r),this}get names(){let t=super.names;return Yu(t,this.condition),this.else&&ho(t,this.else.names),t}};fo.kind="if";var mo=class extends vn{};mo.kind="for";var Cf=class extends mo{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=si(this.iteration,t,r),this}get names(){return ho(super.names,this.iteration.names)}},wf=class extends mo{constructor(t,r,n,o){super(),this.varKind=t,this.name=r,this.from=n,this.to=o}render(t){let r=t.es5?_r.varKinds.var:this.varKind,{name:n,from:o,to:s}=this;return`for(${r} ${n}=${o}; ${n}<${s}; ${n}++)`+super.render(t)}get names(){let t=Yu(super.names,this.from);return Yu(t,this.to)}},Ju=class extends mo{constructor(t,r,n,o){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=o}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=si(this.iterable,t,r),this}get names(){return ho(super.names,this.iterable.names)}},ks=class extends vn{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};ks.kind="func";var Is=class extends $s{render(t){return"return "+super.render(t)}};Is.kind="return";var bf=class extends vn{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,o;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(o=this.finally)===null||o===void 0||o.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&ho(t,this.catch.names),this.finally&&ho(t,this.finally.names),t}},Ns=class extends vn{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};Ns.kind="catch";var Os=class extends vn{render(t){return"finally"+super.render(t)}};Os.kind="finally";var xf=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new _r.Scope({parent:t}),this._nodes=[new vf]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,o){let s=this._scope.toName(r);return n!==void 0&&o&&(this._constants[s.str]=n),this._leafNode(new ff(t,s,n)),s}const(t,r,n){return this._def(_r.varKinds.const,t,r,n)}let(t,r,n){return this._def(_r.varKinds.let,t,r,n)}var(t,r,n){return this._def(_r.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new Zu(t,r,n))}add(t,r){return this._leafNode(new mf(t,X.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==ie.nil&&this._leafNode(new Df(t)),this}object(...t){let r=["{"];for(let[n,o]of t)r.length>1&&r.push(","),r.push(n),(n!==o||this.opts.es5)&&(r.push(":"),(0,ie.addCodeArg)(r,o));return r.push("}"),new ie._Code(r)}if(t,r,n){if(this._blockNode(new fo(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new fo(t))}else(){return this._elseNode(new ii)}endIf(){return this._endBlockNode(fo,ii)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new Cf(t),r)}forRange(t,r,n,o,s=this.opts.es5?_r.varKinds.var:_r.varKinds.let){let i=this._scope.toName(t);return this._for(new wf(s,i,r,n),()=>o(i))}forOf(t,r,n,o=_r.varKinds.const){let s=this._scope.toName(t);if(this.opts.es5){let i=r instanceof ie.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ie._)`${i}.length`,a=>{this.var(s,(0,ie._)`${i}[${a}]`),n(s)})}return this._for(new Ju("of",o,s,r),()=>n(s))}forIn(t,r,n,o=this.opts.es5?_r.varKinds.var:_r.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,ie._)`Object.keys(${r})`,n);let s=this._scope.toName(t);return this._for(new Ju("in",o,s,r),()=>n(s))}endFor(){return this._endBlockNode(mo)}label(t){return this._leafNode(new hf(t))}break(t){return this._leafNode(new gf(t))}return(t){let r=new Is;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Is)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new bf;if(this._blockNode(o),this.code(t),r){let s=this.name("e");this._currNode=o.catch=new Ns(s),r(s)}return n&&(this._currNode=o.finally=new Os,this.code(n)),this._endBlockNode(Ns,Os)}throw(t){return this._leafNode(new yf(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=ie.nil,n,o){return this._blockNode(new ks(t,r,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(ks)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof fo))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};X.CodeGen=xf;function ho(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Yu(e,t){return t instanceof ie._CodeOrName?ho(e,t.names):e}function si(e,t,r){if(e instanceof ie.Name)return n(e);if(!o(e))return e;return new ie._Code(e._items.reduce((s,i)=>(i instanceof ie.Name&&(i=n(i)),i instanceof ie._Code?s.push(...i._items):s.push(i),s),[]));function n(s){let i=r[s.str];return i===void 0||t[s.str]!==1?s:(delete t[s.str],i)}function o(s){return s instanceof ie._Code&&s._items.some(i=>i instanceof ie.Name&&t[i.str]===1&&r[i.str]!==void 0)}}function JM(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function r0(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,ie._)`!${Sf(e)}`}X.not=r0;var YM=n0(X.operators.AND);function QM(...e){return e.reduce(YM)}X.and=QM;var XM=n0(X.operators.OR);function eL(...e){return e.reduce(XM)}X.or=eL;function n0(e){return(t,r)=>t===ie.nil?r:r===ie.nil?t:(0,ie._)`${Sf(t)} ${e} ${Sf(r)}`}function Sf(e){return e instanceof ie.Name?e:(0,ie._)`(${e})`}});var pe=S(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.checkStrictMode=te.getErrorPath=te.Type=te.useFunc=te.setEvaluated=te.evaluatedPropsToName=te.mergeEvaluated=te.eachItem=te.unescapeJsonPointer=te.escapeJsonPointer=te.escapeFragment=te.unescapeFragment=te.schemaRefOrVal=te.schemaHasRulesButRef=te.schemaHasRules=te.checkUnknownRules=te.alwaysValidSchema=te.toHash=void 0;var xe=Q(),tL=Fs();function rL(e){let t={};for(let r of e)t[r]=!0;return t}te.toHash=rL;function nL(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(s0(e,t),!a0(t,e.self.RULES.all))}te.alwaysValidSchema=nL;function s0(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let o=n.RULES.keywords;for(let s in t)o[s]||l0(e,`unknown keyword: "${s}"`)}te.checkUnknownRules=s0;function a0(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}te.schemaHasRules=a0;function oL(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}te.schemaHasRulesButRef=oL;function iL({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,xe._)`${r}`}return(0,xe._)`${e}${t}${(0,xe.getProperty)(n)}`}te.schemaRefOrVal=iL;function sL(e){return u0(decodeURIComponent(e))}te.unescapeFragment=sL;function aL(e){return encodeURIComponent(_f(e))}te.escapeFragment=aL;function _f(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}te.escapeJsonPointer=_f;function u0(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}te.unescapeJsonPointer=u0;function uL(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}te.eachItem=uL;function o0({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,s,i,a)=>{let u=i===void 0?s:i instanceof xe.Name?(s instanceof xe.Name?e(o,s,i):t(o,s,i),i):s instanceof xe.Name?(t(o,i,s),s):r(s,i);return a===xe.Name&&!(u instanceof xe.Name)?n(o,u):u}}te.mergeEvaluated={props:o0({mergeNames:(e,t,r)=>e.if((0,xe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,xe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,xe._)`${r} || {}`).code((0,xe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,xe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,xe._)`${r} || {}`),Pf(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:c0}),items:o0({mergeNames:(e,t,r)=>e.if((0,xe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,xe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,xe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,xe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function c0(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,xe._)`{}`);return t!==void 0&&Pf(e,r,t),r}te.evaluatedPropsToName=c0;function Pf(e,t,r){Object.keys(r).forEach(n=>e.assign((0,xe._)`${t}${(0,xe.getProperty)(n)}`,!0))}te.setEvaluated=Pf;var i0={};function cL(e,t){return e.scopeValue("func",{ref:t,code:i0[t.code]||(i0[t.code]=new tL._Code(t.code))})}te.useFunc=cL;var Ef;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Ef||(te.Type=Ef={}));function lL(e,t,r){if(e instanceof xe.Name){let n=t===Ef.Num;return r?n?(0,xe._)`"[" + ${e} + "]"`:(0,xe._)`"['" + ${e} + "']"`:n?(0,xe._)`"/" + ${e}`:(0,xe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,xe.getProperty)(e).toString():"/"+_f(e)}te.getErrorPath=lL;function l0(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}te.checkStrictMode=l0});var Cn=S(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var vt=Q(),pL={data:new vt.Name("data"),valCxt:new vt.Name("valCxt"),instancePath:new vt.Name("instancePath"),parentData:new vt.Name("parentData"),parentDataProperty:new vt.Name("parentDataProperty"),rootData:new vt.Name("rootData"),dynamicAnchors:new vt.Name("dynamicAnchors"),vErrors:new vt.Name("vErrors"),errors:new vt.Name("errors"),this:new vt.Name("this"),self:new vt.Name("self"),scope:new vt.Name("scope"),json:new vt.Name("json"),jsonPos:new vt.Name("jsonPos"),jsonLen:new vt.Name("jsonLen"),jsonPart:new vt.Name("jsonPart")};Tf.default=pL});var Ms=S(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.extendErrors=Ct.resetErrorsCount=Ct.reportExtraError=Ct.reportError=Ct.keyword$DataError=Ct.keywordError=void 0;var ue=Q(),Xu=pe(),Pt=Cn();Ct.keywordError={message:({keyword:e})=>(0,ue.str)`must pass "${e}" keyword validation`};Ct.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,ue.str)`"${e}" keyword must be ${t} ($data)`:(0,ue.str)`"${e}" keyword is invalid ($data)`};function dL(e,t=Ct.keywordError,r,n){let{it:o}=e,{gen:s,compositeRule:i,allErrors:a}=o,u=f0(e,t,r);n??(i||a)?p0(s,u):d0(o,(0,ue._)`[${u}]`)}Ct.reportError=dL;function fL(e,t=Ct.keywordError,r){let{it:n}=e,{gen:o,compositeRule:s,allErrors:i}=n,a=f0(e,t,r);p0(o,a),s||i||d0(n,Pt.default.vErrors)}Ct.reportExtraError=fL;function mL(e,t){e.assign(Pt.default.errors,t),e.if((0,ue._)`${Pt.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,ue._)`${Pt.default.vErrors}.length`,t),()=>e.assign(Pt.default.vErrors,null)))}Ct.resetErrorsCount=mL;function hL({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:s}){if(o===void 0)throw new Error("ajv implementation error");let i=e.name("err");e.forRange("i",o,Pt.default.errors,a=>{e.const(i,(0,ue._)`${Pt.default.vErrors}[${a}]`),e.if((0,ue._)`${i}.instancePath === undefined`,()=>e.assign((0,ue._)`${i}.instancePath`,(0,ue.strConcat)(Pt.default.instancePath,s.errorPath))),e.assign((0,ue._)`${i}.schemaPath`,(0,ue.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,ue._)`${i}.schema`,r),e.assign((0,ue._)`${i}.data`,n))})}Ct.extendErrors=hL;function p0(e,t){let r=e.const("err",t);e.if((0,ue._)`${Pt.default.vErrors} === null`,()=>e.assign(Pt.default.vErrors,(0,ue._)`[${r}]`),(0,ue._)`${Pt.default.vErrors}.push(${r})`),e.code((0,ue._)`${Pt.default.errors}++`)}function d0(e,t){let{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw((0,ue._)`new ${e.ValidationError}(${t})`):(r.assign((0,ue._)`${n}.errors`,t),r.return(!1))}var go={keyword:new ue.Name("keyword"),schemaPath:new ue.Name("schemaPath"),params:new ue.Name("params"),propertyName:new ue.Name("propertyName"),message:new ue.Name("message"),schema:new ue.Name("schema"),parentSchema:new ue.Name("parentSchema")};function f0(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,ue._)`{}`:gL(e,t,r)}function gL(e,t,r={}){let{gen:n,it:o}=e,s=[yL(o,r),DL(e,r)];return vL(e,t,s),n.object(...s)}function yL({errorPath:e},{instancePath:t}){let r=t?(0,ue.str)`${e}${(0,Xu.getErrorPath)(t,Xu.Type.Str)}`:e;return[Pt.default.instancePath,(0,ue.strConcat)(Pt.default.instancePath,r)]}function DL({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let o=n?t:(0,ue.str)`${t}/${e}`;return r&&(o=(0,ue.str)`${o}${(0,Xu.getErrorPath)(r,Xu.Type.Str)}`),[go.schemaPath,o]}function vL(e,{params:t,message:r},n){let{keyword:o,data:s,schemaValue:i,it:a}=e,{opts:u,propertyName:c,topSchemaRef:l,schemaPath:p}=a;n.push([go.keyword,o],[go.params,typeof t=="function"?t(e):t||(0,ue._)`{}`]),u.messages&&n.push([go.message,typeof r=="function"?r(e):r]),u.verbose&&n.push([go.schema,i],[go.parentSchema,(0,ue._)`${l}${p}`],[Pt.default.data,s]),c&&n.push([go.propertyName,c])}});var h0=S(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.boolOrEmptySchema=ai.topBoolOrEmptySchema=void 0;var CL=Ms(),wL=Q(),bL=Cn(),xL={message:"boolean schema is false"};function SL(e){let{gen:t,schema:r,validateName:n}=e;r===!1?m0(e,!1):typeof r=="object"&&r.$async===!0?t.return(bL.default.data):(t.assign((0,wL._)`${n}.errors`,null),t.return(!0))}ai.topBoolOrEmptySchema=SL;function EL(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),m0(e)):r.var(t,!0)}ai.boolOrEmptySchema=EL;function m0(e,t){let{gen:r,data:n}=e,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,CL.reportError)(o,xL,void 0,t)}});var Af=S(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.getRules=ui.isJSONType=void 0;var _L=["string","number","integer","boolean","null","object","array"],PL=new Set(_L);function TL(e){return typeof e=="string"&&PL.has(e)}ui.isJSONType=TL;function AL(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ui.getRules=AL});var Rf=S(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.shouldUseRule=On.shouldUseGroup=On.schemaHasRulesForType=void 0;function RL({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&g0(e,n)}On.schemaHasRulesForType=RL;function g0(e,t){return t.rules.some(r=>y0(e,r))}On.shouldUseGroup=g0;function y0(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}On.shouldUseRule=y0});var Ls=S(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.reportTypeError=wt.checkDataTypes=wt.checkDataType=wt.coerceAndCheckDataType=wt.getJSONTypes=wt.getSchemaTypes=wt.DataType=void 0;var FL=Af(),$L=Rf(),kL=Ms(),J=Q(),D0=pe(),ci;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(ci||(wt.DataType=ci={}));function IL(e){let t=v0(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}wt.getSchemaTypes=IL;function v0(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(FL.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}wt.getJSONTypes=v0;function NL(e,t){let{gen:r,data:n,opts:o}=e,s=OL(t,o.coerceTypes),i=t.length>0&&!(s.length===0&&t.length===1&&(0,$L.schemaHasRulesForType)(e,t[0]));if(i){let a=$f(t,n,o.strictNumbers,ci.Wrong);r.if(a,()=>{s.length?ML(e,t,s):kf(e)})}return i}wt.coerceAndCheckDataType=NL;var C0=new Set(["string","number","integer","boolean","null"]);function OL(e,t){return t?e.filter(r=>C0.has(r)||t==="array"&&r==="array"):[]}function ML(e,t,r){let{gen:n,data:o,opts:s}=e,i=n.let("dataType",(0,J._)`typeof ${o}`),a=n.let("coerced",(0,J._)`undefined`);s.coerceTypes==="array"&&n.if((0,J._)`${i} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,(0,J._)`${o}[0]`).assign(i,(0,J._)`typeof ${o}`).if($f(t,o,s.strictNumbers),()=>n.assign(a,o))),n.if((0,J._)`${a} !== undefined`);for(let c of r)(C0.has(c)||c==="array"&&s.coerceTypes==="array")&&u(c);n.else(),kf(e),n.endIf(),n.if((0,J._)`${a} !== undefined`,()=>{n.assign(o,a),LL(e,a)});function u(c){switch(c){case"string":n.elseIf((0,J._)`${i} == "number" || ${i} == "boolean"`).assign(a,(0,J._)`"" + ${o}`).elseIf((0,J._)`${o} === null`).assign(a,(0,J._)`""`);return;case"number":n.elseIf((0,J._)`${i} == "boolean" || ${o} === null
              || (${i} == "string" && ${o} && ${o} == +${o})`).assign(a,(0,J._)`+${o}`);return;case"integer":n.elseIf((0,J._)`${i} === "boolean" || ${o} === null
              || (${i} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(a,(0,J._)`+${o}`);return;case"boolean":n.elseIf((0,J._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(a,!1).elseIf((0,J._)`${o} === "true" || ${o} === 1`).assign(a,!0);return;case"null":n.elseIf((0,J._)`${o} === "" || ${o} === 0 || ${o} === false`),n.assign(a,null);return;case"array":n.elseIf((0,J._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${o} === null`).assign(a,(0,J._)`[${o}]`)}}}function LL({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,J._)`${t} !== undefined`,()=>e.assign((0,J._)`${t}[${r}]`,n))}function Ff(e,t,r,n=ci.Correct){let o=n===ci.Correct?J.operators.EQ:J.operators.NEQ,s;switch(e){case"null":return(0,J._)`${t} ${o} null`;case"array":s=(0,J._)`Array.isArray(${t})`;break;case"object":s=(0,J._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=i((0,J._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=i();break;default:return(0,J._)`typeof ${t} ${o} ${e}`}return n===ci.Correct?s:(0,J.not)(s);function i(a=J.nil){return(0,J.and)((0,J._)`typeof ${t} == "number"`,a,r?(0,J._)`isFinite(${t})`:J.nil)}}wt.checkDataType=Ff;function $f(e,t,r,n){if(e.length===1)return Ff(e[0],t,r,n);let o,s=(0,D0.toHash)(e);if(s.array&&s.object){let i=(0,J._)`typeof ${t} != "object"`;o=s.null?i:(0,J._)`!${t} || ${i}`,delete s.null,delete s.array,delete s.object}else o=J.nil;s.number&&delete s.integer;for(let i in s)o=(0,J.and)(o,Ff(i,t,r,n));return o}wt.checkDataTypes=$f;var BL={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,J._)`{type: ${e}}`:(0,J._)`{type: ${t}}`};function kf(e){let t=zL(e);(0,kL.reportError)(t,BL)}wt.reportTypeError=kf;function zL(e){let{gen:t,data:r,schema:n}=e,o=(0,D0.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}});var b0=S(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.assignDefaults=void 0;var li=Q(),jL=pe();function UL(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let o in r)w0(e,o,r[o].default);else t==="array"&&Array.isArray(n)&&n.forEach((o,s)=>w0(e,s,o.default))}ec.assignDefaults=UL;function w0(e,t,r){let{gen:n,compositeRule:o,data:s,opts:i}=e;if(r===void 0)return;let a=(0,li._)`${s}${(0,li.getProperty)(t)}`;if(o){(0,jL.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,li._)`${a} === undefined`;i.useDefaults==="empty"&&(u=(0,li._)`${u} || ${a} === null || ${a} === ""`),n.if(u,(0,li._)`${a} = ${(0,li.stringify)(r)}`)}});var mr=S(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.validateUnion=Ce.validateArray=Ce.usePattern=Ce.callValidateCode=Ce.schemaProperties=Ce.allSchemaProperties=Ce.noPropertyInData=Ce.propertyInData=Ce.isOwnProperty=Ce.hasPropFunc=Ce.reportMissingProp=Ce.checkMissingProp=Ce.checkReportMissingProp=void 0;var Ie=Q(),If=pe(),Mn=Cn(),VL=pe();function HL(e,t){let{gen:r,data:n,it:o}=e;r.if(Of(r,n,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ie._)`${t}`},!0),e.error()})}Ce.checkReportMissingProp=HL;function qL({gen:e,data:t,it:{opts:r}},n,o){return(0,Ie.or)(...n.map(s=>(0,Ie.and)(Of(e,t,s,r.ownProperties),(0,Ie._)`${o} = ${s}`)))}Ce.checkMissingProp=qL;function GL(e,t){e.setParams({missingProperty:t},!0),e.error()}Ce.reportMissingProp=GL;function x0(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ie._)`Object.prototype.hasOwnProperty`})}Ce.hasPropFunc=x0;function Nf(e,t,r){return(0,Ie._)`${x0(e)}.call(${t}, ${r})`}Ce.isOwnProperty=Nf;function KL(e,t,r,n){let o=(0,Ie._)`${t}${(0,Ie.getProperty)(r)} !== undefined`;return n?(0,Ie._)`${o} && ${Nf(e,t,r)}`:o}Ce.propertyInData=KL;function Of(e,t,r,n){let o=(0,Ie._)`${t}${(0,Ie.getProperty)(r)} === undefined`;return n?(0,Ie.or)(o,(0,Ie.not)(Nf(e,t,r))):o}Ce.noPropertyInData=Of;function S0(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ce.allSchemaProperties=S0;function WL(e,t){return S0(t).filter(r=>!(0,If.alwaysValidSchema)(e,t[r]))}Ce.schemaProperties=WL;function ZL({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:s},it:i},a,u,c){let l=c?(0,Ie._)`${e}, ${t}, ${n}${o}`:t,p=[[Mn.default.instancePath,(0,Ie.strConcat)(Mn.default.instancePath,s)],[Mn.default.parentData,i.parentData],[Mn.default.parentDataProperty,i.parentDataProperty],[Mn.default.rootData,Mn.default.rootData]];i.opts.dynamicRef&&p.push([Mn.default.dynamicAnchors,Mn.default.dynamicAnchors]);let d=(0,Ie._)`${l}, ${r.object(...p)}`;return u!==Ie.nil?(0,Ie._)`${a}.call(${u}, ${d})`:(0,Ie._)`${a}(${d})`}Ce.callValidateCode=ZL;var JL=(0,Ie._)`new RegExp`;function YL({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:o}=t.code,s=o(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ie._)`${o.code==="new RegExp"?JL:(0,VL.useFunc)(e,o)}(${r}, ${n})`})}Ce.usePattern=YL;function QL(e){let{gen:t,data:r,keyword:n,it:o}=e,s=t.name("valid");if(o.allErrors){let a=t.let("valid",!0);return i(()=>t.assign(a,!1)),a}return t.var(s,!0),i(()=>t.break()),s;function i(a){let u=t.const("len",(0,Ie._)`${r}.length`);t.forRange("i",0,u,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:If.Type.Num},s),t.if((0,Ie.not)(s),a)})}}Ce.validateArray=QL;function XL(e){let{gen:t,schema:r,keyword:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,If.alwaysValidSchema)(o,u))&&!o.opts.unevaluated)return;let i=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((u,c)=>{let l=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);t.assign(i,(0,Ie._)`${i} || ${a}`),e.mergeValidEvaluated(l,a)||t.if((0,Ie.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}Ce.validateUnion=XL});var P0=S(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateKeywordUsage=Qr.validSchemaType=Qr.funcKeywordCode=Qr.macroKeywordCode=void 0;var Tt=Q(),yo=Cn(),eB=mr(),tB=Ms();function rB(e,t){let{gen:r,keyword:n,schema:o,parentSchema:s,it:i}=e,a=t.macro.call(i.self,o,s,i),u=_0(r,n,a);i.opts.validateSchema!==!1&&i.self.validateSchema(a,!0);let c=r.name("valid");e.subschema({schema:a,schemaPath:Tt.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}Qr.macroKeywordCode=rB;function nB(e,t){var r;let{gen:n,keyword:o,schema:s,parentSchema:i,$data:a,it:u}=e;iB(u,t);let c=!a&&t.compile?t.compile.call(u.self,s,i,u):t.validate,l=_0(n,o,c),p=n.let("valid");e.block$data(p,d),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function d(){if(t.errors===!1)f(),t.modifying&&E0(e),g(()=>e.error());else{let y=t.async?h():m();t.modifying&&E0(e),g(()=>oB(e,y))}}function h(){let y=n.let("ruleErrs",null);return n.try(()=>f((0,Tt._)`await `),b=>n.assign(p,!1).if((0,Tt._)`${b} instanceof ${u.ValidationError}`,()=>n.assign(y,(0,Tt._)`${b}.errors`),()=>n.throw(b))),y}function m(){let y=(0,Tt._)`${l}.errors`;return n.assign(y,null),f(Tt.nil),y}function f(y=t.async?(0,Tt._)`await `:Tt.nil){let b=u.opts.passContext?yo.default.this:yo.default.self,w=!("compile"in t&&!a||t.schema===!1);n.assign(p,(0,Tt._)`${y}${(0,eB.callValidateCode)(e,l,b,w)}`,t.modifying)}function g(y){var b;n.if((0,Tt.not)((b=t.valid)!==null&&b!==void 0?b:p),y)}}Qr.funcKeywordCode=nB;function E0(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Tt._)`${n.parentData}[${n.parentDataProperty}]`))}function oB(e,t){let{gen:r}=e;r.if((0,Tt._)`Array.isArray(${t})`,()=>{r.assign(yo.default.vErrors,(0,Tt._)`${yo.default.vErrors} === null ? ${t} : ${yo.default.vErrors}.concat(${t})`).assign(yo.default.errors,(0,Tt._)`${yo.default.vErrors}.length`),(0,tB.extendErrors)(e)},()=>e.error())}function iB({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function _0(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Tt.stringify)(r)})}function sB(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Qr.validSchemaType=sB;function aB({schema:e,opts:t,self:r,errSchemaPath:n},o,s){if(Array.isArray(o.keyword)?!o.keyword.includes(s):o.keyword!==s)throw new Error("ajv implementation error");let i=o.dependencies;if(i?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[s])){let u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}Qr.validateKeywordUsage=aB});var A0=S(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.extendSubschemaMode=Ln.extendSubschemaData=Ln.getSubschema=void 0;var Xr=Q(),T0=pe();function uB(e,{keyword:t,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:s,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Xr._)`${e.schemaPath}${(0,Xr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Xr._)`${e.schemaPath}${(0,Xr.getProperty)(t)}${(0,Xr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,T0.escapeFragment)(r)}`}}if(n!==void 0){if(o===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ln.getSubschema=uB;function cB(e,t,{dataProp:r,dataPropType:n,data:o,dataTypes:s,propertyName:i}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:c,dataPathArr:l,opts:p}=t,d=a.let("data",(0,Xr._)`${t.data}${(0,Xr.getProperty)(r)}`,!0);u(d),e.errorPath=(0,Xr.str)`${c}${(0,T0.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,Xr._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(o!==void 0){let c=o instanceof Xr.Name?o:a.let("data",o,!0);u(c),i!==void 0&&(e.propertyName=i)}s&&(e.dataTypes=s);function u(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Ln.extendSubschemaData=cB;function lB(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:s}){n!==void 0&&(e.compositeRule=n),o!==void 0&&(e.createErrors=o),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Ln.extendSubschemaMode=lB});var Mf=S((Are,R0)=>{"use strict";R0.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var i=s[o];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}});var $0=S((Rre,F0)=>{"use strict";var Bn=F0.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};tc(t,n,o,e,"",e)};Bn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Bn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Bn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Bn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function tc(e,t,r,n,o,s,i,a,u,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,o,s,i,a,u,c);for(var l in n){var p=n[l];if(Array.isArray(p)){if(l in Bn.arrayKeywords)for(var d=0;d<p.length;d++)tc(e,t,r,p[d],o+"/"+l+"/"+d,s,o,l,n,d)}else if(l in Bn.propsKeywords){if(p&&typeof p=="object")for(var h in p)tc(e,t,r,p[h],o+"/"+l+"/"+pB(h),s,o,l,n,h)}else(l in Bn.keywords||e.allKeys&&!(l in Bn.skipKeywords))&&tc(e,t,r,p,o+"/"+l,s,o,l,n)}r(n,o,s,i,a,u,c)}}function pB(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var Bs=S(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.getSchemaRefs=jt.resolveUrl=jt.normalizeId=jt._getFullPath=jt.getFullPath=jt.inlineRef=void 0;var dB=pe(),fB=Mf(),mB=$0(),hB=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function gB(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Lf(e):t?k0(e)<=t:!1}jt.inlineRef=gB;var yB=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Lf(e){for(let t in e){if(yB.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(Lf)||typeof r=="object"&&Lf(r))return!0}return!1}function k0(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!hB.has(r)&&(typeof e[r]=="object"&&(0,dB.eachItem)(e[r],n=>t+=k0(n)),t===1/0))return 1/0}return t}function I0(e,t="",r){r!==!1&&(t=pi(t));let n=e.parse(t);return N0(e,n)}jt.getFullPath=I0;function N0(e,t){return e.serialize(t).split("#")[0]+"#"}jt._getFullPath=N0;var DB=/#\/?$/;function pi(e){return e?e.replace(DB,""):""}jt.normalizeId=pi;function vB(e,t,r){return r=pi(r),e.resolve(t,r)}jt.resolveUrl=vB;var CB=/^[a-z_][-a-z0-9._]*$/i;function wB(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,o=pi(e[r]||t),s={"":o},i=I0(n,o,!1),a={},u=new Set;return mB(e,{allKeys:!0},(p,d,h,m)=>{if(m===void 0)return;let f=i+d,g=s[m];typeof p[r]=="string"&&(g=y.call(this,p[r])),b.call(this,p.$anchor),b.call(this,p.$dynamicAnchor),s[d]=g;function y(w){let T=this.opts.uriResolver.resolve;if(w=pi(g?T(g,w):w),u.has(w))throw l(w);u.add(w);let E=this.refs[w];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?c(p,E.schema,w):w!==pi(f)&&(w[0]==="#"?(c(p,a[w],w),a[w]=p):this.refs[w]=f),w}function b(w){if(typeof w=="string"){if(!CB.test(w))throw new Error(`invalid anchor "${w}"`);y.call(this,`#${w}`)}}}),a;function c(p,d,h){if(d!==void 0&&!fB(p,d))throw l(h)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}jt.getSchemaRefs=wB});var Us=S(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.getData=zn.KeywordCxt=zn.validateFunctionCode=void 0;var z0=h0(),O0=Ls(),zf=Rf(),rc=Ls(),bB=b0(),js=P0(),Bf=A0(),j=Q(),K=Cn(),xB=Bs(),wn=pe(),zs=Ms();function SB(e){if(V0(e)&&(H0(e),U0(e))){PB(e);return}j0(e,()=>(0,z0.topBoolOrEmptySchema)(e))}zn.validateFunctionCode=SB;function j0({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},s){o.code.es5?e.func(t,(0,j._)`${K.default.data}, ${K.default.valCxt}`,n.$async,()=>{e.code((0,j._)`"use strict"; ${M0(r,o)}`),_B(e,o),e.code(s)}):e.func(t,(0,j._)`${K.default.data}, ${EB(o)}`,n.$async,()=>e.code(M0(r,o)).code(s))}function EB(e){return(0,j._)`{${K.default.instancePath}="", ${K.default.parentData}, ${K.default.parentDataProperty}, ${K.default.rootData}=${K.default.data}${e.dynamicRef?(0,j._)`, ${K.default.dynamicAnchors}={}`:j.nil}}={}`}function _B(e,t){e.if(K.default.valCxt,()=>{e.var(K.default.instancePath,(0,j._)`${K.default.valCxt}.${K.default.instancePath}`),e.var(K.default.parentData,(0,j._)`${K.default.valCxt}.${K.default.parentData}`),e.var(K.default.parentDataProperty,(0,j._)`${K.default.valCxt}.${K.default.parentDataProperty}`),e.var(K.default.rootData,(0,j._)`${K.default.valCxt}.${K.default.rootData}`),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,j._)`${K.default.valCxt}.${K.default.dynamicAnchors}`)},()=>{e.var(K.default.instancePath,(0,j._)`""`),e.var(K.default.parentData,(0,j._)`undefined`),e.var(K.default.parentDataProperty,(0,j._)`undefined`),e.var(K.default.rootData,K.default.data),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,j._)`{}`)})}function PB(e){let{schema:t,opts:r,gen:n}=e;j0(e,()=>{r.$comment&&t.$comment&&G0(e),$B(e),n.let(K.default.vErrors,null),n.let(K.default.errors,0),r.unevaluated&&TB(e),q0(e),NB(e)})}function TB(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,j._)`${r}.evaluated`),t.if((0,j._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,j._)`${e.evaluated}.props`,(0,j._)`undefined`)),t.if((0,j._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,j._)`${e.evaluated}.items`,(0,j._)`undefined`))}function M0(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,j._)`/*# sourceURL=${r} */`:j.nil}function AB(e,t){if(V0(e)&&(H0(e),U0(e))){RB(e,t);return}(0,z0.boolOrEmptySchema)(e,t)}function U0({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function V0(e){return typeof e.schema!="boolean"}function RB(e,t){let{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&G0(e),kB(e),IB(e);let s=n.const("_errs",K.default.errors);q0(e,s),n.var(t,(0,j._)`${s} === ${K.default.errors}`)}function H0(e){(0,wn.checkUnknownRules)(e),FB(e)}function q0(e,t){if(e.opts.jtd)return L0(e,[],!1,t);let r=(0,O0.getSchemaTypes)(e.schema),n=(0,O0.coerceAndCheckDataType)(e,r);L0(e,r,!n,t)}function FB(e){let{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,wn.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function $B(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,wn.checkStrictMode)(e,"default is ignored in the schema root")}function kB(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,xB.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function IB(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function G0({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){let s=r.$comment;if(o.$comment===!0)e.code((0,j._)`${K.default.self}.logger.log(${s})`);else if(typeof o.$comment=="function"){let i=(0,j.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,j._)`${K.default.self}.opts.$comment(${s}, ${i}, ${a}.schema)`)}}function NB(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:s}=e;r.$async?t.if((0,j._)`${K.default.errors} === 0`,()=>t.return(K.default.data),()=>t.throw((0,j._)`new ${o}(${K.default.vErrors})`)):(t.assign((0,j._)`${n}.errors`,K.default.vErrors),s.unevaluated&&OB(e),t.return((0,j._)`${K.default.errors} === 0`))}function OB({gen:e,evaluated:t,props:r,items:n}){r instanceof j.Name&&e.assign((0,j._)`${t}.props`,r),n instanceof j.Name&&e.assign((0,j._)`${t}.items`,n)}function L0(e,t,r,n){let{gen:o,schema:s,data:i,allErrors:a,opts:u,self:c}=e,{RULES:l}=c;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,wn.schemaHasRulesButRef)(s,l))){o.block(()=>W0(e,"$ref",l.all.$ref.definition));return}u.jtd||MB(e,t),o.block(()=>{for(let d of l.rules)p(d);p(l.post)});function p(d){(0,zf.shouldUseGroup)(s,d)&&(d.type?(o.if((0,rc.checkDataType)(d.type,i,u.strictNumbers)),B0(e,d),t.length===1&&t[0]===d.type&&r&&(o.else(),(0,rc.reportTypeError)(e)),o.endIf()):B0(e,d),a||o.if((0,j._)`${K.default.errors} === ${n||0}`))}}function B0(e,t){let{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&(0,bB.assignDefaults)(e,t.type),r.block(()=>{for(let s of t.rules)(0,zf.shouldUseRule)(n,s)&&W0(e,s.keyword,s.definition,t.type)})}function MB(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(LB(e,t),e.opts.allowUnionTypes||BB(e,t),zB(e,e.dataTypes))}function LB(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{K0(e.dataTypes,r)||jf(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),UB(e,t)}}function BB(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&jf(e,"use allowUnionTypes to allow union type keyword")}function zB(e,t){let r=e.self.RULES.all;for(let n in r){let o=r[n];if(typeof o=="object"&&(0,zf.shouldUseRule)(e.schema,o)){let{type:s}=o.definition;s.length&&!s.some(i=>jB(t,i))&&jf(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function jB(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function K0(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function UB(e,t){let r=[];for(let n of e.dataTypes)K0(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function jf(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,wn.checkStrictMode)(e,t,e.opts.strictTypes)}var nc=class{constructor(t,r,n){if((0,js.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,wn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Z0(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,js.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",K.default.errors))}result(t,r,n){this.failResult((0,j.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,j.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,j._)`${r} !== undefined && (${(0,j.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?zs.reportExtraError:zs.reportError)(this,this.def.error,r)}$dataError(){(0,zs.reportError)(this,this.def.$dataError||zs.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,zs.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=j.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=j.nil,r=j.nil){if(!this.$data)return;let{gen:n,schemaCode:o,schemaType:s,def:i}=this;n.if((0,j.or)((0,j._)`${o} === undefined`,r)),t!==j.nil&&n.assign(t,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==j.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:o,it:s}=this;return(0,j.or)(i(),a());function i(){if(n.length){if(!(r instanceof j.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,j._)`${(0,rc.checkDataTypes)(u,r,s.opts.strictNumbers,rc.DataType.Wrong)}`}return j.nil}function a(){if(o.validateSchema){let u=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,j._)`!${u}(${r})`}return j.nil}}subschema(t,r){let n=(0,Bf.getSubschema)(this.it,t);(0,Bf.extendSubschemaData)(n,this.it,t),(0,Bf.extendSubschemaMode)(n,t);let o={...this.it,...n,items:void 0,props:void 0};return AB(o,r),o}mergeEvaluated(t,r){let{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=wn.mergeEvaluated.props(o,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=wn.mergeEvaluated.items(o,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,j.Name)),!0}};zn.KeywordCxt=nc;function W0(e,t,r,n){let o=new nc(e,r,t);"code"in r?r.code(o,n):o.$data&&r.validate?(0,js.funcKeywordCode)(o,r):"macro"in r?(0,js.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,js.funcKeywordCode)(o,r)}var VB=/^\/(?:[^~]|~0|~1)*$/,HB=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z0(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,s;if(e==="")return K.default.rootData;if(e[0]==="/"){if(!VB.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,s=K.default.rootData}else{let c=HB.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);let l=+c[1];if(o=c[2],o==="#"){if(l>=t)throw new Error(u("property/index",l));return n[t-l]}if(l>t)throw new Error(u("data",l));if(s=r[t-l],!o)return s}let i=s,a=o.split("/");for(let c of a)c&&(s=(0,j._)`${s}${(0,j.getProperty)((0,wn.unescapeJsonPointer)(c))}`,i=(0,j._)`${i} && ${s}`);return i;function u(c,l){return`Cannot access ${c} ${l} levels up, current level is ${t}`}}zn.getData=Z0});var oc=S(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});var Uf=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Vf.default=Uf});var Vs=S(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var Hf=Bs(),qf=class extends Error{constructor(t,r,n,o){super(o||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Hf.resolveUrl)(t,r,n),this.missingSchema=(0,Hf.normalizeId)((0,Hf.getFullPath)(t,this.missingRef))}};Gf.default=qf});var sc=S(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.resolveSchema=hr.getCompilingSchema=hr.resolveRef=hr.compileSchema=hr.SchemaEnv=void 0;var Pr=Q(),qB=oc(),Do=Cn(),Tr=Bs(),J0=pe(),GB=Us(),di=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Tr.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};hr.SchemaEnv=di;function Wf(e){let t=Y0.call(this,e);if(t)return t;let r=(0,Tr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:s}=this.opts,i=new Pr.CodeGen(this.scope,{es5:n,lines:o,ownProperties:s}),a;e.$async&&(a=i.scopeValue("Error",{ref:qB.default,code:(0,Pr._)`require("ajv/dist/runtime/validation_error").default`}));let u=i.scopeName("validate");e.validateName=u;let c={gen:i,allErrors:this.opts.allErrors,data:Do.default.data,parentData:Do.default.parentData,parentDataProperty:Do.default.parentDataProperty,dataNames:[Do.default.data],dataPathArr:[Pr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Pr.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Pr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Pr._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(e),(0,GB.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);let p=i.toString();l=`${i.scopeRefs(Do.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,e));let h=new Function(`${Do.default.self}`,`${Do.default.scope}`,l)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){let{props:m,items:f}=c;h.evaluated={props:m instanceof Pr.Name?void 0:m,items:f instanceof Pr.Name?void 0:f,dynamicProps:m instanceof Pr.Name,dynamicItems:f instanceof Pr.Name},h.source&&(h.source.evaluated=(0,Pr.stringify)(h.evaluated))}return e.validate=h,e}catch(p){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(e)}}hr.compileSchema=Wf;function KB(e,t,r){var n;r=(0,Tr.resolveUrl)(this.opts.uriResolver,t,r);let o=e.refs[r];if(o)return o;let s=JB.call(this,e,r);if(s===void 0){let i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;i&&(s=new di({schema:i,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=WB.call(this,s)}hr.resolveRef=KB;function WB(e){return(0,Tr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Wf.call(this,e)}function Y0(e){for(let t of this._compilations)if(ZB(t,e))return t}hr.getCompilingSchema=Y0;function ZB(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function JB(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ic.call(this,e,t)}function ic(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Tr._getFullPath)(this.opts.uriResolver,r),o=(0,Tr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===o)return Kf.call(this,r,e);let s=(0,Tr.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){let a=ic.call(this,e,i);return typeof a?.schema!="object"?void 0:Kf.call(this,r,a)}if(typeof i?.schema=="object"){if(i.validate||Wf.call(this,i),s===(0,Tr.normalizeId)(t)){let{schema:a}=i,{schemaId:u}=this.opts,c=a[u];return c&&(o=(0,Tr.resolveUrl)(this.opts.uriResolver,o,c)),new di({schema:a,schemaId:u,root:e,baseId:o})}return Kf.call(this,r,i)}}hr.resolveSchema=ic;var YB=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Kf(e,{baseId:t,schema:r,root:n}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,J0.unescapeFragment)(a)];if(u===void 0)return;r=u;let c=typeof r=="object"&&r[this.opts.schemaId];!YB.has(a)&&c&&(t=(0,Tr.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,J0.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Tr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=ic.call(this,n,a)}let{schemaId:i}=this.opts;if(s=s||new di({schema:r,schemaId:i,root:n,baseId:t}),s.schema!==s.root.schema)return s}});var Q0=S((Ore,QB)=>{QB.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var eE=S((Mre,X0)=>{"use strict";var XB={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};X0.exports={HEX:XB}});var uE=S((Lre,aE)=>{"use strict";var{HEX:ez}=eE(),tz=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function oE(e){if(sE(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(tz)||[],[r]=t;return r?{host:nz(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function Zf(e,t=!1){let r="",n=!0;for(let o of e){if(ez[o]===void 0)return;o!=="0"&&n===!0&&(n=!1),n||(r+=o)}return t&&r.length===0&&(r="0"),r}function rz(e){let t=0,r={error:!1,address:"",zone:""},n=[],o=[],s=!1,i=!1,a=!1;function u(){if(o.length){if(s===!1){let c=Zf(o);if(c!==void 0)n.push(c);else return r.error=!0,!1}o.length=0}return!0}for(let c=0;c<e.length;c++){let l=e[c];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(a=!0),!u())break;if(t++,n.push(":"),t>7){r.error=!0;break}c-1>=0&&e[c-1]===":"&&(i=!0);continue}else if(l==="%"){if(!u())break;s=!0}else{o.push(l);continue}}return o.length&&(s?r.zone=o.join(""):a?n.push(o.join("")):n.push(Zf(o))),r.address=n.join(""),r}function iE(e){if(sE(e,":")<2)return{host:e,isIPV6:!1};let t=rz(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function nz(e,t){let r="",n=!0,o=e.length;for(let s=0;s<o;s++){let i=e[s];i==="0"&&n?(s+1<=o&&e[s+1]===t||s+1===o)&&(r+=i,n=!1):(i===t?n=!0:n=!1,r+=i)}return r}function sE(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var tE=/^\.\.?\//u,rE=/^\/\.(?:\/|$)/u,nE=/^\/\.\.(?:\/|$)/u,oz=/^\/?(?:.|\n)*?(?=\/|$)/u;function iz(e){let t=[];for(;e.length;)if(e.match(tE))e=e.replace(tE,"");else if(e.match(rE))e=e.replace(rE,"/");else if(e.match(nE))e=e.replace(nE,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(oz);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function sz(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function az(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host),n=oE(r);if(n.isIPV4)r=n.host;else{let o=iE(n.host);o.isIPV6===!0?r=`[${o.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}aE.exports={recomposeAuthority:az,normalizeComponentEncoding:sz,removeDotSegments:iz,normalizeIPv4:oE,normalizeIPv6:iE,stringArrayToHexStripped:Zf}});var mE=S((Bre,fE)=>{"use strict";var uz=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,cz=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function cE(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function lE(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function pE(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function lz(e){return e.secure=cE(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function pz(e){if((e.port===(cE(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function dz(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(cz);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let o=`${n}:${t.nid||e.nid}`,s=Jf[o];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function fz(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),o=`${r}:${t.nid||n}`,s=Jf[o];s&&(e=s.serialize(e,t));let i=e,a=e.nss;return i.path=`${n||t.nid}:${a}`,t.skipEscape=!0,i}function mz(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!uz.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function hz(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var dE={scheme:"http",domainHost:!0,parse:lE,serialize:pE},gz={scheme:"https",domainHost:dE.domainHost,parse:lE,serialize:pE},ac={scheme:"ws",domainHost:!0,parse:lz,serialize:pz},yz={scheme:"wss",domainHost:ac.domainHost,parse:ac.parse,serialize:ac.serialize},Dz={scheme:"urn",parse:dz,serialize:fz,skipNormalize:!0},vz={scheme:"urn:uuid",parse:mz,serialize:hz,skipNormalize:!0},Jf={http:dE,https:gz,ws:ac,wss:yz,urn:Dz,"urn:uuid":vz};fE.exports=Jf});var gE=S((zre,cc)=>{"use strict";var{normalizeIPv6:Cz,normalizeIPv4:wz,removeDotSegments:Hs,recomposeAuthority:bz,normalizeComponentEncoding:uc}=uE(),Yf=mE();function xz(e,t){return typeof e=="string"?e=en(bn(e,t),t):typeof e=="object"&&(e=bn(en(e,t),t)),e}function Sz(e,t,r){let n=Object.assign({scheme:"null"},r),o=hE(bn(e,n),bn(t,n),n,!0);return en(o,{...n,skipEscape:!0})}function hE(e,t,r,n){let o={};return n||(e=bn(en(e,r),r),t=bn(en(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=Hs(t.path||""),o.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=Hs(t.path||""),o.query=t.query):(t.path?(t.path.charAt(0)==="/"?o.path=Hs(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?o.path="/"+t.path:e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path,o.path=Hs(o.path)),o.query=t.query):(o.path=e.path,t.query!==void 0?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function Ez(e,t,r){return typeof e=="string"?(e=unescape(e),e=en(uc(bn(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=en(uc(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=en(uc(bn(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=en(uc(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function en(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),o=[],s=Yf[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&o.push(r.scheme,":");let i=bz(r);if(i!==void 0&&(n.reference!=="suffix"&&o.push("//"),o.push(i),r.path&&r.path.charAt(0)!=="/"&&o.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=Hs(a)),i===void 0&&(a=a.replace(/^\/\//u,"/%2F")),o.push(a)}return r.query!==void 0&&o.push("?",r.query),r.fragment!==void 0&&o.push("#",r.fragment),o.join("")}var _z=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function Pz(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||_z[t])return!0;return!1}var Tz=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function bn(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=e.indexOf("%")!==-1,s=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let i=e.match(Tz);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){let u=wz(n.host);if(u.isIPV4===!1){let c=Cz(u.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else n.host=u.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=Yf[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&Pz(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!a||a&&!a.skipNormalize)&&(o&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),o&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Qf={SCHEMES:Yf,normalize:xz,resolve:Sz,resolveComponents:hE,equal:Ez,serialize:en,parse:bn};cc.exports=Qf;cc.exports.default=Qf;cc.exports.fastUri=Qf});var DE=S(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});var yE=gE();yE.code='require("ajv/dist/runtime/uri").default';Xf.default=yE});var _E=S(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.CodeGen=pt.Name=pt.nil=pt.stringify=pt.str=pt._=pt.KeywordCxt=void 0;var Az=Us();Object.defineProperty(pt,"KeywordCxt",{enumerable:!0,get:function(){return Az.KeywordCxt}});var fi=Q();Object.defineProperty(pt,"_",{enumerable:!0,get:function(){return fi._}});Object.defineProperty(pt,"str",{enumerable:!0,get:function(){return fi.str}});Object.defineProperty(pt,"stringify",{enumerable:!0,get:function(){return fi.stringify}});Object.defineProperty(pt,"nil",{enumerable:!0,get:function(){return fi.nil}});Object.defineProperty(pt,"Name",{enumerable:!0,get:function(){return fi.Name}});Object.defineProperty(pt,"CodeGen",{enumerable:!0,get:function(){return fi.CodeGen}});var Rz=oc(),xE=Vs(),Fz=Af(),qs=sc(),$z=Q(),Gs=Bs(),lc=Ls(),tm=pe(),vE=Q0(),kz=DE(),SE=(e,t)=>new RegExp(e,t);SE.code="new RegExp";var Iz=["removeAdditional","useDefaults","coerceTypes"],Nz=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Oz={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Mz={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},CE=200;function Lz(e){var t,r,n,o,s,i,a,u,c,l,p,d,h,m,f,g,y,b,w,T,E,R,$,I,k;let F=e.strict,v=(t=e.code)===null||t===void 0?void 0:t.optimize,z=v===!0||v===void 0?1:v||0,V=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:SE,G=(o=e.uriResolver)!==null&&o!==void 0?o:kz.default;return{strictSchema:(i=(s=e.strictSchema)!==null&&s!==void 0?s:F)!==null&&i!==void 0?i:!0,strictNumbers:(u=(a=e.strictNumbers)!==null&&a!==void 0?a:F)!==null&&u!==void 0?u:!0,strictTypes:(l=(c=e.strictTypes)!==null&&c!==void 0?c:F)!==null&&l!==void 0?l:"log",strictTuples:(d=(p=e.strictTuples)!==null&&p!==void 0?p:F)!==null&&d!==void 0?d:"log",strictRequired:(m=(h=e.strictRequired)!==null&&h!==void 0?h:F)!==null&&m!==void 0?m:!1,code:e.code?{...e.code,optimize:z,regExp:V}:{optimize:z,regExp:V},loopRequired:(f=e.loopRequired)!==null&&f!==void 0?f:CE,loopEnum:(g=e.loopEnum)!==null&&g!==void 0?g:CE,meta:(y=e.meta)!==null&&y!==void 0?y:!0,messages:(b=e.messages)!==null&&b!==void 0?b:!0,inlineRefs:(w=e.inlineRefs)!==null&&w!==void 0?w:!0,schemaId:(T=e.schemaId)!==null&&T!==void 0?T:"$id",addUsedSchema:(E=e.addUsedSchema)!==null&&E!==void 0?E:!0,validateSchema:(R=e.validateSchema)!==null&&R!==void 0?R:!0,validateFormats:($=e.validateFormats)!==null&&$!==void 0?$:!0,unicodeRegExp:(I=e.unicodeRegExp)!==null&&I!==void 0?I:!0,int32range:(k=e.int32range)!==null&&k!==void 0?k:!0,uriResolver:G}}var Ks=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...Lz(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new $z.ValueScope({scope:{},prefixes:Nz,es5:r,lines:n}),this.logger=Hz(t.logger);let o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,Fz.getRules)(),wE.call(this,Oz,t,"NOT SUPPORTED"),wE.call(this,Mz,t,"DEPRECATED","warn"),this._metaOpts=Uz.call(this),t.formats&&zz.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&jz.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),Bz.call(this),t.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,o=vE;n==="id"&&(o={...vE},o.id=o.$id,delete o.$id),r&&t&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let o=n(r);return"$async"in n||(this.errors=n.errors),o}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return o.call(this,t,r);async function o(l,p){await s.call(this,l.$schema);let d=this._addSchema(l,p);return d.validate||i.call(this,d)}async function s(l){l&&!this.getSchema(l)&&await o.call(this,{$ref:l},!0)}async function i(l){try{return this._compileSchemaEnv(l)}catch(p){if(!(p instanceof xE.default))throw p;return a.call(this,p),await u.call(this,p.missingSchema),i.call(this,l)}}function a({missingSchema:l,missingRef:p}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${p} cannot be resolved`)}async function u(l){let p=await c.call(this,l);this.refs[l]||await s.call(this,p.$schema),this.refs[l]||this.addSchema(p,l,r)}async function c(l){let p=this._loading[l];if(p)return p;try{return await(this._loading[l]=n(l))}finally{delete this._loading[l]}}}addSchema(t,r,n,o=this.opts.validateSchema){if(Array.isArray(t)){for(let i of t)this.addSchema(i,void 0,n,o);return this}let s;if(typeof t=="object"){let{schemaId:i}=this.opts;if(s=t[i],s!==void 0&&typeof s!="string")throw new Error(`schema ${i} must be string`)}return r=(0,Gs.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,o,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(n,t);if(!o&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return o}getSchema(t){let r;for(;typeof(r=bE.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,o=new qs.SchemaEnv({schema:{},schemaId:n});if(r=qs.resolveSchema.call(this,o,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=bE.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Gs.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Gz.call(this,n,r),!r)return(0,tm.eachItem)(n,s=>em.call(this,s)),this;Wz.call(this,r);let o={...r,type:(0,lc.getJSONTypes)(r.type),schemaType:(0,lc.getJSONTypes)(r.schemaType)};return(0,tm.eachItem)(n,o.type.length===0?s=>em.call(this,s,o):s=>o.type.forEach(i=>em.call(this,s,o,i))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let o=n.rules.findIndex(s=>s.keyword===t);o>=0&&n.rules.splice(o,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(o=>`${n}${o.instancePath} ${o.message}`).reduce((o,s)=>o+r+s)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let o of r){let s=o.split("/").slice(1),i=t;for(let a of s)i=i[a];for(let a in n){let u=n[a];if(typeof u!="object")continue;let{$data:c}=u.definition,l=i[a];c&&l&&(i[a]=EE(l))}}return t}_removeAllSchemas(t,r){for(let n in t){let o=t[n];(!r||r.test(n))&&(typeof o=="string"?delete t[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete t[n]))}}_addSchema(t,r,n,o=this.opts.validateSchema,s=this.opts.addUsedSchema){let i,{schemaId:a}=this.opts;if(typeof t=="object")i=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(t);if(u!==void 0)return u;n=(0,Gs.normalizeId)(i||n);let c=Gs.getSchemaRefs.call(this,t,n);return u=new qs.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:c}),this._cache.set(u.schema,u),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),o&&this.validateSchema(t,!0),u}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):qs.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{qs.compileSchema.call(this,t)}finally{this.opts=r}}};Ks.ValidationError=Rz.default;Ks.MissingRefError=xE.default;pt.default=Ks;function wE(e,t,r,n="error"){for(let o in e){let s=o;s in t&&this.logger[n](`${r}: option ${o}. ${e[s]}`)}}function bE(e){return e=(0,Gs.normalizeId)(e),this.schemas[e]||this.refs[e]}function Bz(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function zz(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function jz(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function Uz(){let e={...this.opts};for(let t of Iz)delete e[t];return e}var Vz={log(){},warn(){},error(){}};function Hz(e){if(e===!1)return Vz;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var qz=/^[a-z_$][a-z0-9_$:-]*$/i;function Gz(e,t){let{RULES:r}=this;if((0,tm.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!qz.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function em(e,t,r){var n;let o=t?.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,i=o?s.post:s.rules.find(({type:u})=>u===r);if(i||(i={type:r,rules:[]},s.rules.push(i)),s.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,lc.getJSONTypes)(t.type),schemaType:(0,lc.getJSONTypes)(t.schemaType)}};t.before?Kz.call(this,i,a,t.before):i.rules.push(a),s.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function Kz(e,t,r){let n=e.rules.findIndex(o=>o.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Wz(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=EE(t)),e.validateSchema=this.compile(t,!0))}var Zz={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function EE(e){return{anyOf:[e,Zz]}}});var PE=S(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});var Jz={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};rm.default=Jz});var FE=S(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.callRef=vo.getValidate=void 0;var Yz=Vs(),TE=mr(),Ut=Q(),mi=Cn(),AE=sc(),pc=pe(),Qz={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:o,schemaEnv:s,validateName:i,opts:a,self:u}=n,{root:c}=s;if((r==="#"||r==="#/")&&o===c.baseId)return p();let l=AE.resolveRef.call(u,c,o,r);if(l===void 0)throw new Yz.default(n.opts.uriResolver,o,r);if(l instanceof AE.SchemaEnv)return d(l);return h(l);function p(){if(s===c)return dc(e,i,s,s.$async);let m=t.scopeValue("root",{ref:c});return dc(e,(0,Ut._)`${m}.validate`,c,c.$async)}function d(m){let f=RE(e,m);dc(e,f,m,m.$async)}function h(m){let f=t.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,Ut.stringify)(m)}:{ref:m}),g=t.name("valid"),y=e.subschema({schema:m,dataTypes:[],schemaPath:Ut.nil,topSchemaRef:f,errSchemaPath:r},g);e.mergeEvaluated(y),e.ok(g)}}};function RE(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ut._)`${r.scopeValue("wrapper",{ref:t})}.validate`}vo.getValidate=RE;function dc(e,t,r,n){let{gen:o,it:s}=e,{allErrors:i,schemaEnv:a,opts:u}=s,c=u.passContext?mi.default.this:Ut.nil;n?l():p();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let m=o.let("valid");o.try(()=>{o.code((0,Ut._)`await ${(0,TE.callValidateCode)(e,t,c)}`),h(t),i||o.assign(m,!0)},f=>{o.if((0,Ut._)`!(${f} instanceof ${s.ValidationError})`,()=>o.throw(f)),d(f),i||o.assign(m,!1)}),e.ok(m)}function p(){e.result((0,TE.callValidateCode)(e,t,c),()=>h(t),()=>d(t))}function d(m){let f=(0,Ut._)`${m}.errors`;o.assign(mi.default.vErrors,(0,Ut._)`${mi.default.vErrors} === null ? ${f} : ${mi.default.vErrors}.concat(${f})`),o.assign(mi.default.errors,(0,Ut._)`${mi.default.vErrors}.length`)}function h(m){var f;if(!s.opts.unevaluated)return;let g=(f=r?.validate)===null||f===void 0?void 0:f.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=pc.mergeEvaluated.props(o,g.props,s.props));else{let y=o.var("props",(0,Ut._)`${m}.evaluated.props`);s.props=pc.mergeEvaluated.props(o,y,s.props,Ut.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=pc.mergeEvaluated.items(o,g.items,s.items));else{let y=o.var("items",(0,Ut._)`${m}.evaluated.items`);s.items=pc.mergeEvaluated.items(o,y,s.items,Ut.Name)}}}vo.callRef=dc;vo.default=Qz});var $E=S(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});var Xz=PE(),ej=FE(),tj=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Xz.default,ej.default];nm.default=tj});var kE=S(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});var fc=Q(),jn=fc.operators,mc={maximum:{okStr:"<=",ok:jn.LTE,fail:jn.GT},minimum:{okStr:">=",ok:jn.GTE,fail:jn.LT},exclusiveMaximum:{okStr:"<",ok:jn.LT,fail:jn.GTE},exclusiveMinimum:{okStr:">",ok:jn.GT,fail:jn.LTE}},rj={message:({keyword:e,schemaCode:t})=>(0,fc.str)`must be ${mc[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,fc._)`{comparison: ${mc[e].okStr}, limit: ${t}}`},nj={keyword:Object.keys(mc),type:"number",schemaType:"number",$data:!0,error:rj,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,fc._)`${r} ${mc[t].fail} ${n} || isNaN(${r})`)}};om.default=nj});var IE=S(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});var Ws=Q(),oj={message:({schemaCode:e})=>(0,Ws.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ws._)`{multipleOf: ${e}}`},ij={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:oj,code(e){let{gen:t,data:r,schemaCode:n,it:o}=e,s=o.opts.multipleOfPrecision,i=t.let("res"),a=s?(0,Ws._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Ws._)`${i} !== parseInt(${i})`;e.fail$data((0,Ws._)`(${n} === 0 || (${i} = ${r}/${n}, ${a}))`)}};im.default=ij});var OE=S(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});function NE(e){let t=e.length,r=0,n=0,o;for(;n<t;)r++,o=e.charCodeAt(n++),o>=55296&&o<=56319&&n<t&&(o=e.charCodeAt(n),(o&64512)===56320&&n++);return r}sm.default=NE;NE.code='require("ajv/dist/runtime/ucs2length").default'});var ME=S(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});var Co=Q(),sj=pe(),aj=OE(),uj={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Co.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Co._)`{limit: ${e}}`},cj={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:uj,code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,s=t==="maxLength"?Co.operators.GT:Co.operators.LT,i=o.opts.unicode===!1?(0,Co._)`${r}.length`:(0,Co._)`${(0,sj.useFunc)(e.gen,aj.default)}(${r})`;e.fail$data((0,Co._)`${i} ${s} ${n}`)}};am.default=cj});var LE=S(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});var lj=mr(),hc=Q(),pj={message:({schemaCode:e})=>(0,hc.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,hc._)`{pattern: ${e}}`},dj={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:pj,code(e){let{data:t,$data:r,schema:n,schemaCode:o,it:s}=e,i=s.opts.unicodeRegExp?"u":"",a=r?(0,hc._)`(new RegExp(${o}, ${i}))`:(0,lj.usePattern)(e,n);e.fail$data((0,hc._)`!${a}.test(${t})`)}};um.default=dj});var BE=S(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});var Zs=Q(),fj={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Zs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Zs._)`{limit: ${e}}`},mj={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:fj,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxProperties"?Zs.operators.GT:Zs.operators.LT;e.fail$data((0,Zs._)`Object.keys(${r}).length ${o} ${n}`)}};cm.default=mj});var zE=S(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});var Js=mr(),Ys=Q(),hj=pe(),gj={message:({params:{missingProperty:e}})=>(0,Ys.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ys._)`{missingProperty: ${e}}`},yj={keyword:"required",type:"object",schemaType:"array",$data:!0,error:gj,code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:s,it:i}=e,{opts:a}=i;if(!s&&r.length===0)return;let u=r.length>=a.loopRequired;if(i.allErrors?c():l(),a.strictRequired){let h=e.parentSchema.properties,{definedProperties:m}=e.it;for(let f of r)if(h?.[f]===void 0&&!m.has(f)){let g=i.schemaEnv.baseId+i.errSchemaPath,y=`required property "${f}" is not defined at "${g}" (strictRequired)`;(0,hj.checkStrictMode)(i,y,i.opts.strictRequired)}}function c(){if(u||s)e.block$data(Ys.nil,p);else for(let h of r)(0,Js.checkReportMissingProp)(e,h)}function l(){let h=t.let("missing");if(u||s){let m=t.let("valid",!0);e.block$data(m,()=>d(h,m)),e.ok(m)}else t.if((0,Js.checkMissingProp)(e,r,h)),(0,Js.reportMissingProp)(e,h),t.else()}function p(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,Js.noPropertyInData)(t,o,h,a.ownProperties),()=>e.error())})}function d(h,m){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(m,(0,Js.propertyInData)(t,o,h,a.ownProperties)),t.if((0,Ys.not)(m),()=>{e.error(),t.break()})},Ys.nil)}}};lm.default=yj});var jE=S(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});var Qs=Q(),Dj={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Qs.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Qs._)`{limit: ${e}}`},vj={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Dj,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxItems"?Qs.operators.GT:Qs.operators.LT;e.fail$data((0,Qs._)`${r}.length ${o} ${n}`)}};pm.default=vj});var gc=S(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});var UE=Mf();UE.code='require("ajv/dist/runtime/equal").default';dm.default=UE});var VE=S(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});var fm=Ls(),dt=Q(),Cj=pe(),wj=gc(),bj={message:({params:{i:e,j:t}})=>(0,dt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,dt._)`{i: ${e}, j: ${t}}`},xj={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:bj,code(e){let{gen:t,data:r,$data:n,schema:o,parentSchema:s,schemaCode:i,it:a}=e;if(!n&&!o)return;let u=t.let("valid"),c=s.items?(0,fm.getSchemaTypes)(s.items):[];e.block$data(u,l,(0,dt._)`${i} === false`),e.ok(u);function l(){let m=t.let("i",(0,dt._)`${r}.length`),f=t.let("j");e.setParams({i:m,j:f}),t.assign(u,!0),t.if((0,dt._)`${m} > 1`,()=>(p()?d:h)(m,f))}function p(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function d(m,f){let g=t.name("item"),y=(0,fm.checkDataTypes)(c,g,a.opts.strictNumbers,fm.DataType.Wrong),b=t.const("indices",(0,dt._)`{}`);t.for((0,dt._)`;${m}--;`,()=>{t.let(g,(0,dt._)`${r}[${m}]`),t.if(y,(0,dt._)`continue`),c.length>1&&t.if((0,dt._)`typeof ${g} == "string"`,(0,dt._)`${g} += "_"`),t.if((0,dt._)`typeof ${b}[${g}] == "number"`,()=>{t.assign(f,(0,dt._)`${b}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,dt._)`${b}[${g}] = ${m}`)})}function h(m,f){let g=(0,Cj.useFunc)(t,wj.default),y=t.name("outer");t.label(y).for((0,dt._)`;${m}--;`,()=>t.for((0,dt._)`${f} = ${m}; ${f}--;`,()=>t.if((0,dt._)`${g}(${r}[${m}], ${r}[${f}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};mm.default=xj});var HE=S(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});var hm=Q(),Sj=pe(),Ej=gc(),_j={message:"must be equal to constant",params:({schemaCode:e})=>(0,hm._)`{allowedValue: ${e}}`},Pj={keyword:"const",$data:!0,error:_j,code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,hm._)`!${(0,Sj.useFunc)(t,Ej.default)}(${r}, ${o})`):e.fail((0,hm._)`${s} !== ${r}`)}};gm.default=Pj});var qE=S(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});var Xs=Q(),Tj=pe(),Aj=gc(),Rj={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Xs._)`{allowedValues: ${e}}`},Fj={keyword:"enum",schemaType:"array",$data:!0,error:Rj,code(e){let{gen:t,data:r,$data:n,schema:o,schemaCode:s,it:i}=e;if(!n&&o.length===0)throw new Error("enum must have non-empty array");let a=o.length>=i.opts.loopEnum,u,c=()=>u??(u=(0,Tj.useFunc)(t,Aj.default)),l;if(a||n)l=t.let("valid"),e.block$data(l,p);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let h=t.const("vSchema",s);l=(0,Xs.or)(...o.map((m,f)=>d(h,f)))}e.pass(l);function p(){t.assign(l,!1),t.forOf("v",s,h=>t.if((0,Xs._)`${c()}(${r}, ${h})`,()=>t.assign(l,!0).break()))}function d(h,m){let f=o[m];return typeof f=="object"&&f!==null?(0,Xs._)`${c()}(${r}, ${h}[${m}])`:(0,Xs._)`${r} === ${f}`}}};ym.default=Fj});var GE=S(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});var $j=kE(),kj=IE(),Ij=ME(),Nj=LE(),Oj=BE(),Mj=zE(),Lj=jE(),Bj=VE(),zj=HE(),jj=qE(),Uj=[$j.default,kj.default,Ij.default,Nj.default,Oj.default,Mj.default,Lj.default,Bj.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zj.default,jj.default];Dm.default=Uj});var Cm=S(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.validateAdditionalItems=void 0;var wo=Q(),vm=pe(),Vj={message:({params:{len:e}})=>(0,wo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,wo._)`{limit: ${e}}`},Hj={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Vj,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,vm.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}KE(e,n)}};function KE(e,t){let{gen:r,schema:n,data:o,keyword:s,it:i}=e;i.items=!0;let a=r.const("len",(0,wo._)`${o}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,wo._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,vm.alwaysValidSchema)(i,n)){let c=r.var("valid",(0,wo._)`${a} <= ${t.length}`);r.if((0,wo.not)(c),()=>u(c)),e.ok(c)}function u(c){r.forRange("i",t.length,a,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:vm.Type.Num},c),i.allErrors||r.if((0,wo.not)(c),()=>r.break())})}}ea.validateAdditionalItems=KE;ea.default=Hj});var wm=S(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.validateTuple=void 0;var WE=Q(),yc=pe(),qj=mr(),Gj={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return ZE(e,"additionalItems",t);r.items=!0,!(0,yc.alwaysValidSchema)(r,t)&&e.ok((0,qj.validateArray)(e))}};function ZE(e,t,r=e.schema){let{gen:n,parentSchema:o,data:s,keyword:i,it:a}=e;l(o),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=yc.mergeEvaluated.items(n,r.length,a.items));let u=n.name("valid"),c=n.const("len",(0,WE._)`${s}.length`);r.forEach((p,d)=>{(0,yc.alwaysValidSchema)(a,p)||(n.if((0,WE._)`${c} > ${d}`,()=>e.subschema({keyword:i,schemaProp:d,dataProp:d},u)),e.ok(u))});function l(p){let{opts:d,errSchemaPath:h}=a,m=r.length,f=m===p.minItems&&(m===p.maxItems||p[t]===!1);if(d.strictTuples&&!f){let g=`"${i}" is ${m}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,yc.checkStrictMode)(a,g,d.strictTuples)}}}ta.validateTuple=ZE;ta.default=Gj});var JE=S(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});var Kj=wm(),Wj={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Kj.validateTuple)(e,"items")};bm.default=Wj});var QE=S(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});var YE=Q(),Zj=pe(),Jj=mr(),Yj=Cm(),Qj={message:({params:{len:e}})=>(0,YE.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,YE._)`{limit: ${e}}`},Xj={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Qj,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:o}=r;n.items=!0,!(0,Zj.alwaysValidSchema)(n,t)&&(o?(0,Yj.validateAdditionalItems)(e,o):e.ok((0,Jj.validateArray)(e)))}};xm.default=Xj});var XE=S(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});var gr=Q(),Dc=pe(),e3={message:({params:{min:e,max:t}})=>t===void 0?(0,gr.str)`must contain at least ${e} valid item(s)`:(0,gr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,gr._)`{minContains: ${e}}`:(0,gr._)`{minContains: ${e}, maxContains: ${t}}`},t3={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:e3,code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:s}=e,i,a,{minContains:u,maxContains:c}=n;s.opts.next?(i=u===void 0?1:u,a=c):i=1;let l=t.const("len",(0,gr._)`${o}.length`);if(e.setParams({min:i,max:a}),a===void 0&&i===0){(0,Dc.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&i>a){(0,Dc.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Dc.alwaysValidSchema)(s,r)){let f=(0,gr._)`${l} >= ${i}`;a!==void 0&&(f=(0,gr._)`${f} && ${l} <= ${a}`),e.pass(f);return}s.items=!0;let p=t.name("valid");a===void 0&&i===1?h(p,()=>t.if(p,()=>t.break())):i===0?(t.let(p,!0),a!==void 0&&t.if((0,gr._)`${o}.length > 0`,d)):(t.let(p,!1),d()),e.result(p,()=>e.reset());function d(){let f=t.name("_valid"),g=t.let("count",0);h(f,()=>t.if(f,()=>m(g)))}function h(f,g){t.forRange("i",0,l,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Dc.Type.Num,compositeRule:!0},f),g()})}function m(f){t.code((0,gr._)`${f}++`),a===void 0?t.if((0,gr._)`${f} >= ${i}`,()=>t.assign(p,!0).break()):(t.if((0,gr._)`${f} > ${a}`,()=>t.assign(p,!1).break()),i===1?t.assign(p,!0):t.if((0,gr._)`${f} >= ${i}`,()=>t.assign(p,!0)))}}};Sm.default=t3});var r_=S(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.validateSchemaDeps=tn.validatePropertyDeps=tn.error=void 0;var Em=Q(),r3=pe(),ra=mr();tn.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,Em.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,Em._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var n3={keyword:"dependencies",type:"object",schemaType:"object",error:tn.error,code(e){let[t,r]=o3(e);e_(e,t),t_(e,r)}};function o3({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let o=Array.isArray(e[n])?t:r;o[n]=e[n]}return[t,r]}function e_(e,t=e.schema){let{gen:r,data:n,it:o}=e;if(Object.keys(t).length===0)return;let s=r.let("missing");for(let i in t){let a=t[i];if(a.length===0)continue;let u=(0,ra.propertyInData)(r,n,i,o.opts.ownProperties);e.setParams({property:i,depsCount:a.length,deps:a.join(", ")}),o.allErrors?r.if(u,()=>{for(let c of a)(0,ra.checkReportMissingProp)(e,c)}):(r.if((0,Em._)`${u} && (${(0,ra.checkMissingProp)(e,a,s)})`),(0,ra.reportMissingProp)(e,s),r.else())}}tn.validatePropertyDeps=e_;function t_(e,t=e.schema){let{gen:r,data:n,keyword:o,it:s}=e,i=r.name("valid");for(let a in t)(0,r3.alwaysValidSchema)(s,t[a])||(r.if((0,ra.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let u=e.subschema({keyword:o,schemaProp:a},i);e.mergeValidEvaluated(u,i)},()=>r.var(i,!0)),e.ok(i))}tn.validateSchemaDeps=t_;tn.default=n3});var o_=S(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});var n_=Q(),i3=pe(),s3={message:"property name must be valid",params:({params:e})=>(0,n_._)`{propertyName: ${e.propertyName}}`},a3={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:s3,code(e){let{gen:t,schema:r,data:n,it:o}=e;if((0,i3.alwaysValidSchema)(o,r))return;let s=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),t.if((0,n_.not)(s),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(s)}};_m.default=a3});var Tm=S(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});var vc=mr(),Ar=Q(),u3=Cn(),Cc=pe(),c3={message:"must NOT have additional properties",params:({params:e})=>(0,Ar._)`{additionalProperty: ${e.additionalProperty}}`},l3={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:c3,code(e){let{gen:t,schema:r,parentSchema:n,data:o,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:u}=i;if(i.props=!0,u.removeAdditional!=="all"&&(0,Cc.alwaysValidSchema)(i,r))return;let c=(0,vc.allSchemaProperties)(n.properties),l=(0,vc.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Ar._)`${s} === ${u3.default.errors}`);function p(){t.forIn("key",o,g=>{!c.length&&!l.length?m(g):t.if(d(g),()=>m(g))})}function d(g){let y;if(c.length>8){let b=(0,Cc.schemaRefOrVal)(i,n.properties,"properties");y=(0,vc.isOwnProperty)(t,b,g)}else c.length?y=(0,Ar.or)(...c.map(b=>(0,Ar._)`${g} === ${b}`)):y=Ar.nil;return l.length&&(y=(0,Ar.or)(y,...l.map(b=>(0,Ar._)`${(0,vc.usePattern)(e,b)}.test(${g})`))),(0,Ar.not)(y)}function h(g){t.code((0,Ar._)`delete ${o}[${g}]`)}function m(g){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){h(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Cc.alwaysValidSchema)(i,r)){let y=t.name("valid");u.removeAdditional==="failing"?(f(g,y,!1),t.if((0,Ar.not)(y),()=>{e.reset(),h(g)})):(f(g,y),a||t.if((0,Ar.not)(y),()=>t.break()))}}function f(g,y,b){let w={keyword:"additionalProperties",dataProp:g,dataPropType:Cc.Type.Str};b===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,y)}}};Pm.default=l3});var a_=S(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});var p3=Us(),i_=mr(),Am=pe(),s_=Tm(),d3={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&s_.default.code(new p3.KeywordCxt(s,s_.default,"additionalProperties"));let i=(0,i_.allSchemaProperties)(r);for(let p of i)s.definedProperties.add(p);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Am.mergeEvaluated.props(t,(0,Am.toHash)(i),s.props));let a=i.filter(p=>!(0,Am.alwaysValidSchema)(s,r[p]));if(a.length===0)return;let u=t.name("valid");for(let p of a)c(p)?l(p):(t.if((0,i_.propertyInData)(t,o,p,s.opts.ownProperties)),l(p),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(u);function c(p){return s.opts.useDefaults&&!s.compositeRule&&r[p].default!==void 0}function l(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},u)}}};Rm.default=d3});var p_=S(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});var u_=mr(),wc=Q(),c_=pe(),l_=pe(),f3={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:o,it:s}=e,{opts:i}=s,a=(0,u_.allSchemaProperties)(r),u=a.filter(f=>(0,c_.alwaysValidSchema)(s,r[f]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let c=i.strictSchema&&!i.allowMatchingProperties&&o.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof wc.Name)&&(s.props=(0,l_.evaluatedPropsToName)(t,s.props));let{props:p}=s;d();function d(){for(let f of a)c&&h(f),s.allErrors?m(f):(t.var(l,!0),m(f),t.if(l))}function h(f){for(let g in c)new RegExp(f).test(g)&&(0,c_.checkStrictMode)(s,`property ${g} matches pattern ${f} (use allowMatchingProperties)`)}function m(f){t.forIn("key",n,g=>{t.if((0,wc._)`${(0,u_.usePattern)(e,f)}.test(${g})`,()=>{let y=u.includes(f);y||e.subschema({keyword:"patternProperties",schemaProp:f,dataProp:g,dataPropType:l_.Type.Str},l),s.opts.unevaluated&&p!==!0?t.assign((0,wc._)`${p}[${g}]`,!0):!y&&!s.allErrors&&t.if((0,wc.not)(l),()=>t.break())})})}}};Fm.default=f3});var d_=S($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});var m3=pe(),h3={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,m3.alwaysValidSchema)(n,r)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};$m.default=h3});var f_=S(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});var g3=mr(),y3={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:g3.validateUnion,error:{message:"must match a schema in anyOf"}};km.default=y3});var m_=S(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});var bc=Q(),D3=pe(),v3={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,bc._)`{passingSchemas: ${e.passing}}`},C3={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:v3,code(e){let{gen:t,schema:r,parentSchema:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&n.discriminator)return;let s=r,i=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(i,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((l,p)=>{let d;(0,D3.alwaysValidSchema)(o,l)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},u),p>0&&t.if((0,bc._)`${u} && ${i}`).assign(i,!1).assign(a,(0,bc._)`[${a}, ${p}]`).else(),t.if(u,()=>{t.assign(i,!0),t.assign(a,p),d&&e.mergeEvaluated(d,bc.Name)})})}}};Im.default=C3});var h_=S(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});var w3=pe(),b3={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=t.name("valid");r.forEach((s,i)=>{if((0,w3.alwaysValidSchema)(n,s))return;let a=e.subschema({keyword:"allOf",schemaProp:i},o);e.ok(o),e.mergeEvaluated(a)})}};Nm.default=b3});var D_=S(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});var xc=Q(),y_=pe(),x3={message:({params:e})=>(0,xc.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,xc._)`{failingKeyword: ${e.ifClause}}`},S3={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:x3,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,y_.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=g_(n,"then"),s=g_(n,"else");if(!o&&!s)return;let i=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),o&&s){let l=t.let("ifClause");e.setParams({ifClause:l}),t.if(a,c("then",l),c("else",l))}else o?t.if(a,c("then")):t.if((0,xc.not)(a),c("else"));e.pass(i,()=>e.error(!0));function u(){let l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(l)}function c(l,p){return()=>{let d=e.subschema({keyword:l},a);t.assign(i,a),e.mergeValidEvaluated(d,i),p?t.assign(p,(0,xc._)`${l}`):e.setParams({ifClause:l})}}}};function g_(e,t){let r=e.schema[t];return r!==void 0&&!(0,y_.alwaysValidSchema)(e,r)}Om.default=S3});var v_=S(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});var E3=pe(),_3={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,E3.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Mm.default=_3});var C_=S(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});var P3=Cm(),T3=JE(),A3=wm(),R3=QE(),F3=XE(),$3=r_(),k3=o_(),I3=Tm(),N3=a_(),O3=p_(),M3=d_(),L3=f_(),B3=m_(),z3=h_(),j3=D_(),U3=v_();function V3(e=!1){let t=[M3.default,L3.default,B3.default,z3.default,j3.default,U3.default,k3.default,I3.default,$3.default,N3.default,O3.default];return e?t.push(T3.default,R3.default):t.push(P3.default,A3.default),t.push(F3.default),t}Lm.default=V3});var w_=S(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});var Ge=Q(),H3={message:({schemaCode:e})=>(0,Ge.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ge._)`{format: ${e}}`},q3={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:H3,code(e,t){let{gen:r,data:n,$data:o,schema:s,schemaCode:i,it:a}=e,{opts:u,errSchemaPath:c,schemaEnv:l,self:p}=a;if(!u.validateFormats)return;o?d():h();function d(){let m=r.scopeValue("formats",{ref:p.formats,code:u.code.formats}),f=r.const("fDef",(0,Ge._)`${m}[${i}]`),g=r.let("fType"),y=r.let("format");r.if((0,Ge._)`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>r.assign(g,(0,Ge._)`${f}.type || "string"`).assign(y,(0,Ge._)`${f}.validate`),()=>r.assign(g,(0,Ge._)`"string"`).assign(y,f)),e.fail$data((0,Ge.or)(b(),w()));function b(){return u.strictSchema===!1?Ge.nil:(0,Ge._)`${i} && !${y}`}function w(){let T=l.$async?(0,Ge._)`(${f}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,Ge._)`${y}(${n})`,E=(0,Ge._)`(typeof ${y} == "function" ? ${T} : ${y}.test(${n}))`;return(0,Ge._)`${y} && ${y} !== true && ${g} === ${t} && !${E}`}}function h(){let m=p.formats[s];if(!m){b();return}if(m===!0)return;let[f,g,y]=w(m);f===t&&e.pass(T());function b(){if(u.strictSchema===!1){p.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function w(E){let R=E instanceof RegExp?(0,Ge.regexpCode)(E):u.code.formats?(0,Ge._)`${u.code.formats}${(0,Ge.getProperty)(s)}`:void 0,$=r.scopeValue("formats",{key:s,ref:E,code:R});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,Ge._)`${$}.validate`]:["string",E,$]}function T(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!l.$async)throw new Error("async format in sync schema");return(0,Ge._)`await ${y}(${n})`}return typeof g=="function"?(0,Ge._)`${y}(${n})`:(0,Ge._)`${y}.test(${n})`}}}};Bm.default=q3});var b_=S(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});var G3=w_(),K3=[G3.default];zm.default=K3});var x_=S(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.contentVocabulary=hi.metadataVocabulary=void 0;hi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];hi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var E_=S(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});var W3=$E(),Z3=GE(),J3=C_(),Y3=b_(),S_=x_(),Q3=[W3.default,Z3.default,(0,J3.default)(),Y3.default,S_.metadataVocabulary,S_.contentVocabulary];jm.default=Q3});var P_=S(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.DiscrError=void 0;var __;(function(e){e.Tag="tag",e.Mapping="mapping"})(__||(Sc.DiscrError=__={}))});var A_=S(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});var gi=Q(),Um=P_(),T_=sc(),X3=Vs(),eU=pe(),tU={message:({params:{discrError:e,tagName:t}})=>e===Um.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,gi._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},rU={keyword:"discriminator",type:"object",schemaType:"object",error:tU,code(e){let{gen:t,data:r,schema:n,parentSchema:o,it:s}=e,{oneOf:i}=o;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let u=t.let("valid",!1),c=t.const("tag",(0,gi._)`${r}${(0,gi.getProperty)(a)}`);t.if((0,gi._)`typeof ${c} == "string"`,()=>l(),()=>e.error(!1,{discrError:Um.DiscrError.Tag,tag:c,tagName:a})),e.ok(u);function l(){let h=d();t.if(!1);for(let m in h)t.elseIf((0,gi._)`${c} === ${m}`),t.assign(u,p(h[m]));t.else(),e.error(!1,{discrError:Um.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function p(h){let m=t.name("valid"),f=e.subschema({keyword:"oneOf",schemaProp:h},m);return e.mergeEvaluated(f,gi.Name),m}function d(){var h;let m={},f=y(o),g=!0;for(let T=0;T<i.length;T++){let E=i[T];if(E?.$ref&&!(0,eU.schemaHasRulesButRef)(E,s.self.RULES)){let $=E.$ref;if(E=T_.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,$),E instanceof T_.SchemaEnv&&(E=E.schema),E===void 0)throw new X3.default(s.opts.uriResolver,s.baseId,$)}let R=(h=E?.properties)===null||h===void 0?void 0:h[a];if(typeof R!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(f||y(E)),b(R,T)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return m;function y({required:T}){return Array.isArray(T)&&T.includes(a)}function b(T,E){if(T.const)w(T.const,E);else if(T.enum)for(let R of T.enum)w(R,E);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function w(T,E){if(typeof T!="string"||T in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[T]=E}}}};Vm.default=rU});var R_=S((Tne,nU)=>{nU.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var qm=S((Ne,Hm)=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.MissingRefError=Ne.ValidationError=Ne.CodeGen=Ne.Name=Ne.nil=Ne.stringify=Ne.str=Ne._=Ne.KeywordCxt=Ne.Ajv=void 0;var oU=_E(),iU=E_(),sU=A_(),F_=R_(),aU=["/properties"],Ec="http://json-schema.org/draft-07/schema",yi=class extends oU.default{_addVocabularies(){super._addVocabularies(),iU.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(sU.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(F_,aU):F_;this.addMetaSchema(t,Ec,!1),this.refs["http://json-schema.org/schema"]=Ec}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Ec)?Ec:void 0)}};Ne.Ajv=yi;Hm.exports=Ne=yi;Hm.exports.Ajv=yi;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=yi;var uU=Us();Object.defineProperty(Ne,"KeywordCxt",{enumerable:!0,get:function(){return uU.KeywordCxt}});var Di=Q();Object.defineProperty(Ne,"_",{enumerable:!0,get:function(){return Di._}});Object.defineProperty(Ne,"str",{enumerable:!0,get:function(){return Di.str}});Object.defineProperty(Ne,"stringify",{enumerable:!0,get:function(){return Di.stringify}});Object.defineProperty(Ne,"nil",{enumerable:!0,get:function(){return Di.nil}});Object.defineProperty(Ne,"Name",{enumerable:!0,get:function(){return Di.Name}});Object.defineProperty(Ne,"CodeGen",{enumerable:!0,get:function(){return Di.CodeGen}});var cU=oc();Object.defineProperty(Ne,"ValidationError",{enumerable:!0,get:function(){return cU.default}});var lU=Vs();Object.defineProperty(Ne,"MissingRefError",{enumerable:!0,get:function(){return lU.default}})});var B_=S(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.formatNames=nn.fastFormats=nn.fullFormats=void 0;function rn(e,t){return{validate:e,compare:t}}nn.fullFormats={date:rn(N_,Zm),time:rn(Km(!0),Jm),"date-time":rn($_(!0),M_),"iso-time":rn(Km(),O_),"iso-date-time":rn($_(),L_),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:gU,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:xU,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:yU,int32:{type:"number",validate:CU},int64:{type:"number",validate:wU},float:{type:"number",validate:I_},double:{type:"number",validate:I_},password:!0,binary:!0};nn.fastFormats={...nn.fullFormats,date:rn(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Zm),time:rn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Jm),"date-time":rn(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,M_),"iso-time":rn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,O_),"iso-date-time":rn(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,L_),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};nn.formatNames=Object.keys(nn.fullFormats);function pU(e){return e%4===0&&(e%100!==0||e%400===0)}var dU=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,fU=[0,31,28,31,30,31,30,31,31,30,31,30,31];function N_(e){let t=dU.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&pU(r)?29:fU[n])}function Zm(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Gm=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Km(e){return function(r){let n=Gm.exec(r);if(!n)return!1;let o=+n[1],s=+n[2],i=+n[3],a=n[4],u=n[5]==="-"?-1:1,c=+(n[6]||0),l=+(n[7]||0);if(c>23||l>59||e&&!a)return!1;if(o<=23&&s<=59&&i<60)return!0;let p=s-l*u,d=o-c*u-(p<0?1:0);return(d===23||d===-1)&&(p===59||p===-1)&&i<61}}function Jm(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function O_(e,t){if(!(e&&t))return;let r=Gm.exec(e),n=Gm.exec(t);if(r&&n)return e=r[1]+r[2]+r[3],t=n[1]+n[2]+n[3],e>t?1:e<t?-1:0}var Wm=/t|\s/i;function $_(e){let t=Km(e);return function(n){let o=n.split(Wm);return o.length===2&&N_(o[0])&&t(o[1])}}function M_(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function L_(e,t){if(!(e&&t))return;let[r,n]=e.split(Wm),[o,s]=t.split(Wm),i=Zm(r,o);if(i!==void 0)return i||Jm(n,s)}var mU=/\/|:/,hU=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function gU(e){return mU.test(e)&&hU.test(e)}var k_=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function yU(e){return k_.lastIndex=0,k_.test(e)}var DU=-(2**31),vU=2**31-1;function CU(e){return Number.isInteger(e)&&e<=vU&&e>=DU}function wU(e){return Number.isInteger(e)}function I_(){return!0}var bU=/[^\\]\\Z/;function xU(e){if(bU.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var z_=S(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.formatLimitDefinition=void 0;var SU=qm(),Rr=Q(),Un=Rr.operators,_c={formatMaximum:{okStr:"<=",ok:Un.LTE,fail:Un.GT},formatMinimum:{okStr:">=",ok:Un.GTE,fail:Un.LT},formatExclusiveMaximum:{okStr:"<",ok:Un.LT,fail:Un.GTE},formatExclusiveMinimum:{okStr:">",ok:Un.GT,fail:Un.LTE}},EU={message:({keyword:e,schemaCode:t})=>(0,Rr.str)`should be ${_c[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Rr._)`{comparison: ${_c[e].okStr}, limit: ${t}}`};vi.formatLimitDefinition={keyword:Object.keys(_c),type:"string",schemaType:"string",$data:!0,error:EU,code(e){let{gen:t,data:r,schemaCode:n,keyword:o,it:s}=e,{opts:i,self:a}=s;if(!i.validateFormats)return;let u=new SU.KeywordCxt(s,a.RULES.all.format.definition,"format");u.$data?c():l();function c(){let d=t.scopeValue("formats",{ref:a.formats,code:i.code.formats}),h=t.const("fmt",(0,Rr._)`${d}[${u.schemaCode}]`);e.fail$data((0,Rr.or)((0,Rr._)`typeof ${h} != "object"`,(0,Rr._)`${h} instanceof RegExp`,(0,Rr._)`typeof ${h}.compare != "function"`,p(h)))}function l(){let d=u.schema,h=a.formats[d];if(!h||h===!0)return;if(typeof h!="object"||h instanceof RegExp||typeof h.compare!="function")throw new Error(`"${o}": format "${d}" does not define "compare" function`);let m=t.scopeValue("formats",{key:d,ref:h,code:i.code.formats?(0,Rr._)`${i.code.formats}${(0,Rr.getProperty)(d)}`:void 0});e.fail$data(p(m))}function p(d){return(0,Rr._)`${d}.compare(${r}, ${n}) ${_c[o].fail} 0`}},dependencies:["format"]};var _U=e=>(e.addKeyword(vi.formatLimitDefinition),e);vi.default=_U});var H_=S((na,V_)=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var Ci=B_(),PU=z_(),Ym=Q(),j_=new Ym.Name("fullFormats"),TU=new Ym.Name("fastFormats"),Qm=(e,t={keywords:!0})=>{if(Array.isArray(t))return U_(e,t,Ci.fullFormats,j_),e;let[r,n]=t.mode==="fast"?[Ci.fastFormats,TU]:[Ci.fullFormats,j_],o=t.formats||Ci.formatNames;return U_(e,o,r,n),t.keywords&&(0,PU.default)(e),e};Qm.get=(e,t="full")=>{let n=(t==="fast"?Ci.fastFormats:Ci.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function U_(e,t,r,n){var o,s;(o=(s=e.opts.code).formats)!==null&&o!==void 0||(s.formats=(0,Ym._)`require("ajv-formats/dist/formats").${n}`);for(let i of t)e.addFormat(i,r[i])}V_.exports=na=Qm;Object.defineProperty(na,"__esModule",{value:!0});na.default=Qm});var Z_=S((Zne,W_)=>{W_.exports=K_;K_.sync=kU;var q_=require("fs");function $U(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function G_(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:$U(t,r)}function K_(e,t,r){q_.stat(e,function(n,o){r(n,n?!1:G_(o,e,t))})}function kU(e,t){return G_(q_.statSync(e),e,t)}});var eP=S((Jne,X_)=>{X_.exports=Y_;Y_.sync=IU;var J_=require("fs");function Y_(e,t,r){J_.stat(e,function(n,o){r(n,n?!1:Q_(o,t))})}function IU(e,t){return Q_(J_.statSync(e),t)}function Q_(e,t){return e.isFile()&&NU(e,t)}function NU(e,t){var r=e.mode,n=e.uid,o=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),i=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,p=r&c||r&u&&o===i||r&a&&n===s||r&l&&s===0;return p}});var rP=S((Qne,tP)=>{var Yne=require("fs"),Pc;process.platform==="win32"||global.TESTING_WINDOWS?Pc=Z_():Pc=eP();tP.exports=Xm;Xm.sync=OU;function Xm(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Xm(e,t||{},function(s,i){s?o(s):n(i)})})}Pc(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function OU(e,t){try{return Pc.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var cP=S((Xne,uP)=>{var wi=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",nP=require("path"),MU=wi?";":":",oP=rP(),iP=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),sP=(e,t)=>{let r=t.colon||MU,n=e.match(/\//)||wi&&e.match(/\\/)?[""]:[...wi?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=wi?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=wi?o.split(r):[""];return wi&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:o}},aP=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:s}=sP(e,t),i=[],a=c=>new Promise((l,p)=>{if(c===n.length)return t.all&&i.length?l(i):p(iP(e));let d=n[c],h=/^".*"$/.test(d)?d.slice(1,-1):d,m=nP.join(h,e),f=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;l(u(f,c,0))}),u=(c,l,p)=>new Promise((d,h)=>{if(p===o.length)return d(a(l+1));let m=o[p];oP(c+m,{pathExt:s},(f,g)=>{if(!f&&g)if(t.all)i.push(c+m);else return d(c+m);return d(u(c,l,p+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},LU=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=sP(e,t),s=[];for(let i=0;i<r.length;i++){let a=r[i],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=nP.join(u,e),l=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let d=l+n[p];try{if(oP.sync(d,{pathExt:o}))if(t.all)s.push(d);else return d}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw iP(e)};uP.exports=aP;aP.sync=LU});var pP=S((eoe,eh)=>{"use strict";var lP=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};eh.exports=lP;eh.exports.default=lP});var hP=S((toe,mP)=>{"use strict";var dP=require("path"),BU=cP(),zU=pP();function fP(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,s=o&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let i;try{i=BU.sync(e.command,{path:r[zU({env:r})],pathExt:t?dP.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return i&&(i=dP.resolve(o?e.options.cwd:"",i)),i}function jU(e){return fP(e)||fP(e,!0)}mP.exports=jU});var gP=S((roe,rh)=>{"use strict";var th=/([()\][%!^"`<>&|;, *?])/g;function UU(e){return e=e.replace(th,"^$1"),e}function VU(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(th,"^$1"),t&&(e=e.replace(th,"^$1")),e}rh.exports.command=UU;rh.exports.argument=VU});var DP=S((noe,yP)=>{"use strict";yP.exports=/^#!(.*)/});var CP=S((ooe,vP)=>{"use strict";var HU=DP();vP.exports=(e="")=>{let t=e.match(HU);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var bP=S((ioe,wP)=>{"use strict";var nh=require("fs"),qU=CP();function GU(e){let r=Buffer.alloc(150),n;try{n=nh.openSync(e,"r"),nh.readSync(n,r,0,150,0),nh.closeSync(n)}catch{}return qU(r.toString())}wP.exports=GU});var _P=S((soe,EP)=>{"use strict";var KU=require("path"),xP=hP(),SP=gP(),WU=bP(),ZU=process.platform==="win32",JU=/\.(?:com|exe)$/i,YU=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function QU(e){e.file=xP(e);let t=e.file&&WU(e.file);return t?(e.args.unshift(e.file),e.command=t,xP(e)):e.file}function XU(e){if(!ZU)return e;let t=QU(e),r=!JU.test(t);if(e.options.forceShell||r){let n=YU.test(t);e.command=KU.normalize(e.command),e.command=SP.command(e.command),e.args=e.args.map(s=>SP.argument(s,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function e8(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:XU(n)}EP.exports=e8});var AP=S((aoe,TP)=>{"use strict";var oh=process.platform==="win32";function ih(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function t8(e,t){if(!oh)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let s=PP(o,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function PP(e,t){return oh&&e===1&&!t.file?ih(t.original,"spawn"):null}function r8(e,t){return oh&&e===1&&!t.file?ih(t.original,"spawnSync"):null}TP.exports={hookChildProcess:t8,verifyENOENT:PP,verifyENOENTSync:r8,notFoundError:ih}});var $P=S((uoe,bi)=>{"use strict";var RP=require("child_process"),sh=_P(),ah=AP();function FP(e,t,r){let n=sh(e,t,r),o=RP.spawn(n.command,n.args,n.options);return ah.hookChildProcess(o,n),o}function n8(e,t,r){let n=sh(e,t,r),o=RP.spawnSync(n.command,n.args,n.options);return o.error=o.error||ah.verifyENOENTSync(o.status,n),o}bi.exports=FP;bi.exports.spawn=FP;bi.exports.sync=n8;bi.exports._parse=sh;bi.exports._enoent=ah});var OP=S((Hoe,w8)=>{w8.exports={name:"dotenv",version:"16.3.2",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var zP=S((qoe,xn)=>{var MP=require("fs"),uh=require("path"),b8=require("os"),x8=require("crypto"),S8=OP(),ch=S8.version,E8=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function _8(e){let t={},r=e.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=E8.exec(r))!=null;){let o=n[1],s=n[2]||"";s=s.trim();let i=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),i==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),t[o]=s}return t}function P8(e){let t=BP(e),r=it.configDotenv({path:t});if(!r.parsed)throw new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);let n=LP(e).split(","),o=n.length,s;for(let i=0;i<o;i++)try{let a=n[i].trim(),u=R8(r,a);s=it.decrypt(u.ciphertext,u.key);break}catch(a){if(i+1>=o)throw a}return it.parse(s)}function T8(e){console.log(`[dotenv@${ch}][INFO] ${e}`)}function A8(e){console.log(`[dotenv@${ch}][WARN] ${e}`)}function Tc(e){console.log(`[dotenv@${ch}][DEBUG] ${e}`)}function LP(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function R8(e,t){let r;try{r=new URL(t)}catch(a){throw a.code==="ERR_INVALID_URL"?new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development"):a}let n=r.password;if(!n)throw new Error("INVALID_DOTENV_KEY: Missing key part");let o=r.searchParams.get("environment");if(!o)throw new Error("INVALID_DOTENV_KEY: Missing environment part");let s=`DOTENV_VAULT_${o.toUpperCase()}`,i=e.parsed[s];if(!i)throw new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);return{ciphertext:i,key:n}}function BP(e){let t=uh.resolve(process.cwd(),".env");return e&&e.path&&e.path.length>0&&(t=e.path),t.endsWith(".vault")?t:`${t}.vault`}function F8(e){return e[0]==="~"?uh.join(b8.homedir(),e.slice(1)):e}function $8(e){T8("Loading env from encrypted .env.vault");let t=it._parseVault(e),r=process.env;return e&&e.processEnv!=null&&(r=e.processEnv),it.populate(r,t,e),{parsed:t}}function k8(e){let t=uh.resolve(process.cwd(),".env"),r="utf8",n=!!(e&&e.debug);e&&(e.path!=null&&(t=F8(e.path)),e.encoding!=null?r=e.encoding:n&&Tc("No encoding is specified. UTF-8 is used by default"));try{let o=it.parse(MP.readFileSync(t,{encoding:r})),s=process.env;return e&&e.processEnv!=null&&(s=e.processEnv),it.populate(s,o,e),{parsed:o}}catch(o){return n&&Tc(`Failed to load ${t} ${o.message}`),{error:o}}}function I8(e){let t=BP(e);return LP(e).length===0?it.configDotenv(e):MP.existsSync(t)?it._configVault(e):(A8(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),it.configDotenv(e))}function N8(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),o=n.subarray(0,12),s=n.subarray(-16);n=n.subarray(12,-16);try{let i=x8.createDecipheriv("aes-256-gcm",r,o);return i.setAuthTag(s),`${i.update(n)}${i.final()}`}catch(i){let a=i instanceof RangeError,u=i.message==="Invalid key length",c=i.message==="Unsupported state or unable to authenticate data";if(a||u){let l="INVALID_DOTENV_KEY: It must be 64 characters long (or more)";throw new Error(l)}else if(c){let l="DECRYPTION_FAILED: Please check your DOTENV_KEY";throw new Error(l)}else throw console.error("Error: ",i.code),console.error("Error: ",i.message),i}}function O8(e,t,r={}){let n=!!(r&&r.debug),o=!!(r&&r.override);if(typeof t!="object")throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(let s of Object.keys(t))Object.prototype.hasOwnProperty.call(e,s)?(o===!0&&(e[s]=t[s]),n&&Tc(o===!0?`"${s}" is already defined and WAS overwritten`:`"${s}" is already defined and was NOT overwritten`)):e[s]=t[s]}var it={configDotenv:k8,_configVault:$8,_parseVault:P8,config:I8,decrypt:N8,parse:_8,populate:O8};xn.exports.configDotenv=it.configDotenv;xn.exports._configVault=it._configVault;xn.exports._parseVault=it._parseVault;xn.exports.config=it.config;xn.exports.decrypt=it.decrypt;xn.exports.parse=it.parse;xn.exports.populate=it.populate;xn.exports=it});var w4={};ba(w4,{createDevToolsServer:()=>lh,version:()=>xh});module.exports=cT(w4);var lT="1.25.0",Xt=process.env.OVERRIDE_VERSION??lT;var Rc=require("node:http");var $c="preview-url";var bo="framework",xa="platform",Sa="node",Eh="/~builder-connect",qn="/~builder-connected",kc="/~builder-dev-tools",Ic="/~builder-dev-tools.js",Gn="/~builder-dev-tools-close",_h="/mappings";function se(e,t=""){return e.ts.createSourceFile("module.tsx",typeof t=="string"?t:"",e.ts.ScriptTarget.Latest,void 0)}function Ea(e,t=""){let r=se(e,t?.trim());if(r.statements.length===0)throw new Error(`No statements found in code: ${t}`);return r.statements[0]}function et(e,t,r){if(t){let n=e.ts.createPrinter({newLine:e.ts.NewLineKind.LineFeed,removeComments:r});return e.ts.isSourceFile(t)?n.printFile(t).trim()+`
`:n.printNode(e.ts.EmitHint.Unspecified,t,e.ts.createSourceFile("module.tsx","",e.ts.ScriptTarget.Latest)).trim()+`
`}return""}var Rh=H(Th(),1);function er(e){return e.endsWith(".mapper.tsx")||e.endsWith(".mapper.jsx")||e.endsWith(".mapper.ts")||e.endsWith(".mapper.js")||e.endsWith(".mapper.mjs")}function ae(e,t,r){t=Dr(t),r=Dr(r),t=e.dirname(t);let n=e.basename(r,e.extname(r));r=e.dirname(r);let o;return n==="index"?o=e.relative(t,r):o=e.relative(t,e.join(r,n)),o=Dr(e.normalize(o)),o.startsWith(".")||(o="./"+o),o}function Dr(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}function Kn(e,t){let r=e.extname(t),n=e.basename(t,r).split(/[\/\\]/),o=n[n.length-1];return Ah(o==="index"?e.basename(e.dirname(t)):o)}function Ah(e){return Se(e).replace(/ /g,"")}function tr(e,t){let r=e.extname(t),n=Dr(e.basename(t,r)).split("/").pop();return Se(n==="index"?e.basename(e.dirname(t)):n)}function Ee(e,t){let r=Dr(e.relative(e.getAppRootDir(),t));r=r.split("/").filter(o=>o!=="."&&o!==".."&&o!=="").join("/"),r.endsWith(".tsx")||r.endsWith(".jsx")?r=r.slice(0,-4):(r.endsWith(".ts")||r.endsWith(".js"))&&(r=r.slice(0,-3));let n=e.getFrameworks();return r.startsWith("src/")&&(r=r.slice(4)),n.some(o=>o.name.includes("next"))?"@/"+r:"~/"+r}function ge(e,t){let r=t,n=[];for(let o=0;o<2;o++){let s=e.basename(r);if(!s||s==="components")break;n.unshift(s),r=e.dirname(r)}return n.join("/")}function Se(e){for(e=e.replace(/([A-Z])/g," $1").replace(/\./g," ").replace(/_/g," ").replace(/-/g," ").replace(/\s/g," ").trim();e.includes("  ");)e=e.replace(/  /g," ");return e.split(" ").map(t=>t.length>2?t[0].toUpperCase()+t.slice(1):t).join("").trim()}function Rt(e){return e.sort((t,r)=>t.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase()))}async function we(e,t,r,n){if(typeof r!="string"||r==="")throw new Error(`getComponentId(), exportName must be a non-empty string, received: ${r}, ${t}`);return n&&(t=n),t=e.normalize(t),(await e.hash(t+"#"+r)).substring(0,8)}async function Fh(e){return(await e.hash(e.getAppRootDir())).substring(0,8)}function Fi(e){return typeof e=="number"}function xo(e){return typeof e=="boolean"}function xt(e){return typeof e=="string"}function So(e){return typeof e=="string"?/^[A-Z][A-Za-z0-9]*$/.test(e):!1}function Ht(e){return JSON.parse(JSON.stringify(e))}function _a(e,t,r){for(let n of t)if(e.dirname(r).includes(n))return!0;return!1}function $h(){try{let e=(0,Rh.default)();if(e?.name)return e.name}catch{}return"npm"}function dT(){return process.platform.startsWith("win")}function Oe(){return process.pkg?"@builder.io/agent":dT()?'"@builder.io/dev-tools"':"builder.io"}function St(e){let t=e.join(e.getAppRootDir(),"tsconfig.json");return e.exists(t)}var fT=["node_modules","dist","build","public"];async function Ft(e,t){async function r(o,s){if(s>10)return;let i=await e.readdir(o);for(let a of i){if(fT.includes(a))continue;let u=e.join(o,a),c=await e.stat(u);if(c){if(c.isFile()&&a.startsWith("builder-registry."))return u;if(c.isDirectory()){let l=await r(u,s+1);if(l)return l}}}}let n=await r(e.getAppRootDir(),0);if(!n){let s=`builder-registry.${await St(e)?"ts":"js"}`;return e.join(t,s)}return n}async function Sn(e,t){let r=e.resolve("/");for(let n=0;n<20;n++){let o=e.join(t,"package.json"),s=await e.readFile(o);if(s)return JSON.parse(s);if(t===r)break;t=e.dirname(t)}return null}async function kh(e,t){for(let r=0;r<20;r++){let n=e.dirname(t),o=e.join(n,"node_modules");if(await e.exists(o))return o;if(t===e.getAppRootDir())break;t=e.dirname(t)}return e.join(e.getAppRootDir(),"node_modules")}async function $i(e,t,r){let n=await e.readdir(t);return n.includes(r)?e.join(t,r):(await Promise.all(n.map(async s=>{if(s.startsWith(".")||s==="node_modules")return;let i=e.join(t,s);if((await e.stat(i)).isDirectory()){let u=await $i(e,i,r);if(u)return u}}))).find(s=>typeof s=="string")}async function Ye(e,t,r){if(!Array.isArray(t)||t.length===0)throw new Error(`createTsProgram() Invalid filePaths: ${t}`);let n=await kh(e,t[0]),o=e.join(n,"typescript","lib"),s=new Map,i={fileExists:a=>{if(a=e.normalize(a),a.includes("node_modules")){let u=ki.get(a);if(!u){try{e.statSync(a).isFile()?u={exists:!0,content:e.readFileSync(a)}:u={exists:!1}}catch{u={exists:!1}}ki.set(a,u)}return u.exists}if(!s.has(a))if(e.existsSync(a)){let c=e.statSync(a);s.set(a,c.isFile())}else s.set(a,!1);return s.get(a)},getCanonicalFileName:a=>e.normalize(a),getCurrentDirectory:()=>e.cwd(),getDefaultLibFileName:()=>e.join(o,"lib.d.ts"),getDefaultLibLocation:()=>o,getNewLine:()=>`
`,getSourceFile:a=>{if(a=e.normalize(a),a.includes("node_modules")){let c=ki.get(a);if(c)return se(e,c.content)}let u;try{u=e.readFileSync(a)}catch{console.error(`Could not read: ${a}`),u==null}if(u==null){let c=e.basename(a),l=e.extname(c).toLowerCase();if(a.startsWith(o)&&l===".ts"&&(u=Nh.get(c),u==null&&typeof self<"u"&&typeof fetch=="function"))throw new Ta(c)}return a.includes("node_modules")&&(u?ki.set(a,{exists:!0,content:u}):ki.set(a,{exists:!1})),se(e,u)},readFile:a=>{let u=e.readFileSync(a);return typeof u=="string"?u:void 0},useCaseSensitiveFileNames:()=>!1,writeFile:()=>{}};for(;;)try{return mT(e,i,t,r)}catch(a){if(a instanceof Ta){await hT(e,a.libName);continue}throw e.Sentry?.captureException(a),new Error(`createTsProgram() Could not create program for: ${t[0]}`,{cause:a})}}function mT(e,t,r,n){let o={rootNames:[...r],host:t,options:{}},s=e.ts.findConfigFile(e.dirname(r[0]),i=>e.existsSync(i));if(s){let i=Ih.get(s);if(!i){let a=e.ts.readConfigFile(s,u=>{let c=e.readFileSync(u);return typeof c=="string"?c:void 0});a.error?e.Sentry?.captureException(new Error("Error reading tsconfig for createTsProgram"),{extra:{error:a.error,tsConfigPath:s}}):(i=e.ts.parseJsonConfigFileContent(a.config,e.ts.sys||{useCaseSensitiveFileNames:!1,readDirectory:(c,l)=>e.readdirSync(c),fileExists:c=>e.existsSync(c),readFile:c=>e.readFileSync(c)||void 0},e.dirname(s),void 0,s).options,Ih.set(s,i))}i&&(o.options=Ht(i))}return o.options.noEmit=!0,o.options.isolatedModules=!1,o.options.strict=!1,o.options.jsx=e.ts.JsxEmit.Preserve,o.options.allowJs=!0,Object.assign(o.options,n),e.ts.createProgram(o)}async function Eo(e,t,r){r||(r=await Ye(e,[t]));let n=r.getSourceFile(t);if(!n)throw new Error(`getTypeChecker() Could not find source file: ${t}`);return{typeChecker:r.getTypeChecker(),sourceFile:n}}var Ta=class{constructor(t){Ke(this,"libName");this.libName=t}};async function hT(e,t){let r=`https://cdn.jsdelivr.net/npm/typescript@${e.ts.version}/lib/${t}`;Pa.has(t)||Pa.set(t,fetch(r).then(n=>n.text()).then(n=>{Nh.set(t,n)})),await Pa.get(t),Pa.delete(t)}var Nh=new Map,Pa=new Map,ki=new Map,Ih=new Map;async function Oh(e,t){let r=await e.readFile(t.filePath);return r==null?{diagnostics:[{messageText:`Error reading: ${t.filePath}`}],code:null,output:null}:Nc(e,{code:r,filePath:t.filePath,compilerOptions:t.compilerOptions})}function Nc(e,t){let r={diagnostics:[],code:t.code,output:null};try{let n=e.ts.transpileModule(t.code,{compilerOptions:t.compilerOptions,fileName:t.filePath??"module.tsx",reportDiagnostics:!0});n.diagnostics?.forEach(o=>{r.diagnostics.push({messageText:String(o.messageText)})}),r.output=n.outputText}catch(n){console.error("transpileModule",n),r.diagnostics.push({messageText:String(n)})}return r}var kr=require("node:fs/promises");var Mc=require("node:os"),Lc=H(require("node:path"),1),DT=H(require("typescript"),1),vT=H(require("launch-editor"),1);async function _o(e){let t=[],r=await Sn(e,e.getRepoRootDir());if(r){let n=await Lh(r,e);t.push(...n)}return t}async function Lh(e,t){let r=[];if(e&&typeof e=="object"){let n=new Set(Object.keys({...e.dependencies,...e.devDependencies}));for(let o of gT)if(n.has(o)&&!r.some(s=>s.name===o)){let s={name:o};Mh.has(o)&&(s.version=await Mh.get(o)(t)),r.push(s)}}return r}function Oc(e){let t=parseInt(e);return Number.isNaN(t)?void 0:t}var Mh=new Map([["next",async e=>{if(!e.spawnSync)return;let t=$h(),r=t==="npm"?"npx":t,{stdout:n}=e.spawnSync(r,["next","-v"],{encoding:"utf8"});if(!n)return;let o=n.match(/(Next.js v)([\d.]+)/g);if(!o)return;let s=o[0].split("Next.js v")[1],[i,a,u]=s.split(".");return{major:Oc(i),minor:Oc(a),patch:Oc(u)}}]]),gT=["@shopify/remix-oxygen","@shopify/hydrogen","@builder.io/qwik-city","@remix-run/react","@sveltejs/kit","astro","gatsby","next","nuxt","@builder.io/qwik","@angular/core","react","solid-js","svelte","vue"];var CT=H(require("@sentry/node"),1);function Bh(){let e=(0,Mc.homedir)();return Lc.default.join(e,".config","builder","dev-tools.json")}function Bc(e,t){return typeof e=="object"&&e!=null&&t in e}async function Po(){let e=Bh();try{let t=await(0,kr.readFile)(e,"utf-8");if(typeof t=="string")return JSON.parse(t)}catch(t){if(t.code==="ENOENT")return null}return null}async function zc(e){let t=Bh();e=typeof e=="object"&&e!=null?e:{},await(0,kr.mkdir)(Lc.default.dirname(t),{recursive:!0}),await(0,kr.writeFile)(t,JSON.stringify(e??{},null,2))}var q={gen1:"Gen 1",gen2:"Gen 2"},Ii={CMS:"cms",VCP:"vcp",HYBRID:"hybrid"};var zh=require("node:console"),jh=require("node:http"),Uh=require("node:https");function To(e){let t=Date.now();return new Promise((r,n)=>{let s=wT(e.url)({protocol:e.url.protocol,host:e.url.host,port:e.url.port,path:e.url.pathname+e.url.search,method:e.method,headers:e.headers},i=>{let a="";i.on("data",u=>{a+=u}),i.on("end",()=>{if((0,zh.debug)(`${e.method} ${e.url.href}, duration: ${Date.now()-t}ms`),typeof i.statusCode=="number"&&i.statusCode>=200&&i.statusCode<300)if(typeof i.headers["content-type"]!="string"||!i.headers["content-type"].includes("application/json"))n(`Response from ${e.url.href} content-type is ${i.headers["content-type"]}`);else try{r(JSON.parse(a))}catch(u){n(`Response from ${e.url.href} is not valid JSON: ${a}
${u}`)}else n(`Request to ${e.url.href} failed with status ${i.statusCode}: ${a}`)})}).on("error",i=>{n(`Error fetching ${e.url.href}, ${i}`)});e.body&&(s.setHeader("Content-Type","application/json"),s.write(e.body)),s.end()})}function wT(e){if(e.protocol==="https:")return Uh.request;if(e.protocol==="http:")return jh.request;throw new Error(`Unsupported protocol ${e.protocol}`)}async function Vh(e){let t=new URL(`https://cdn.builder.io/api/v3/query/${e.publicApiKey}/${e.model}`);return t.searchParams.set("omit","meta.componentsUsed"),t.searchParams.set("apiKey",e.publicApiKey),t.searchParams.set("userAttributes.urlPath",e.pageUrl),t.searchParams.set("options.page.model",`"${e.model}"`),t.searchParams.set("cachebust","true"),(await To({url:t,method:"GET"}))[e.model]}async function Hh(e,t){if(t.kind===Ii.VCP)return!0;let r=new URL("https://cdn.builder.io/api/v2/admin"),n={query:`query {
      models {
        id
        name
      }
    }`};e.debug(`Get model id for model name "${t.model}"`);let s=(await To({url:r,method:"POST",headers:{Authorization:`Bearer ${t.privateAuthKey}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)})).data.models.find(u=>u.name===t.model);if(!s)return e.debug(`No model found for model name "${t.model}"`),!1;e.debug(`Data query, modelId: "${s.id}", urlPath: "${t.pageUrl}"`);let i=new URL("https://cdn.builder.io/api/v3/data");i.searchParams.set("limit","1"),i.searchParams.set("cachebust","true"),i.searchParams.set("collection","content"),i.searchParams.set("query.published.$ne","archived"),i.searchParams.set("query.query.$elemMatch.$and[0].property","urlPath"),i.searchParams.set("query.query.$elemMatch.$and[0].operator","is"),i.searchParams.set("query.query.$elemMatch.$and[0].value",t.pageUrl),i.searchParams.set("query.modelId",s.id),i.searchParams.set("apiKey",t.publicApiKey);let a=await To({url:i,method:"GET"});return e.debug(`Data results (${a.results.length}): ${i.href}`),a.results.length>0}async function qh(e,t){let r=new URL(`https://cdn.builder.io/api/v3/content/${t.model}`);r.searchParams.set("apiKey",t.publicApiKey),r.searchParams.set("cachebust","true"),r.searchParams.set("cb",Date.now().toString()),t.pageUrl&&(r.searchParams.set("url",t.pageUrl),e.debug(`get model: "${t.model}", pageUrl: "${t.pageUrl}":`,r.href)),t.id&&(r.searchParams.set("query.id",t.id),e.debug(`get model: "${t.model}", id: "${t.id}":`,r.href));let n=await To({url:r,method:"GET"});return e.debug(`get content results: ${n.results.length}`),n}async function Gh(e,t){let r=new URL(`https://cdn.builder.io/api/v1/write/${t.model}`);e.debug(`writing "${t.model}" content:`,r.href),await To({url:r,method:"POST",headers:{Authorization:`Bearer ${t.privateAuthKey}`},body:t.body})}var Ao="page",Kh="integration-welcome-screens",Wh="8d9ee72a33344b4b867918b442ebd0af";async function Zh(e,t){let r=await qh(e,{model:Kh,publicApiKey:Wh,id:t.templateContentId});if(!Array.isArray(r?.results)||r.results.length===0||!r.results[0].data?.blocks)throw new Error(`No Builder content found for id ${t.templateContentId}`);let n=JSON.stringify(r.results[0].data.blocks),o=bT(t.publicApiKey,t.pathname,t.title,n);await Gh(e,{privateAuthKey:t.privateAuthKey,model:Ao,body:o})}function bT(e,t,r,n){return JSON.stringify({name:r,ownerId:e,published:"published",query:[{property:"urlPath",value:[t],operator:"is"}],data:{title:r,blocksString:n}})}async function Jh(e,t,r,n){e.debug(`connect builder with public key: ${t}`),e.publicApiKey=t;let o=e.closeAppServer(),s=await e.setPublicApiKey({publicApiKey:t});if(s.modifiedType==="permission-error")return e.debug("permission error, failed to set public api key"),{success:!1,pathname:""};e.debug(`set public key: process.env.${s.envKey}=${t}`),process.env[s.envKey]=t;let i=await e.builderPageOptions();e.debug(`builder model: ${Ao}, path: ${i.pathname}, template: ${i.templateContentId}`);let a=await Hh(e,{model:Ao,pageUrl:i.pathname,publicApiKey:t,privateAuthKey:r,kind:n});if(!a){await Zh(e,{templateContentId:i.templateContentId,pathname:i.pathname,title:i.title,publicApiKey:t,privateAuthKey:r});let l=5,p=0;for(;!a&&p<l;){await new Promise(h=>setTimeout(h,1e3));let d=await Vh({model:Ao,pageUrl:i.pathname,publicApiKey:t,privateAuthKey:r});p++,d&&d.length>0&&(a=!0)}}await o,e.debug("ensure builder setup");let u=[];n===Ii.VCP?u=await e.ensureFigmaImportPage():u=await e.ensureBuilderSetup(),s.modifiedType&&u.push({filePath:s.file,modifiedType:s.modifiedType}),u.forEach(l=>{l.displayFilePath=e.relative(e.getAppRootDir(),l.filePath)}),u.sort((l,p)=>l.filePath.localeCompare(p.filePath)),u.length>0?(e.debug(`modified files: ${u.map(l=>l.displayFilePath).join(", ")}`),await e.restartAppServer(),await new Promise(l=>setTimeout(l,500))):e.debug("no modified files");let c={success:!0,pathname:i.localePathname||i.pathname,modifiedFiles:u,platform:e.platform(),kind:n};return n===Ii.VCP&&(c.pathname="/"),e.debug(`connected builder: ${c.pathname}`),c}async function Yh(e){let t=await e.builderPageOptions();e.debug(`validateBuilder, pathname: ${t.pathname}, localePathname: ${t.localePathname}, isValid: ${e.isValid}`);let r={isValid:e.isValid,pathname:t.localePathname||t.pathname,platform:e.platform()};if(e.isValid)return r;let n=await e.getPublicApiKey();return n.envValue?(e.debug(`public api key: ${n.envValue}, ${n.file}`),e.publicApiKey=n.envValue,e.debug("builder connection is valid"),r.isValid=!0,e.isValid=!0,r):(e.debug("missing public api key"),r)}async function Qh(e,t){let r={type:t.type};switch(t.type){case"getCache":{r.data=await e.getCache();break}case"setCache":{await e.setCache(t.data);break}case"connectBuilder":{r.data=await Jh(e,t.data.publicApiKey,t.data.privateAuthKey,t.data.kind);break}case"enableDevTools":{r.data=ET(e,t.data.enabled);break}case"getRegistry":{r.data=await e.getRegistry(t.data);break}case"launchEditor":{r.data=await e.launchEditor(t.data);break}case"validateBuilder":{r.data=await Yh(e);break}case"loadComponent":{r.data=await e.loadComponent(t.data);break}case"getAllProjectFiles":{e.getAllProjectFiles?r.data=await e.getAllProjectFiles():r.errors=["getAllProjectFiles not implemented"];break}case"registerComponent":{r.data=await e.registerComponent(t.data),e.serverShouldRestart=!0;break}case"setComponentInfo":{r.data=await e.setRegisteredComponentInfo(t.data),e.serverShouldRestart=!0;break}case"setComponentInput":{r.data=await e.setRegisteredComponentInput(t.data),e.serverShouldRestart=!0;break}case"unregisterComponent":{r.data=await e.unregisterComponent(t.data),e.serverShouldRestart=!0;break}case"getFrameworks":{r.data=e.getFrameworks();break}case"readdir":{jc(e,t.path)?r.data=await e.readdir(t.path,!0):r.errors=[`Invalid file request: ${t.path}`];break}case"readFile":{jc(e,t.path)?r.data=await e.readFile(t.path):r.errors=[`Invalid file request: ${t.path}`];break}case"writeFile":{jc(e,t.path)?await e.writeFile(t.path,t.content):r.errors=[`Invalid file request: ${t.path}`];break}case"ensureFigmaImportPage":{r.data=await e.ensureFigmaImportPage();break}case"transileFile":{r.data=await Oh(e,t);break}case"transileModule":{r.data=Nc(e,t);break}case"getPastSyncInfo":{r.data=await e.getPastSyncInfo?.(t.data);break}case"resyncSnippet":{r.data=await e.resyncSnippet?.(t.data);break}case"localConfig":{r.data=await Po();break}default:{r.errors=[`Unknown request type: ${JSON.stringify(t)}`];let n=t}}return r}function jc(e,t){if(!t||t.includes(".."))return!1;t=t.replace(/\\/g,"/");let r=t.split("/"),n=r[r.length-1];if(n.length>0){let o=n.split(".").pop();if(o&&(o=`.${o}`.toLocaleLowerCase(),o=o.split("?")[0],!ST.includes(o)))return!1}return xT(e,t),!1}function xT(e,t){if(!t)return!1;t=e.normalize(e.resolve(t));let r=e.getAppRootDir();return!(!t.startsWith(r)&&!t.includes("node_modules"))}var ST=[".js",".jsx",".ts",".tsx",".json",".css",".scss",".sass",".less",".html",".htm",".xml",".svg",".png",".jpg",".jpeg",".gif",".ico",".webp",".woff",".woff2",".ttf",".eot",".mp4",".webm",".ogg",".md",".txt",".csv",".pdf"];function ET(e,t){return!t&&e.serverShouldRestart&&setTimeout(()=>{console.log(`
Restarting server after Builder Devtools update...
`),e.restartAppServer()},10),e.enableAppWatch(!t),{enabled:t,platform:e.platform()}}async function Xh(e){return tg(e,`"use strict";(()=>{var fi=Object.create;var Mt=Object.defineProperty;var mi=Object.getOwnPropertyDescriptor;var vi=Object.getOwnPropertyNames;var gi=Object.getPrototypeOf,hi=Object.prototype.hasOwnProperty;var yi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),bi=(t,e)=>{for(var r in e)Mt(t,r,{get:e[r],enumerable:!0})},Ei=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vi(e))!hi.call(t,i)&&i!==r&&Mt(t,i,{get:()=>e[i],enumerable:!(n=mi(e,i))||n.enumerable});return t};var _i=(t,e,r)=>(r=t!=null?fi(gi(t)):{},Ei(e||!t||!t.__esModule?Mt(r,"default",{value:t,enumerable:!0}):r,t));var jn=yi((Qe,Ct)=>{(function(t,e){"use strict";var r="0.7.33",n="",i="?",o="function",s="undefined",u="object",d="string",p="major",a="model",c="name",l="type",f="vendor",m="version",_="architecture",b="console",v="mobile",y="tablet",T="smarttv",L="wearable",k="embedded",w=350,C="Amazon",R="Apple",K="ASUS",z="BlackBerry",Q="Browser",P="Chrome",Ce="Edge",ce="Firefox",_e="Google",Me="Huawei",Re="LG",Oe="Microsoft",Be="Motorola",Te="Opera",we="Samsung",ke="Sharp",fe="Sony",me="Xiaomi",Ve="Zebra",U="Facebook",et=function(S,O){var I={};for(var q in S)O[q]&&O[q].length%2===0?I[q]=O[q].concat(S[q]):I[q]=S[q];return I},tt=function(S){for(var O={},I=0;I<S.length;I++)O[S[I].toUpperCase()]=S[I];return O},Pr=function(S,O){return typeof S===d?Fe(O).indexOf(Fe(S))!==-1:!1},Fe=function(S){return S.toLowerCase()},di=function(S){return typeof S===d?S.replace(/[^\\d\\.]/g,n).split(".")[0]:e},Nt=function(S,O){if(typeof S===d)return S=S.replace(/^\\s\\s*/,n),typeof O===s?S:S.substring(0,w)},He=function(S,O){for(var I=0,q,x,nt,D,qe,ie;I<O.length&&!qe;){var Or=O[I],kr=O[I+1];for(q=x=0;q<Or.length&&!qe;)if(qe=Or[q++].exec(S),qe)for(nt=0;nt<kr.length;nt++)ie=qe[++x],D=kr[nt],typeof D===u&&D.length>0?D.length===2?typeof D[1]==o?this[D[0]]=D[1].call(this,ie):this[D[0]]=D[1]:D.length===3?typeof D[1]===o&&!(D[1].exec&&D[1].test)?this[D[0]]=ie?D[1].call(this,ie,D[2]):e:this[D[0]]=ie?ie.replace(D[1],D[2]):e:D.length===4&&(this[D[0]]=ie?D[3].call(this,ie.replace(D[1],D[2])):e):this[D]=ie||e;I+=2}},Ut=function(S,O){for(var I in O)if(typeof O[I]===u&&O[I].length>0){for(var q=0;q<O[I].length;q++)if(Pr(O[I][q],S))return I===i?e:I}else if(Pr(O[I],S))return I===i?e:I;return S},pi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Cr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Rr={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[m,[c,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[m,[c,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[c,m],[/opios[\\/ ]+([\\w\\.]+)/i],[m,[c,Te+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[m,[c,Te]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[c,m],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[m,[c,"UC"+Q]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[m,[c,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[m,[c,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[m,[c,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[m,[c,"IE"]],[/yabrowser\\/([\\w\\.]+)/i],[m,[c,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[c,/(.+)/,"$1 Secure "+Q],m],[/\\bfocus\\/([\\w\\.]+)/i],[m,[c,ce+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[m,[c,Te+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[m,[c,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[m,[c,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[m,[c,Te+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[m,[c,"MIUI "+Q]],[/fxios\\/([-\\w\\.]+)/i],[m,[c,ce]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+Q]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[c,/(.+)/,"$1 "+Q],m],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[c,/_/g," "],m],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[c,m],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[c],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[c,U],m],[/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[c,m],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[m,[c,"GSA"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[m,[c,P+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[c,P+" WebView"],m],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[m,[c,"Android "+Q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[c,m],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[m,[c,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[m,c],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[c,[m,Ut,pi]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[c,m],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[c,"Netscape"],m],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[m,[c,ce+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i],[c,m],[/(cobalt)\\/([\\w\\.]+)/i],[c,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,Fe]],[/((?:i[346]|x)86)[;\\)]/i],[[_,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[_,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[_,/ower/,n,Fe]],[/(sun4\\w)[;\\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[_,Fe]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[f,we],[l,y]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[f,we],[l,v]],[/((ipod|iphone)\\d+,\\d+)/i],[a,[f,R],[l,v]],[/(ipad\\d+,\\d+)/i],[a,[f,R],[l,y]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[f,R],[l,v]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[f,R],[l,y]],[/(macintosh);/i],[a,[f,R]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[f,Me],[l,y]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[f,Me],[l,v]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g," "],[f,me],[l,v]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g," "],[f,me],[l,y]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[f,"OPPO"],[l,v]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[f,"Vivo"],[l,v]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[f,"Realme"],[l,v]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[f,Be],[l,v]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[f,Be],[l,y]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[f,Re],[l,y]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[f,Re],[l,v]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[f,"Lenovo"],[l,y]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g," "],[f,"Nokia"],[l,v]],[/(pixel c)\\b/i],[a,[f,_e],[l,y]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[f,_e],[l,v]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[f,fe],[l,v]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,"Xperia Tablet"],[f,fe],[l,y]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[f,"OnePlus"],[l,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[f,C],[l,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,"Fire Phone $1"],[f,C],[l,v]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,f,[l,y]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[f,z],[l,v]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[f,K],[l,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[f,K],[l,v]],[/(nexus 9)/i],[a,[f,"HTC"],[l,y]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[a,/_/g," "],[l,v]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[f,"Acer"],[l,y]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[f,"Meizu"],[l,v]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[f,ke],[l,v]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,a,[l,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,a,[l,y]],[/(surface duo)/i],[a,[f,Oe],[l,y]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[f,"Fairphone"],[l,v]],[/(u304aa)/i],[a,[f,"AT&T"],[l,v]],[/\\bsie-(\\w*)/i],[a,[f,"Siemens"],[l,v]],[/\\b(rct\\w+) b/i],[a,[f,"RCA"],[l,y]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[f,"Dell"],[l,y]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[f,"Verizon"],[l,y]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[f,"Barnes & Noble"],[l,y]],[/\\b(tm\\d{3}\\w+) b/i],[a,[f,"NuVision"],[l,y]],[/\\b(k88) b/i],[a,[f,"ZTE"],[l,y]],[/\\b(nx\\d{3}j) b/i],[a,[f,"ZTE"],[l,v]],[/\\b(gen\\d{3}) b.+49h/i],[a,[f,"Swiss"],[l,v]],[/\\b(zur\\d{3}) b/i],[a,[f,"Swiss"],[l,y]],[/\\b((zeki)?tb.*\\b) b/i],[a,[f,"Zeki"],[l,y]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],a,[l,y]],[/\\b(ns-?\\w{0,9}) b/i],[a,[f,"Insignia"],[l,y]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[f,"NextBook"],[l,y]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],a,[l,v]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],a,[l,v]],[/\\b(ph-1) /i],[a,[f,"Essential"],[l,v]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[f,"Envizen"],[l,y]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[f,"MachSpeed"],[l,y]],[/\\btu_(1491) b/i],[a,[f,"Rotor"],[l,y]],[/(shield[\\w ]+) b/i],[a,[f,"Nvidia"],[l,y]],[/(sprint) (\\w+)/i],[f,a,[l,v]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g," "],[f,Oe],[l,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[f,Ve],[l,y]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[f,Ve],[l,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,a,[l,b]],[/droid.+; (shield) bui/i],[a,[f,"Nvidia"],[l,b]],[/(playstation [345portablevi]+)/i],[a,[f,fe],[l,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[f,Oe],[l,b]],[/smart-tv.+(samsung)/i],[f,[l,T]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,"SmartTV"],[f,we],[l,T]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,Re],[l,T]],[/(apple) ?tv/i],[f,[a,R+" TV"],[l,T]],[/crkey/i],[[a,P+"cast"],[f,_e],[l,T]],[/droid.+aft(\\w)( bui|\\))/i],[a,[f,C],[l,T]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[f,ke],[l,T]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[f,fe],[l,T]],[/(mitv-\\w{5}) bui/i],[a,[f,me],[l,T]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i],[[f,Nt],[a,Nt],[l,T]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[l,T]],[/((pebble))app/i],[f,a,[l,L]],[/droid.+; (glass) \\d/i],[a,[f,_e],[l,L]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[f,Ve],[l,L]],[/(quest( 2)?)/i],[a,[f,U],[l,L]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[l,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[l,v]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[l,y]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[l,y]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[l,v]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[m,[c,Ce+"HTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[m,[c,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[c,m],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[m,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,m],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[c,[m,Ut,Cr]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[c,"Windows"],[m,Ut,Cr]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[m,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[c,"Mac OS"],[m,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[m,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[c,m],[/\\(bb(10);/i],[m,[c,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[m,[c,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[m,[c,ce+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[m,[c,"webOS"]],[/crkey\\/([\\d\\.]+)/i],[m,[c,P+"cast"]],[/(cros) [\\w]+ ([\\w\\.]+\\w)/i],[[c,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[c,m],[/(sunos) ?([\\w\\.\\d]*)/i],[[c,"Solaris"],m],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[c,m]]},Z=function(S,O){if(typeof S===u&&(O=S,S=e),!(this instanceof Z))return new Z(S,O).getResult();var I=S||(typeof t!==s&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:n),q=O?et(Rr,O):Rr;return this.getBrowser=function(){var x={};return x[c]=e,x[m]=e,He.call(x,I,q.browser),x.major=di(x.version),x},this.getCPU=function(){var x={};return x[_]=e,He.call(x,I,q.cpu),x},this.getDevice=function(){var x={};return x[f]=e,x[a]=e,x[l]=e,He.call(x,I,q.device),x},this.getEngine=function(){var x={};return x[c]=e,x[m]=e,He.call(x,I,q.engine),x},this.getOS=function(){var x={};return x[c]=e,x[m]=e,He.call(x,I,q.os),x},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return I},this.setUA=function(x){return I=typeof x===d&&x.length>w?Nt(x,w):x,this},this.setUA(I),this};Z.VERSION=r,Z.BROWSER=tt([c,m,p]),Z.CPU=tt([_]),Z.DEVICE=tt([a,f,l,b,v,T,y,L,k]),Z.ENGINE=Z.OS=tt([c,m]),typeof Qe!==s?(typeof Ct!==s&&Ct.exports&&(Qe=Ct.exports=Z),Qe.UAParser=Z):typeof define===o&&define.amd?define(function(){return Z}):typeof t!==s&&(t.UAParser=Z);var Ae=typeof t!==s&&(t.jQuery||t.Zepto);if(Ae&&!Ae.ua){var rt=new Z;Ae.ua=rt.getResult(),Ae.ua.get=function(){return rt.getUA()},Ae.ua.set=function(S){rt.setUA(S);var O=rt.getResult();for(var I in O)Ae.ua[I]=O[I]}}})(typeof window=="object"?window:Qe)});var oe=(t,e)=>{Vt(t);let r=t.querySelector("aside");r.dataset.view=e,r.classList.remove("section-ready"),setTimeout(()=>{r.classList.add("section-ready")},200)},Ar=t=>{Array.from(t.querySelectorAll(".back-button")).forEach(e=>{e.addEventListener("click",r=>{Vt(t),r.preventDefault(),r.stopPropagation();let n=r.target;oe(t,n?.dataset.back||"nav-home")})})},Bt=(t,e)=>{Vt(t);let r=t.querySelector("aside"),n=document.createElement("div");n.className="ui-toast",n.innerHTML=e,r.appendChild(n),setTimeout(()=>{n.classList.add("ui-toast-show"),setTimeout(()=>{n.classList.remove("ui-toast-show"),setTimeout(()=>{n.remove()},500)},4e3)},30)},Vt=t=>{let e=t.querySelector("aside");Array.from(e.querySelectorAll(".ui-toast")).forEach(n=>{n.classList.remove("ui-toast-show")})},it=()=>{let t=Dr();return localStorage.getItem(t)!=="true"},Ft=t=>{let e=Dr();t?localStorage.removeItem(e):localStorage.setItem(e,"true")},Dr=()=>Ti("disableEdit"),Ti=t=>\`builder.__LOCAL_APP_ID__.\${t}\`,Nr=()=>{let e=document.body.querySelector("[builder-content-id]")?.getAttribute("builder-content-id");return je(e)},je=(t,e)=>{let r="/content";t&&(r+="/"+t+"/edit");let n=new URL(r,"https://builder.io");t&&e&&n.searchParams.set("selectedBlock",e);let i=new URL(location.pathname,location.href);return n.searchParams.set("overridePreviewUrl",i.href),n.href},ot="__DEV_TOOLS_URL__",G={components:[],registryPath:"",registryDisplayPath:"",frameworks:[],dependencies:[],publicApiKey:void 0,devToolsVersion:""},le=t=>{G.components=t.components,G.registryPath=t.registryPath,G.registryDisplayPath=t.registryDisplayPath,G.dependencies=t.dependencies,G.publicApiKey=t.publicApiKey};function Ur(t){let e=null,r=document.querySelector("builder-dev-tools-menu"),n=()=>{t.hide()},i=u=>{let d=u.target;if(!d){n();return}if(d.closest("builder-dev-tools-edit"))return;let p=d.closest("[builder-content-id]"),a=d.closest("[builder-id]");if(!p||!a){t.hide();return}let c=t.show(p,a);!c||c===e||(r.highlightOpener(),e=c)};document.addEventListener("pointerover",i,{passive:!0}),document.addEventListener("pointerleave",n,{passive:!0}),document.addEventListener("pointercancel",n,{passive:!0}),document.addEventListener("visibilitychange",n,{passive:!0}),window.addEventListener("popstate",n,{passive:!0});let o=history.pushState;history.pushState=function(...u){t.hide(),o.apply(this,u)};let s=history.replaceState;history.replaceState=function(...u){t.hide(),s.apply(this,u)}}var st=class extends HTMLElement{openInBuilder=null;block=null;constructor(){super()}connectedCallback(){this.setAttribute("aria-hidden","true");let e=this.attachShadow({mode:"open"});e.innerHTML='<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}:host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}#content-highlight,#block{position:absolute}#content-highlight{border:3px solid var(--primary-color);background-color:var(--primary-color-alpha)}a{position:absolute;top:-33px;left:0;display:block;padding:5px 10px 8px;pointer-events:auto;z-index:100;text-decoration:none}a:hover{text-decoration:none}a span{display:block;padding:3px 6px;font-size:10px;font-weight:300;border-radius:3px;text-align:center;text-decoration:none;pointer-events:none;background-color:var(--edit-color);color:var(--text-color);white-space:nowrap}a:hover span{background-color:var(--edit-color-highlight)}a:hover~.outline{border-color:var(--edit-color-highlight)}#open-in-editor{display:none}.outline{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--edit-color);background-color:var(--edit-color-alpha)}</style><div id="block"> <a id="open-in-builder" target="builder"><span>Open In Builder</span></a> <a id="open-in-editor" href="#open-in-editor"><span>Open In Editor</span></a> <div class="outline"></div> </div>',this.openInBuilder=e.getElementById("open-in-builder"),this.block=e.getElementById("block"),Ur(this)}show(e,r){if(!it())return this.hide(),null;let n=e.getAttribute("builder-content-id"),i=r.getAttribute("builder-id");if(!n||!i)return this.hide(),null;let o=this.block,s=this.openInBuilder,u=r.getBoundingClientRect();o.style.top=u.top+window.scrollY-1+"px",o.style.left=u.left+window.scrollX+"px",o.style.width=u.width+"px",o.style.height=u.height+1+"px";let d=s.getBoundingClientRect();if(d.width>u.width){let p=d.width-u.width;s.style.left=p/2*-1+"px"}else s.style.left="";return s.href=je(n,i),this.style.display="block",i}hide(){this.style.display=""}};var Mr="preview-url";var Br="_b-uid";var Vr="/~builder-connect";var Fr="/~builder-dev-tools";var Hr="https://cdn.builder.io/api/v1/proxy-api?url=https://api2.amplitude.com/2/httpapi";var qr=()=>se({type:"validateBuilder"}),De=t=>se({type:"launchEditor",data:t}),jr=t=>se({type:"getRegistry",data:t}),Gr=t=>se({type:"loadComponent",data:t}),Kr=t=>se({type:"registerComponent",data:t}),Wr=t=>se({type:"setComponentInfo",data:t}),at=t=>se({type:"setComponentInput",data:t}),$r=t=>se({type:"unregisterComponent",data:t}),Yr=t=>se({type:"enableDevTools",data:{enabled:t}}),zr=()=>se({type:"localConfig"}),se=async t=>{let e=new URL(Fr,ot),r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){throw console.error(\`Devtools Fetch Error, \${e.href}\`,i),new Error("Builder Devtools Fetch Error")}if((r.headers.get("content-type")||"").includes("application/json")){let i=await r.json();if(r.ok)return i.data;if(Array.isArray(i.errors)&&i.errors.length>0)throw i.errors.forEach(o=>console.error(o)),new Error(\`Builder Devtools Fetch Error: \${i.errors[0]}\`)}throw new Error(\`Builder Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var Qr=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}],ut=["color","date","email","file","longText","richText","string"],ct=["number"],lt=["boolean"],dt=["list"],pt=["object"];function ft(t){return ut.includes(t)?"string":ct.includes(t)?"number":lt.includes(t)?"boolean":dt.includes(t)?"array":pt.includes(t)?"object":"string"}var Io=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));var Ht=function(t,e){return Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ht(t,e)};function ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ht(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E=function(){return E=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},E.apply(this,arguments)};function Ge(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function g(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{p(n.next(a))}catch(c){s(c)}}function d(a){try{p(n.throw(a))}catch(c){s(c)}}function p(a){a.done?o(a.value):i(a.value).then(u,d)}p((n=n.apply(t,e||[])).next())})}function h(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(p){return function(a){return d([p,a])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(a){p=[6,a],i=0}finally{n=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function J(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function ee(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var mt={};bi(mt,{IdentifyOperation:()=>B,LogLevel:()=>Y,PluginType:()=>N,RevenueProperty:()=>re,ServerZone:()=>Se,SpecialEventType:()=>de,Status:()=>M,TransportType:()=>Ie});var B;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(B||(B={}));var re;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE_CURRENCY="$currency",t.REVENUE="$revenue"})(re||(re={}));var de;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(de||(de={}));var Y;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(Y||(Y={}));var N;(function(t){t.BEFORE="before",t.ENRICHMENT="enrichment",t.DESTINATION="destination"})(N||(N={}));var Se;(function(t){t.US="US",t.EU="EU",t.STAGING="STAGING"})(Se||(Se={}));var M;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(M||(M={}));var Ie;(function(t){t.XHR="xhr",t.SendBeacon="beacon",t.Fetch="fetch"})(Ie||(Ie={}));var qt="-",xe="AMP",jt="".concat(xe,"_unsent"),Gt="https://api2.amplitude.com/2/httpapi",Xr="https://api.eu.amplitude.com/2/httpapi",Zr="https://api2.amplitude.com/batch",Jr="https://api.eu.amplitude.com/batch";var wi=1e3,vt=function(t){if(Object.keys(t).length>wi)return!1;for(var e in t){var r=t[e];if(!Kt(e,r))return!1}return!0},Kt=function(t,e){var r,n;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var o=J(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if(typeof u=="object")i=i&&vt(u);else if(!["number","string"].includes(typeof u))return!1;if(!i)return!1}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}else{if(e==null)return!1;if(typeof e=="object")return vt(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};var ne=(function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return E({},this._properties)},t.prototype.set=function(e,r){return this._safeSet(B.SET,e,r),this},t.prototype.setOnce=function(e,r){return this._safeSet(B.SET_ONCE,e,r),this},t.prototype.append=function(e,r){return this._safeSet(B.APPEND,e,r),this},t.prototype.prepend=function(e,r){return this._safeSet(B.PREPEND,e,r),this},t.prototype.postInsert=function(e,r){return this._safeSet(B.POSTINSERT,e,r),this},t.prototype.preInsert=function(e,r){return this._safeSet(B.PREINSERT,e,r),this},t.prototype.remove=function(e,r){return this._safeSet(B.REMOVE,e,r),this},t.prototype.add=function(e,r){return this._safeSet(B.ADD,e,r),this},t.prototype.unset=function(e){return this._safeSet(B.UNSET,e,qt),this},t.prototype.clearAll=function(){return this._properties={},this._properties[B.CLEAR_ALL]=qt,this},t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[r]=n,this._propertySet.add(r),!0}return!1},t.prototype._validate=function(e,r,n){return this._properties[B.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:e===B.ADD?typeof n=="number":e!==B.UNSET&&e!==B.REMOVE?Kt(r,n):!0},t})();var en=function(t,e,r){var n=typeof t=="string"?{event_type:t}:t;return E(E(E({},n),r),e&&{event_properties:e})},Ke=function(t,e){var r=E(E({},e),{event_type:de.IDENTIFY,user_properties:t.getUserProperties()});return r},tn=function(t,e,r,n){var i,o=E(E({},n),{event_type:de.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return o},rn=function(t,e,r){var n,i=new ne;i.set(t,e);var o=E(E({},r),{event_type:de.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return o},nn=function(t,e){return E(E({},e),{event_type:de.REVENUE,event_properties:t.getEventProperties()})};var ve=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=M.Unknown),{event:t,code:e,message:r}};var on=(function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,r){return g(this,void 0,void 0,function(){return h(this,function(n){switch(n.label){case 0:return[4,e.setup(r,this.client)];case 1:return n.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e,r){var n;return g(this,void 0,void 0,function(){var i,o;return h(this,function(s){switch(s.label){case 0:return i=this.plugins.findIndex(function(u){return u.name===e}),i===-1?(r.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(o=this.plugins[i],this.plugins.splice(i,1),[4,(n=o.teardown)===null||n===void 0?void 0:n.call(o)]);case 1:return s.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]),r.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},e))},t.prototype.apply=function(e){return g(this,void 0,void 0,function(){var r,n,i,o,s,u,d,f,m,p,a,c,l,f,m,_,b,v,y,T,L,k;return h(this,function(w){switch(w.label){case 0:if(!e)return[2];r=A(e,1),n=r[0],i=A(e,2),o=i[1],s=this.plugins.filter(function(C){return C.type===N.BEFORE}),w.label=1;case 1:w.trys.push([1,6,7,8]),u=J(s),d=u.next(),w.label=2;case 2:return d.done?[3,5]:(f=d.value,[4,f.execute(E({},n))]);case 3:if(m=w.sent(),m===null)return o({event:n,code:0,message:""}),[2];n=m,w.label=4;case 4:return d=u.next(),[3,2];case 5:return[3,8];case 6:return p=w.sent(),y={error:p},[3,8];case 7:try{d&&!d.done&&(T=u.return)&&T.call(u)}finally{if(y)throw y.error}return[7];case 8:a=this.plugins.filter(function(C){return C.type===N.ENRICHMENT}),w.label=9;case 9:w.trys.push([9,14,15,16]),c=J(a),l=c.next(),w.label=10;case 10:return l.done?[3,13]:(f=l.value,[4,f.execute(E({},n))]);case 11:if(m=w.sent(),m===null)return o({event:n,code:0,message:""}),[2];n=m,w.label=12;case 12:return l=c.next(),[3,10];case 13:return[3,16];case 14:return _=w.sent(),L={error:_},[3,16];case 15:try{l&&!l.done&&(k=c.return)&&k.call(c)}finally{if(L)throw L.error}return[7];case 16:return b=this.plugins.filter(function(C){return C.type===N.DESTINATION}),v=b.map(function(C){var R=E({},n);return C.execute(R).catch(function(K){return ve(R,0,String(K))})}),Promise.all(v).then(function(C){var R=A(C,1),K=R[0];o(K)}),[2]}})})},t.prototype.flush=function(){return g(this,void 0,void 0,function(){var e,r,n,i=this;return h(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return i.apply(s)}))];case 1:return o.sent(),r=this.plugins.filter(function(s){return s.type===N.DESTINATION}),n=r.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(n)];case 2:return o.sent(),[2]}})})},t})();var sn="Event tracked successfully",an="Unexpected error occurred",un="Event rejected due to exceeded retry count",cn="Event skipped due to optOut config",ln="Event rejected due to missing API key",dn="Invalid API key",pn="Client not initialized";var X=function(t){return{promise:t||Promise.resolve()}};var Wt=(function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new on(this),this.name=e}return t.prototype._init=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){switch(r.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return g(this,void 0,void 0,function(){var r,n,i,o,s,u,d;return h(this,function(p){switch(p.label){case 0:r=this[e],this[e]=[],p.label=1;case 1:p.trys.push([1,6,7,8]),n=J(r),i=n.next(),p.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,o()]);case 3:p.sent(),p.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return s=p.sent(),u={error:s},[3,8];case 7:try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(u)throw u.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,r,n){var i=en(e,r,n);return X(this.dispatch(i))},t.prototype.identify=function(e,r){var n=Ke(e,r);return X(this.dispatch(n))},t.prototype.groupIdentify=function(e,r,n,i){var o=tn(e,r,n,i);return X(this.dispatch(o))},t.prototype.setGroup=function(e,r,n){var i=rn(e,r,n);return X(this.dispatch(i))},t.prototype.revenue=function(e,r){var n=nn(e,r);return X(this.dispatch(n))},t.prototype.add=function(e){return this.config?X(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),X())},t.prototype.remove=function(e){return this.config?X(this.timeline.deregister(e,this.config)):(this.q.push(this.remove.bind(this,e)),X())},t.prototype.dispatchWithCallback=function(e,r){if(!this.config)return r(ve(e,0,pn));this.process(e).then(r)},t.prototype.dispatch=function(e){return g(this,void 0,void 0,function(){var r=this;return h(this,function(n){return this.config?[2,this.process(e)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]})})},t.prototype.process=function(e){return g(this,void 0,void 0,function(){var i,r,n,i;return h(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,ve(e,0,cn)]:[4,this.timeline.push(e)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return r=o.sent(),this.config.loggerProvider.error(r),n=String(r),i=ve(e,0,n),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return X(this.timeline.flush())},t})();var gt=(function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setCurrency=function(e){return this.currency=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return vt(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?E({},this.properties):{};return e[re.REVENUE_PRODUCT_ID]=this.productId,e[re.REVENUE_QUANTITY]=this.quantity,e[re.REVENUE_PRICE]=this.price,e[re.REVENUE_TYPE]=this.revenueType,e[re.REVENUE_CURRENCY]=this.currency,e[re.REVENUE]=this.revenue,e},t})();var fn=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,o){var s=Math.floor(o/r);return n[s]||(n[s]=[]),n[s].push(i),n},[])};var ht="Amplitude Logger ",mn=(function(){function t(){this.logLevel=Y.None}return t.prototype.disable=function(){this.logLevel=Y.None},t.prototype.enable=function(e){e===void 0&&(e=Y.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Verbose||console.log("".concat(ht,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Warn||console.warn("".concat(ht,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Error||console.error("".concat(ht,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Debug||console.log("".concat(ht,"[Debug]: ").concat(e.join(" ")))},t})();var yt=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Y.Warn,loggerProvider:new mn,optOut:!1,serverUrl:Gt,serverZone:Se.US,useBatch:!1}},$t=(function(){function t(e){var r,n,i,o;this._optOut=!1;var s=yt();this.apiKey=e.apiKey,this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var u=Yt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=u.serverZone,this.serverUrl=u.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t})();var Si=function(t,e){return t===Se.EU?e?Jr:Xr:e?Zr:Gt},Yt=function(t,e,r){if(t===void 0&&(t=""),e===void 0&&(e=yt().serverZone),r===void 0&&(r=yt().useBatch),t)return{serverUrl:t,serverZone:void 0};var n=["US","EU"].includes(e)?e:yt().serverZone;return{serverZone:n,serverUrl:Si(n,r)}};function Ii(t){return t instanceof Error?t.message:String(t)}function bt(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body))}catch{}return e}var zt=(function(){function t(){this.name="amplitude",this.type=N.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var r;return g(this,void 0,void 0,function(){var n,i=this;return h(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(jt,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=o.sent(),this.saveEvents(),n&&n.length>0&&Promise.all(n.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i={event:e,attempts:0,callback:function(o){return n(o)},timeout:0};r.addToQueue(i)})},t.prototype.addToQueue=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.filter(function(o){return o.attempts<e.config.flushMaxRetries?(o.attempts+=1,!0):(e.fulfillRequest([o],500,un),!1)});i.forEach(function(o){if(e.queue=e.queue.concat(o),o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,e.schedule(0)},o.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var r=this;this.scheduled||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),g(this,void 0,void 0,function(){var r,n,i,o=this;return h(this,function(s){switch(s.label){case 0:return r=[],n=[],this.queue.forEach(function(u){return u.timeout===0?r.push(u):n.push(u)}),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=fn(r,this.config.flushQueueSize),[4,Promise.all(i.map(function(u){return o.send(u,e)}))];case 1:return s.sent(),[2]}})})},t.prototype.send=function(e,r){return r===void 0&&(r=!0),g(this,void 0,void 0,function(){var n,i,o,s,u;return h(this,function(d){switch(d.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,ln)];n={api_key:this.config.apiKey,events:e.map(function(p){var a=p.event,c=a.extra,l=Ge(a,["extra"]);return l}),options:{min_id_length:this.config.minIdLength}},d.label=1;case 1:return d.trys.push([1,3,,4]),i=Yt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return o=d.sent(),o===null?(this.fulfillRequest(e,0,an),[2]):r?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(bt(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=d.sent(),this.config.loggerProvider.error(s),u=Ii(s),this.fulfillRequest(e,0,u),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case M.Success:{this.handleSuccessResponse(e,r);break}case M.Invalid:{this.handleInvalidResponse(e,r);break}case M.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case M.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,sn)},t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(dn)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=ee(ee(ee(ee([],A(Object.values(e.body.eventsWithInvalidFields)),!1),A(Object.values(e.body.eventsWithMissingFields)),!1),A(Object.values(e.body.eventsWithInvalidIdLengths)),!1),A(e.body.silencedEvents),!1).flat(),o=new Set(i),s=r.filter(function(u,d){if(o.has(d)){n.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(bt(e)),this.addToQueue.apply(this,ee([],A(s),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(bt(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,ee([],A(r),!1))},t.prototype.handleRateLimitResponse=function(e,r){var n=this,i=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,u=new Set(i),d=new Set(o),p=new Set(s),a=r.filter(function(c,l){if(c.event.user_id&&u.has(c.event.user_id)||c.event.device_id&&d.has(c.event.device_id)){n.fulfillRequest([c],e.statusCode,e.body.error);return}return p.has(l)&&(c.timeout=n.throttleTimeout),!0});a.length>0&&this.config.loggerProvider.warn(bt(e)),this.addToQueue.apply(this,ee([],A(a),!1))},t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,ee([],A(e.map(function(n){return n.timeout=n.attempts*r.retryTimeout,n})),!1))},t.prototype.fulfillRequest=function(e,r,n){this.saveEvents(),e.forEach(function(i){return i.callback(ve(i.event,r,n))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(r){return r.event}));this.config.storageProvider.set(this.storageKey,e)}},t})();var xi=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(\`
\`).slice(2+t).map(function(r){return r.trim()})},V=function(t){return function(){var e=E({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}},Li=function(t,e){var r,n;e=e.replace(/\\[(\\w+)\\]/g,".$1"),e=e.replace(/^\\./,"");try{for(var i=J(e.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in t)t=t[s];else return}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t},F=function(t,e){return function(){var r,n,i={};try{for(var o=J(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[u]=Li(t,u)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}},H=function(t,e,r,n,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=r(),d=u.logger,p=u.logLevel;if(p&&p<Y.Debug||!p||!d)return t.apply(i,o);var a={type:"invoke public method",name:e,args:o,stacktrace:xi(1),time:{start:new Date().toISOString()},states:{}};n&&a.states&&(a.states.before=n());var c=t.apply(i,o);return c&&c.promise?c.promise.then(function(){n&&a.states&&(a.states.after=n()),a.time&&(a.time.end=new Date().toISOString()),d.debug(JSON.stringify(a,null,2))}):(n&&a.states&&(a.states.after=n()),a.time&&(a.time.end=new Date().toISOString()),d.debug(JSON.stringify(a,null,2))),c}};var ge=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,ge)};var Et=(function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return g(this,void 0,void 0,function(){var r;return h(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},t.prototype.set=function(e,r){return g(this,void 0,void 0,function(){return h(this,function(n){return this.memoryStorage.set(e,r),[2]})})},t.prototype.remove=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return this.memoryStorage.clear(),[2]})})},t})();var Le=(function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,i,o,s,u,d,p,a,c,l,f,m,_,b,v,y,T,L,k,w,C;if(typeof e!="object")return null;var R=e.code||0,K=this.buildStatus(R);switch(K){case M.Success:return{status:K,statusCode:R,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case M.Invalid:return{status:K,statusCode:R,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(u=e.events_with_invalid_fields)!==null&&u!==void 0?u:{},eventsWithMissingFields:(d=e.events_with_missing_fields)!==null&&d!==void 0?d:{},eventsWithInvalidIdLengths:(p=e.events_with_invalid_id_lengths)!==null&&p!==void 0?p:{},epsThreshold:(a=e.eps_threshold)!==null&&a!==void 0?a:0,exceededDailyQuotaDevices:(c=e.exceeded_daily_quota_devices)!==null&&c!==void 0?c:{},silencedDevices:(l=e.silenced_devices)!==null&&l!==void 0?l:[],silencedEvents:(f=e.silenced_events)!==null&&f!==void 0?f:[],throttledDevices:(m=e.throttled_devices)!==null&&m!==void 0?m:{},throttledEvents:(_=e.throttled_events)!==null&&_!==void 0?_:[]}};case M.PayloadTooLarge:return{status:K,statusCode:R,body:{error:(b=e.error)!==null&&b!==void 0?b:""}};case M.RateLimit:return{status:K,statusCode:R,body:{error:(v=e.error)!==null&&v!==void 0?v:"",epsThreshold:(y=e.eps_threshold)!==null&&y!==void 0?y:0,throttledDevices:(T=e.throttled_devices)!==null&&T!==void 0?T:{},throttledUsers:(L=e.throttled_users)!==null&&L!==void 0?L:{},exceededDailyQuotaDevices:(k=e.exceeded_daily_quota_devices)!==null&&k!==void 0?k:{},exceededDailyQuotaUsers:(w=e.exceeded_daily_quota_users)!==null&&w!==void 0?w:{},throttledEvents:(C=e.throttled_events)!==null&&C!==void 0?C:[]}};case M.Timeout:default:return{status:K,statusCode:R}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?M.Success:e===429?M.RateLimit:e===413?M.PayloadTooLarge:e===408?M.Timeout:e>=400&&e<500?M.Invalid:e>=500?M.Failed:M.Unknown},t})();var Pi=(function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Ci(),platform:"Web",os:void 0,deviceModel:void 0}},t})(),Ci=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Ri=(function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(r){e(r)}),this.queue=[])},t})(),he=function(){return he=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},he.apply(this,arguments)};function _t(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}var Tt=function(t,e){var r,n,i=["string","number","boolean","undefined"],o=typeof t,s=typeof e;if(o!==s)return!1;try{for(var u=_t(i),d=u.next();!d.done;d=u.next()){var p=d.value;if(p===o)return t===e}}catch(b){r={error:b}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var a=Array.isArray(t),c=Array.isArray(e);if(a!==c)return!1;if(a&&c){for(var l=0;l<t.length;l++)if(!Tt(t[l],e[l]))return!1}else{var f=Object.keys(t).sort(),m=Object.keys(e).sort();if(!Tt(f,m))return!1;var _=!0;return Object.keys(t).forEach(function(b){Tt(t[b],e[b])||(_=!1)}),_}return!0},Oi="$set",ki="$unset",Ai="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});var Di=(function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,r=he({},this.identity.userProperties),n=he(he({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var o,s,u,d,p,a,c=n.userProperties||{};try{for(var l=_t(Object.entries(i)),f=l.next();!f.done;f=l.next()){var m=vn(f.value,2),_=m[0],b=m[1];switch(_){case Oi:try{for(var v=(u=void 0,_t(Object.entries(b))),y=v.next();!y.done;y=v.next()){var T=vn(y.value,2),L=T[0],k=T[1];c[L]=k}}catch(R){u={error:R}}finally{try{y&&!y.done&&(d=v.return)&&d.call(v)}finally{if(u)throw u.error}}break;case ki:try{for(var w=(p=void 0,_t(Object.keys(b))),C=w.next();!C.done;C=w.next()){var L=C.value;delete c[L]}}catch(R){p={error:R}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(p)throw p.error}}break;case Ai:c={};break}}}catch(R){o={error:R}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return n.userProperties=c,this},commit:function(){return e.setIdentity(n),this}}},t.prototype.getIdentity=function(){return he({},this.identity)},t.prototype.setIdentity=function(e){var r=he({},this.identity);this.identity=he({},e),Tt(r,this.identity)||this.listeners.forEach(function(n){n(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t})(),We=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,gn=(function(){function t(){this.identityStore=new Di,this.eventBridge=new Ri,this.applicationContextProvider=new Pi}return t.getInstance=function(e){return We.analyticsConnectorInstances||(We.analyticsConnectorInstances={}),We.analyticsConnectorInstances[e]||(We.analyticsConnectorInstances[e]=new t),We.analyticsConnectorInstances[e]},t})();var pe=function(t){return t===void 0&&(t="$default_instance"),gn.getInstance(t)},Qt=function(t,e){pe(e).identityStore.editIdentity().setUserId(t).commit()},Xt=function(t,e){pe(e).identityStore.editIdentity().setDeviceId(t).commit()},Zt=function(t,e){pe(e).identityStore.editIdentity().setOptOut(t).commit()};var $=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var Ne=function(){var t,e=$();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var r=e.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(i,o){var s=o.split("=",2),u=hn(s[0]),d=hn(s[1]);return d&&(i[u]=d),i},{});return n},hn=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var yn="utm_campaign",bn="utm_content",En="utm_id",_n="utm_medium",Tn="utm_source",wn="utm_term",Jt="dclid",er="fbclid",tr="gbraid",rr="gclid",nr="ko_click_id",ir="li_fat_id",or="msclkid",sr="rtd_cid",ar="ttclid",ur="twclid",cr="wbraid";var Pe={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var $e=(function(){function t(){}return t.prototype.parse=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return[2,E(E(E(E({},Pe),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=Ne(),r=e[yn],n=e[bn],i=e[En],o=e[_n],s=e[Tn],u=e[wn];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:s,utm_term:u}},t.prototype.getReferrer=function(){var e,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},t.prototype.getClickIds=function(){var e,r=Ne();return e={},e[Jt]=r[Jt],e[er]=r[er],e[tr]=r[tr],e[rr]=r[rr],e[nr]=r[nr],e[ir]=r[ir],e[or]=r[or],e[sr]=r[sr],e[ar]=r[ar],e[ur]=r[ur],e[cr]=r[cr],e},t})();var Ye=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[xe,e,t.substring(0,r)].filter(Boolean).join("_")},lr=function(t){return"".concat(xe.toLowerCase(),"_").concat(t.substring(0,6))};var dr=function(t){return typeof t=="boolean"?t:!!t?.fileDownloads},pr=function(t){return typeof t=="boolean"?t:!!t?.formInteractions},Sn=function(t){return typeof t=="boolean"?t:!!(t?.pageViews===!0||t?.pageViews&&typeof t.pageViews=="object")},fr=function(t){return typeof t=="boolean"?t:!!t?.sessions},mr=function(t){var e,r=!((e=t.attribution)===null||e===void 0)&&e.trackPageViews?"attribution":function(){return!1},n=void 0,i="Page View",o=Sn(t.defaultTracking);return o&&(r=void 0,i=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(r=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(i=t.defaultTracking.pageViews.eventType))),{trackOn:r,trackHistoryChanges:n,eventType:i}};var vr=function(){var t,e,r,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""};var gr=(function(){function t(){this.name="identity",this.type=N.BEFORE,this.identityStore=pe().identityStore}return t.prototype.execute=function(e){return g(this,void 0,void 0,function(){var r;return h(this,function(n){return r=e.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,e]})})},t.prototype.setup=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){return e.instanceName&&(this.identityStore=pe(e.instanceName).identityStore),[2]})})},t})();var ze=(function(){function t(e){this.options=E({},e)}return t.prototype.isEnabled=function(){return g(this,void 0,void 0,function(){var e,r,n,i;return h(this,function(o){switch(o.label){case 0:if(!$())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),r="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(r,t.testValue)];case 2:return o.sent(),[4,e.get(r)];case 3:return n=o.sent(),[2,n===t.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,e.remove(r)];case 6:return o.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return g(this,void 0,void 0,function(){var r;return h(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:if(r=n.sent(),!r)return[2,void 0];try{try{r=decodeURIComponent(atob(r))}catch{}return[2,JSON.parse(r)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var r;return g(this,void 0,void 0,function(){var n,i,o;return h(this,function(s){return n=$(),i=(r=n?.document.cookie.split("; "))!==null&&r!==void 0?r:[],o=i.find(function(u){return u.indexOf(e+"=")===0}),o?[2,o.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,r){var n;return g(this,void 0,void 0,function(){var i,o,s,u,d,p;return h(this,function(a){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,o=r!==null?i:-1,s=void 0,o&&(u=new Date,u.setTime(u.getTime()+o*24*60*60*1e3),s=u),d="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),s&&(d+="; expires=".concat(s.toUTCString())),d+="; path=/",this.options.domain&&(d+="; domain=".concat(this.options.domain)),this.options.secure&&(d+="; Secure"),this.options.sameSite&&(d+="; SameSite=".concat(this.options.sameSite)),p=$(),p&&(p.document.cookie=d)}catch{}return[2]})})},t.prototype.remove=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:return r.sent(),[2]}})})},t.prototype.reset=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return[2]})})},t})();var hr=(function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return g(this,void 0,void 0,function(){var i,o,s;return h(this,function(u){switch(u.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,i)];case 1:return o=u.sent(),[4,o.text()];case 2:s=u.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch{return[2,this.buildResponse({code:o.status})]}return[2]}})})},e})(Le);var In=function(t){var e={};for(var r in t){var n=t[r];n&&(e[r]=n)}return e};var yr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,n={},i=$(),o=void 0,s,u=A(t,2),d=u[0],p=u[1];d&&"init"in d?(r=d,p&&(n=p)):d&&(n=d);var a=function(){return g(void 0,void 0,void 0,function(){var b,v,y;return h(this,function(T){switch(T.label){case 0:return v={event_type:(y=n.eventType)!==null&&y!==void 0?y:"Page View"},b=[{}],[4,Ni()];case 1:return[2,(v.event_properties=E.apply(void 0,[E.apply(void 0,b.concat([T.sent()])),{page_domain:typeof location<"u"&&location.hostname||"",page_location:typeof location<"u"&&location.href||"",page_path:typeof location<"u"&&location.pathname||"",page_title:typeof document<"u"&&document.title||"",page_url:typeof location<"u"&&location.href.split("?")[0]||""}]),v)]}})})},c=function(){return typeof n.trackOn>"u"||typeof n.trackOn=="function"&&n.trackOn()},l=typeof location<"u"?location.href:null,f=function(){return g(void 0,void 0,void 0,function(){var b,v,y,T,L;return h(this,function(k){switch(k.label){case 0:return b=location.href,v=Mi(n.trackHistoryChanges,b,l||"")&&c(),l=b,v?(o?.log("Tracking page view event"),r!=null?[3,1]:(y=void 0,[3,3])):[3,4];case 1:return L=(T=r).track,[4,a()];case 2:y=L.apply(T,[k.sent()]),k.label=3;case 3:k.label=4;case 4:return[2]}})})},m=function(){f()},_={name:"page-view-tracking",type:N.ENRICHMENT,setup:function(b,v){return g(void 0,void 0,void 0,function(){var y,T,L,k,w;return h(this,function(C){switch(C.label){case 0:return r=r??v,r?(o=b.loggerProvider,o.log("Installing @amplitude/plugin-page-view-tracking-browser"),n.trackOn=!((k=b.attribution)===null||k===void 0)&&k.trackPageViews?"attribution":n.trackOn,!v&&(!((w=b.attribution)===null||w===void 0)&&w.trackPageViews)&&(o.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),b.attribution.trackPageViews=!1),n.trackHistoryChanges&&i&&(i.addEventListener("popstate",m),s=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(R,K,z){var Q=A(z,3),P=Q[0],Ce=Q[1],ce=Q[2];R.apply(K,[P,Ce,ce]),f()}})),c()?(o.log("Tracking page view event"),L=(T=r).track,[4,a()]):[3,2]):(y=d?"Options":"undefined",b.loggerProvider.error("Argument of type '".concat(y,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:L.apply(T,[C.sent()]),C.label=2;case 2:return[2]}})})},execute:function(b){return g(void 0,void 0,void 0,function(){var v;return h(this,function(y){switch(y.label){case 0:return n.trackOn==="attribution"&&Ui(b)?(o?.log("Enriching campaign event to page view event with campaign parameters"),[4,a()]):[3,2];case 1:v=y.sent(),b.event_type=v.event_type,b.event_properties=E(E({},b.event_properties),v.event_properties),y.label=2;case 2:return[2,b]}})})},teardown:function(){return g(void 0,void 0,void 0,function(){return h(this,function(b){return i&&(i.removeEventListener("popstate",m),s&&(i.history.pushState=s)),[2]})})}};return _.__trackHistoryPageView=f,_},Ni=function(){return g(void 0,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=In,[4,new $e().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},Ui=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,r=e[B.SET]||{},n=e[B.UNSET]||{},i=ee(ee([],A(Object.keys(r)),!1),A(Object.keys(n)),!1);return Object.keys(Pe).every(function(o){return i.includes(o)})}return!1},Mi=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var Ln=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[xe,e,t.substring(0,r)].filter(Boolean).join("_")},xn=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},Pn=function(t,e,r){var n,i=t.referrer,o=t.referring_domain,s=Ge(t,["referrer","referring_domain"]),u=e||{},d=u.referrer,p=u.referring_domain,a=Ge(u,["referrer","referring_domain"]);if(t.referring_domain&&(!((n=r.excludeReferrers)===null||n===void 0)&&n.includes(t.referring_domain)))return!1;var c=JSON.stringify(s)!==JSON.stringify(a),l=xn(o||"")!==xn(p||"");return!e||c||l},Cn=function(t,e){var r=E(E({},Pe),t),n=Object.entries(r).reduce(function(i,o){var s,u=A(o,2),d=u[0],p=u[1];return i.setOnce("initial_".concat(d),(s=p??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),p?i.set(d,p):i.unset(d)},new ne);return Ke(n)};var br=function(){for(var t=this,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i,o={},s=A(r,2),u=s[0],d=s[1];u&&"init"in u?(i=u,d&&(o=d)):u&&(o=u);var p=(e=o.excludeReferrers)!==null&&e!==void 0?e:[];typeof location<"u"&&p.unshift(location.hostname),o=E(E({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},o),{excludeReferrers:p});var a={name:"web-attribution",type:N.BEFORE,setup:function(c,l){var f;return g(this,void 0,void 0,function(){var m,_,b,v,y,T,L,k;return h(this,function(w){switch(w.label){case 0:return i=i??l,i?o.disabled?(c.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(c.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),!l&&!(!((f=c.attribution)===null||f===void 0)&&f.disabled)&&(c.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),c.attribution={disabled:!0}),_=c.cookieStorage,b=Ln(c.apiKey,"MKTG"),[4,Promise.all([new $e().parse(),_.get(b)])]):(m=u?"Options":"undefined",c.loggerProvider.error("Argument of type '".concat(m,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return v=A.apply(void 0,[w.sent(),2]),y=v[0],T=v[1],L=this.__pluginEnabledOverride,(L??Pn(y,T,o))&&(o.resetSessionOnNewCampaign&&(i.setSessionId(Date.now()),c.loggerProvider.log("Created a new session for new campaign.")),c.loggerProvider.log("Tracking attribution."),k=Cn(y,o),i.track(k),_.set(b,y)),[2]}})})},execute:function(c){return g(t,void 0,void 0,function(){return h(this,function(l){return[2,c]})})}};return a.__pluginEnabledOverride=void 0,a};var wt=1e3,Er=(function(){function t(e){this.loggerProvider=e?.loggerProvider}return t.prototype.isEnabled=function(){return g(this,void 0,void 0,function(){var e,r,n,i,o;return h(this,function(s){switch(s.label){case 0:if(!$())return[2,!1];e=String(Date.now()),r=new t,n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,e)];case 2:return s.sent(),[4,r.get(n)];case 3:return i=s.sent(),[2,i===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return g(this,void 0,void 0,function(){var r,n;return h(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return r=i.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n=i.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var r;return g(this,void 0,void 0,function(){return h(this,function(n){return[2,((r=$())===null||r===void 0?void 0:r.localStorage.getItem(e))||void 0]})})},t.prototype.set=function(e,r){var n,i;return g(this,void 0,void 0,function(){var o,s,u;return h(this,function(d){o=Array.isArray(r)&&r.length>wt;try{s=JSON.stringify(o?r.slice(0,wt):r),(n=$())===null||n===void 0||n.localStorage.setItem(e,s)}catch{}return o&&(u=r.length-wt,(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(u," events because the queue length exceeded ").concat(wt,"."))),[2]})})},t.prototype.remove=function(e){var r;return g(this,void 0,void 0,function(){return h(this,function(n){try{(r=$())===null||r===void 0||r.localStorage.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return g(this,void 0,void 0,function(){return h(this,function(r){try{(e=$())===null||e===void 0||e.localStorage.clear()}catch{}return[2]})})},t})();var Rn=(function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={done:4},r}return e.prototype.send=function(r,n){return g(this,void 0,void 0,function(){var i=this;return h(this,function(o){return[2,new Promise(function(s,u){typeof XMLHttpRequest>"u"&&u(new Error("XHRTransport is not supported."));var d=new XMLHttpRequest;d.open("POST",r,!0),d.onreadystatechange=function(){if(d.readyState===i.state.done)try{var p=d.responseText,a=JSON.parse(p),c=i.buildResponse(a);s(c)}catch(l){u(l)}},d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","*/*"),d.send(JSON.stringify(n))})]})})},e})(Le);var On=(function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return g(this,void 0,void 0,function(){var i=this;return h(this,function(o){return[2,new Promise(function(s,u){var d=$();if(!d?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var p=JSON.stringify(n),a=d.navigator.sendBeacon(r,JSON.stringify(n));return s(a?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:p.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(c){u(c)}})]})})},e})(Le);var Ue=function(){var t=new Et,e={deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0};return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:t,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:1800*1e3,trackingOptions:e,transportProvider:new hr}},kn=(function(t){ae(e,t);function e(r,n){var i=this,o,s,u,d,p,a,c,l,f,m=Ue();return i=t.call(this,E(E({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:m.transportProvider},n),{apiKey:r}))||this,i._optOut=!1,i.cookieStorage=(o=n?.cookieStorage)!==null&&o!==void 0?o:m.cookieStorage,i.deviceId=n?.deviceId,i.lastEventId=n?.lastEventId,i.lastEventTime=n?.lastEventTime,i.optOut=!!n?.optOut,i.sessionId=n?.sessionId,i.userId=n?.userId,i.appVersion=n?.appVersion,i.attribution=n?.attribution,i.cookieExpiration=(s=n?.cookieExpiration)!==null&&s!==void 0?s:m.cookieExpiration,i.cookieSameSite=(u=n?.cookieSameSite)!==null&&u!==void 0?u:m.cookieSameSite,i.cookieSecure=(d=n?.cookieSecure)!==null&&d!==void 0?d:m.cookieSecure,i.cookieUpgrade=(p=n?.cookieUpgrade)!==null&&p!==void 0?p:m.cookieUpgrade,i.defaultTracking=n?.defaultTracking,i.disableCookies=(a=n?.disableCookies)!==null&&a!==void 0?a:m.disableCookies,i.defaultTracking=n?.defaultTracking,i.domain=(c=n?.domain)!==null&&c!==void 0?c:m.domain,i.partnerId=n?.partnerId,i.sessionTimeout=(l=n?.sessionTimeout)!==null&&l!==void 0?l:m.sessionTimeout,i.trackingOptions=(f=n?.trackingOptions)!==null&&f!==void 0?f:m.trackingOptions,i}return Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var r,n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};(r=this.cookieStorage)===null||r===void 0||r.set(Ye(this.apiKey),n)},e})($t);var An=function(t,e){return g(void 0,void 0,void 0,function(){var r,n,i,o,s,u,d,p,a,c,l,f,m,_,b;return h(this,function(v){switch(v.label){case 0:return r=Ue(),n=(_=e?.deviceId)!==null&&_!==void 0?_:ge(),i=e?.lastEventId,o=e?.lastEventTime,s=e?.optOut,u=e?.sessionId,d=e?.userId,p=e?.cookieStorage,a=e?.domain,c=kn.bind,l=[void 0,t],f=[E({},e)],m={cookieStorage:p,deviceId:n,domain:a,lastEventId:i,lastEventTime:o,optOut:s,sessionId:u},[4,Vi(e)];case 1:return[2,new(c.apply(kn,l.concat([E.apply(void 0,f.concat([(m.storageProvider=v.sent(),m.trackingOptions=E(E({},r.trackingOptions),e?.trackingOptions),m.transportProvider=(b=e?.transportProvider)!==null&&b!==void 0?b:_r(e?.transport),m.userId=d,m)]))])))]}})})},St=function(t,e){return e===void 0&&(e=Ue()),g(void 0,void 0,void 0,function(){var r,n,i;return h(this,function(o){switch(o.label){case 0:return r=E(E({},e),t),n=t?.cookieStorage,i=!n,i?[3,2]:[4,n.isEnabled()];case 1:i=!o.sent(),o.label=2;case 2:return i?[2,Bi(r)]:[2,n]}})})},Bi=function(t){return g(void 0,void 0,void 0,function(){var e,r;return h(this,function(n){switch(n.label){case 0:return e=new ze({domain:t.domain,expirationDays:t.cookieExpiration,sameSite:t.cookieSameSite,secure:t.cookieSecure}),r=t.disableCookies,r?[3,2]:[4,e.isEnabled()];case 1:r=!n.sent(),n.label=2;case 2:return r?(e=new Er,[4,e.isEnabled()]):[3,4];case 3:n.sent()||(e=new Et),n.label=4;case 4:return[2,e]}})})},Vi=function(t){return g(void 0,void 0,void 0,function(){var e,r,n,i,o,s,u,d,p;return h(this,function(a){switch(a.label){case 0:if(e=t&&Object.prototype.hasOwnProperty.call(t,"storageProvider"),r=t&&t.loggerProvider,!(!e||t.storageProvider))return[3,9];a.label=1;case 1:a.trys.push([1,7,8,9]),n=J([t?.storageProvider,new Er({loggerProvider:r})]),i=n.next(),a.label=2;case 2:return i.done?[3,6]:(o=i.value,s=o,s?[4,o.isEnabled()]:[3,4]);case 3:s=a.sent(),a.label=4;case 4:if(s)return[2,o];a.label=5;case 5:return i=n.next(),[3,2];case 6:return[3,9];case 7:return u=a.sent(),d={error:u},[3,9];case 8:try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(d)throw d.error}return[7];case 9:return[2,void 0]}})})},_r=function(t){return t===Ie.XHR?new Rn:t===Ie.SendBeacon?new On:Ue().transportProvider},Dn=function(t){return g(void 0,void 0,void 0,function(){var e,r,n,i,o,o,s,u,d,p;return h(this,function(a){switch(a.label){case 0:return[4,new ze().isEnabled()];case 1:if(!a.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,r=e.split("."),n=[],i="AMP_TLDTEST",o=r.length-2;o>=0;--o)n.push(r.slice(o).join("."));o=0,a.label=2;case 2:return o<n.length?(s=n[o],u={domain:"."+s},d=new ze(u),[4,d.set(i,1)]):[3,7];case 3:return a.sent(),[4,d.get(i)];case 4:return p=a.sent(),p?[4,d.remove(i)]:[3,6];case 5:return a.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};var W="[Amplitude]",It="".concat(W," Page Viewed"),Tr="".concat(W," Form Started"),Nn="".concat(W," Form Submitted"),Un="".concat(W," File Downloaded"),wr="session_start",Sr="session_end",Mn="".concat(W," File Extension"),Bn="".concat(W," File Name"),Vn="".concat(W," Link ID"),Fn="".concat(W," Link Text"),Hn="".concat(W," Link URL"),xt="".concat(W," Form ID"),Lt="".concat(W," Form Name"),Pt="".concat(W," Form Destination");var qn=function(t,e){return g(void 0,void 0,void 0,function(){var r,n,i,o,s,u,d,p,a,c,l;return h(this,function(f){switch(f.label){case 0:return[4,St(e)];case 1:return r=f.sent(),n=lr(t),[4,r.getRaw(n)];case 2:return i=f.sent(),i?((l=e.cookieUpgrade)!==null&&l!==void 0?l:Ue().cookieUpgrade)?[4,r.remove(n)]:[3,4]:[2,{optOut:!1}];case 3:f.sent(),f.label=4;case 4:return o=A(i.split("."),6),s=o[0],u=o[1],d=o[2],p=o[3],a=o[4],c=o[5],[2,{deviceId:s,userId:Fi(u),sessionId:Ir(p),lastEventId:Ir(c),lastEventTime:Ir(a),optOut:!!d}]}})})},Ir=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},Fi=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}};var Kn=_i(jn());var Gn="1.13.4";var Hi="Web",qi="$remote",Wn=(function(){function t(){this.name="context",this.type=N.BEFORE,this.library="amplitude-ts/".concat(Gn),typeof navigator<"u"&&(this.userAgent=navigator.userAgent),this.uaResult=new Kn.default(this.userAgent).getResult()}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var r,n;return g(this,void 0,void 0,function(){var i,o,s,u,d,p,a,c;return h(this,function(l){return i=new Date().getTime(),o=this.uaResult.browser.name,s=this.uaResult.browser.version,u=this.uaResult.device.model||this.uaResult.os.name,d=this.uaResult.device.vendor,p=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,a=(n=e.event_id)!==null&&n!==void 0?n:p+1,this.config.lastEventId=a,e.time||(this.config.lastEventTime=i),c=E(E(E(E(E(E(E(E(E(E(E(E({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Hi}),this.config.trackingOptions.osName&&{os_name:o}),this.config.trackingOptions.osVersion&&{os_version:s}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:d}),this.config.trackingOptions.deviceModel&&{device_model:u}),this.config.trackingOptions.language&&{language:vr()}),this.config.trackingOptions.ipAddress&&{ip:qi}),{insert_id:ge(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,c]})})},t})();var ji={page_domain:"".concat(W," Page Domain"),page_location:"".concat(W," Page Location"),page_path:"".concat(W," Page Path"),page_title:"".concat(W," Page Title"),page_url:"".concat(W," Page URL")},$n=function(){var t="@amplitude/plugin-default-page-view-event-enrichment-browser",e=N.ENRICHMENT,r=function(){return g(void 0,void 0,void 0,function(){return h(this,function(i){return[2,void 0]})})},n=function(i){return g(void 0,void 0,void 0,function(){return h(this,function(o){return i.event_type===It&&i.event_properties&&(i.event_properties=Object.entries(i.event_properties).reduce(function(s,u){var d=A(u,2),p=d[0],a=d[1],c=ji[p];return c?s[c]=a:s[p]=a,s},{})),[2,i]})})};return{name:t,type:e,setup:r,execute:n}};var Yn=function(){var t,e=[],r=function(p,a,c){p.addEventListener(a,c),e.push({element:p,type:a,handler:c})},n=function(){e.forEach(function(p){var a=p.element,c=p.type,l=p.handler;a?.removeEventListener(c,l)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",o=N.ENRICHMENT,s=function(p,a){return g(void 0,void 0,void 0,function(){var c,l,f;return h(this,function(m){return a?typeof document>"u"?[2]:(c=function(_){var b;try{b=new URL(_.href,window.location.href)}catch{return}var v=l.exec(b.href),y=v?.[1];y&&r(_,"click",function(){var T;y&&a.track(Un,(T={},T[Mn]=y,T[Bn]=b.pathname,T[Vn]=_.id,T[Fn]=_.text,T[Hn]=_.href,T))})},l=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,f=Array.from(document.getElementsByTagName("a")),f.forEach(c),typeof MutationObserver<"u"&&(t=new MutationObserver(function(_){_.forEach(function(b){b.addedNodes.forEach(function(v){v.nodeName==="A"&&c(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("a")).map(c)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(p.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},u=function(p){return g(void 0,void 0,void 0,function(){return h(this,function(a){return[2,p]})})},d=function(){return g(void 0,void 0,void 0,function(){return h(this,function(p){return t?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:d}};var zn=function(){var t,e=[],r=function(p,a,c){p.addEventListener(a,c),e.push({element:p,type:a,handler:c})},n=function(){e.forEach(function(p){var a=p.element,c=p.type,l=p.handler;a?.removeEventListener(c,l)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o=N.ENRICHMENT,s=function(p,a){return g(void 0,void 0,void 0,function(){var c,l;return h(this,function(f){return a?typeof document>"u"?[2]:(c=function(m){var _=!1;r(m,"change",function(){var b;_||a.track(Tr,(b={},b[xt]=m.id,b[Lt]=m.name,b[Pt]=m.action,b)),_=!0}),r(m,"submit",function(){var b,v;_||a.track(Tr,(b={},b[xt]=m.id,b[Lt]=m.name,b[Pt]=m.action,b)),a.track(Nn,(v={},v[xt]=m.id,v[Lt]=m.name,v[Pt]=m.action,v)),_=!1})},l=Array.from(document.getElementsByTagName("form")),l.forEach(c),typeof MutationObserver<"u"&&(t=new MutationObserver(function(m){m.forEach(function(_){_.addedNodes.forEach(function(b){b.nodeName==="FORM"&&c(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("form")).map(c)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(p.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},u=function(p){return g(void 0,void 0,void 0,function(){return h(this,function(a){return[2,p]})})},d=function(){return g(void 0,void 0,void 0,function(){return h(this,function(p){return t?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:d}};var Rt=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,o=n.args,s=n.resolve,u=t&&t[i];if(typeof u=="function"){var d=u.apply(t,o);typeof s=="function"&&s(d?.promise)}}return t},Ot=function(t){var e=t;return e&&e._q!==void 0};var Qn=(function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i){return r===void 0&&(r=""),X(this._init(E(E({},i),{userId:n,apiKey:r})))},e.prototype._init=function(r){var n,i,o,s,u,d,p,a,c,l,f,m,_,b,v,y,T,L,k,w;return g(this,void 0,void 0,function(){var C,R,K,z,Q,P,Ce,ce,_e,Me,Re,Oe,Be,Te,we,ke,fe,me,Ve=this;return h(this,function(U){switch(U.label){case 0:return this.initializing?[2]:(this.initializing=!0,C=r,r.disableCookies?(R="",[3,5]):[3,1]);case 1:return(n=r.domain)!==null&&n!==void 0?(K=n,[3,4]):[3,2];case 2:return[4,Dn()];case 3:K=U.sent(),U.label=4;case 4:R=K,U.label=5;case 5:return C.domain=R,[4,qn(r.apiKey,r)];case 6:return z=U.sent(),[4,St(r)];case 7:return Q=U.sent(),[4,Q.get(Ye(r.apiKey))];case 8:return P=U.sent(),Ce=Ne(),ce=(s=(o=(i=r.deviceId)!==null&&i!==void 0?i:Ce.deviceId)!==null&&o!==void 0?o:P?.deviceId)!==null&&s!==void 0?s:z.deviceId,_e=(u=P?.sessionId)!==null&&u!==void 0?u:z.sessionId,Me=(p=(d=r.optOut)!==null&&d!==void 0?d:P?.optOut)!==null&&p!==void 0?p:z.optOut,Re=(a=P?.lastEventId)!==null&&a!==void 0?a:z.lastEventId,Oe=(c=P?.lastEventTime)!==null&&c!==void 0?c:z.lastEventTime,Be=(f=(l=r.userId)!==null&&l!==void 0?l:P?.userId)!==null&&f!==void 0?f:z.userId,this.previousSessionDeviceId=(m=P?.deviceId)!==null&&m!==void 0?m:z.deviceId,this.previousSessionUserId=(_=P?.userId)!==null&&_!==void 0?_:z.userId,[4,An(r.apiKey,E(E({},r),{deviceId:ce,sessionId:_e,optOut:Me,lastEventId:Re,lastEventTime:Oe,userId:Be,cookieStorage:Q}))];case 9:return Te=U.sent(),[4,t.prototype._init.call(this,Te)];case 10:return U.sent(),we=!1,(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId((v=(b=r.sessionId)!==null&&b!==void 0?b:this.config.sessionId)!==null&&v!==void 0?v:Date.now()),we=!0),ke=pe(r.instanceName),ke.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new zt).promise];case 11:return U.sent(),[4,this.add(new Wn).promise];case 12:return U.sent(),[4,this.add(new gr).promise];case 13:return U.sent(),dr(this.config.defaultTracking)?[4,this.add(Yn()).promise]:[3,15];case 14:U.sent(),U.label=15;case 15:return pr(this.config.defaultTracking)?[4,this.add(zn()).promise]:[3,17];case 16:U.sent(),U.label=17;case 17:return!((y=this.config.attribution)===null||y===void 0)&&y.disabled?[3,19]:(fe=br({excludeReferrers:(T=this.config.attribution)===null||T===void 0?void 0:T.excludeReferrers,initialEmptyValue:(L=this.config.attribution)===null||L===void 0?void 0:L.initialEmptyValue,resetSessionOnNewCampaign:(k=this.config.attribution)===null||k===void 0?void 0:k.resetSessionOnNewCampaign}),fe.__pluginEnabledOverride=we||!((w=this.config.attribution)===null||w===void 0)&&w.trackNewCampaigns?void 0:!1,[4,this.add(fe).promise]);case 18:U.sent(),U.label=19;case 19:return me=mr(this.config),me.eventType=me.eventType||It,[4,this.add(yr(me)).promise];case 20:return U.sent(),[4,this.add($n()).promise];case 21:return U.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 22:return U.sent(),ke.eventBridge.setEventReceiver(function(et){Ve.track(et.eventType,et.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}(r!==this.config.userId||r===void 0)&&(this.config.userId=r,Qt(r,this.config.instanceName))},e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r,Xt(r,this.config.instanceName)},e.prototype.setOptOut=function(r){Zt(r,this.config.instanceName),t.prototype.setOptOut.call(this,r)},e.prototype.reset=function(){this.setDeviceId(ge()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},e.prototype.setSessionId=function(r){var n;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r!==this.config.sessionId){var i=this.getSessionId(),o=this.config.lastEventTime,s=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,fr(this.config.defaultTracking)&&(i&&o&&this.track(Sr,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:i,time:o+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(wr,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=_r(r)},e.prototype.identify=function(r,n){if(Ot(r)){var i=r._q;r._q=[],r=Rt(new ne,i)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),t.prototype.identify.call(this,r,n)},e.prototype.groupIdentify=function(r,n,i,o){if(Ot(i)){var s=i._q;i._q=[],i=Rt(new ne,s)}return t.prototype.groupIdentify.call(this,r,n,i,o)},e.prototype.revenue=function(r,n){if(Ot(r)){var i=r._q;r._q=[],r=Rt(new gt,i)}return t.prototype.revenue.call(this,r,n)},e.prototype.process=function(r){return g(this,void 0,void 0,function(){var n,i,o;return h(this,function(s){return n=Date.now(),i=this.config.lastEventTime||Date.now(),o=n-i,r.event_type!==wr&&r.event_type!==Sr&&(!r.session_id||r.session_id===this.getSessionId())&&o>this.config.sessionTimeout&&this.setSessionId(n),[2,t.prototype.process.call(this,r)]})})},e})(Wt);var Gi=function(){var t=new Qn;return{init:H(t.init.bind(t),"init",V(t),F(t,["config"])),add:H(t.add.bind(t),"add",V(t),F(t,["config.apiKey","timeline.plugins"])),remove:H(t.remove.bind(t),"remove",V(t),F(t,["config.apiKey","timeline.plugins"])),track:H(t.track.bind(t),"track",V(t),F(t,["config.apiKey","timeline.queue.length"])),logEvent:H(t.logEvent.bind(t),"logEvent",V(t),F(t,["config.apiKey","timeline.queue.length"])),identify:H(t.identify.bind(t),"identify",V(t),F(t,["config.apiKey","timeline.queue.length"])),groupIdentify:H(t.groupIdentify.bind(t),"groupIdentify",V(t),F(t,["config.apiKey","timeline.queue.length"])),setGroup:H(t.setGroup.bind(t),"setGroup",V(t),F(t,["config.apiKey","timeline.queue.length"])),revenue:H(t.revenue.bind(t),"revenue",V(t),F(t,["config.apiKey","timeline.queue.length"])),flush:H(t.flush.bind(t),"flush",V(t),F(t,["config.apiKey","timeline.queue.length"])),getUserId:H(t.getUserId.bind(t),"getUserId",V(t),F(t,["config","config.userId"])),setUserId:H(t.setUserId.bind(t),"setUserId",V(t),F(t,["config","config.userId"])),getDeviceId:H(t.getDeviceId.bind(t),"getDeviceId",V(t),F(t,["config","config.deviceId"])),setDeviceId:H(t.setDeviceId.bind(t),"setDeviceId",V(t),F(t,["config","config.deviceId"])),reset:H(t.reset.bind(t),"reset",V(t),F(t,["config","config.userId","config.deviceId"])),getSessionId:H(t.getSessionId.bind(t),"getSessionId",V(t),F(t,["config"])),setSessionId:H(t.setSessionId.bind(t),"setSessionId",V(t),F(t,["config"])),extendSession:H(t.extendSession.bind(t),"extendSession",V(t),F(t,["config"])),setOptOut:H(t.setOptOut.bind(t),"setOptOut",V(t),F(t,["config"])),setTransport:H(t.setTransport.bind(t),"setTransport",V(t),F(t,["config"]))}},j=Gi();var cc=j.add,lc=j.extendSession,dc=j.flush,pc=j.getDeviceId,fc=j.getSessionId,mc=j.getUserId,vc=j.groupIdentify,Xn=j.identify,Zn=j.init,gc=j.logEvent,hc=j.remove,yc=j.reset,bc=j.revenue,Ec=j.setDeviceId,_c=j.setGroup,Tc=j.setOptOut,wc=j.setSessionId,Sc=j.setTransport,Ic=j.setUserId,ye=j.track;var te=t=>{window.dispatchEvent(new CustomEvent("builderdevtools",{detail:{eventName:t}}))};async function Ki(){return zr()}var Jn=async()=>{let t=new URL(window.location.href),e=t.hash,r=\`#\${Br}=\`,n=Math.random().toString(36).substring(2,15),i=await Ki();Zn("f1d2eb79aecd01b28c8a371ea5d1751c",i?.userId||n,{logLevel:mt.LogLevel.None,serverUrl:Hr,flushIntervalMillis:500});let o=new ne;Xn(o,{device_id:i?.deviceId,user_id:i?.userId||n});let s="anonymous";e.startsWith(r)&&(s=e.slice(r.length),s&&(Wi(s),t.hash="",window.history.replaceState({},"",t.href))),te("init")};var Wi=t=>{if(typeof t=="string"&&t.length>0){let e=Ze();Xe({...e,builderUserId:t})}},Ze=()=>{let t=localStorage.getItem(ei);if(t)try{let e=JSON.parse(t);return(!e.ctas||typeof e.ctas!="object")&&(e=Xe({...e,ctas:{}})),e.menuOpenedTs&&(e=Xe({...e,ctas:{...e.ctas,menuOpened:e.menuOpenedTs}}),delete e.menuOpenedTs),e}catch(e){console.error(e)}return Xe({firstVisitTs:Date.now(),ctas:{},builderUserId:""})},Xe=t=>{try{localStorage.setItem(ei,JSON.stringify(t))}catch(e){console.error(e)}return t},xr=t=>!!Ze().ctas[t],Lr=t=>{let e=Ze();return Xe({...e,ctas:{...e.ctas,[t]:Date.now()}})},ei="builderDevtools";function ti(t){$i(t),Yi(t),zi(t),Qi(t)}function $i(t){let e=t.getElementById("input-register");e.addEventListener("change",async r=>{r.stopPropagation();let n=t.getElementById("input-name"),i=t.querySelector(".nav-cmp-input");i.classList.add("input-loading"),i.classList.remove("input-enabled");let o=n.dataset.id,s=n.dataset.prop,u=await at({cmpId:o,name:s,registerInput:e.checked});te("registryUpdate"),le(u),Je(t,o,s),be(t,o),i.classList.remove("input-loading")})}function Yi(t){t.getElementById("input-open-source").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let n=r.target,i=G.components.find(o=>o.id===n?.dataset.id);i&&De({filePath:i.filePath})})}function zi(t){let e=t.getElementById("input-name"),r=e.closest(".ui-text-input"),n="",i;e.addEventListener("focus",o=>{clearTimeout(i),r.classList.remove("saved"),o.stopPropagation(),n=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),e.value!==n){if(e.value.trim().length<3){e.value=n;return}r.classList.add("saved"),i=setTimeout(()=>{r.classList.remove("saved")},3e3);let s=e.dataset.id,u=e.dataset.prop,d=await at({cmpId:s,name:u,friendlyName:e.value});te("registryUpdate"),le(d),ue(t),be(t,s),Je(t,s,u)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),o.key==="Escape"?(e.value=n,e.blur()):o.key==="Enter"&&e.blur()})}function Qi(t){let e=t.getElementById("input-type");e.addEventListener("change",async r=>{r.stopPropagation();let n=e.dataset.id,i=e.dataset.prop,o=await at({cmpId:n,name:i,type:e.value});te("registryUpdate"),le(o),ue(t),be(t,n),Je(t,n,i)})}function Je(t,e,r){let n=G.components.find(l=>l.id===e);if(!n)return null;let i=n.inputs.find(l=>l.name===r);if(!i)return null;let o=t.querySelector(".nav-cmp-input");i.isRegistered?o.classList.add("input-enabled"):o.classList.remove("input-enabled");let s=t.getElementById("input-register");s.checked=!!i.isRegistered;let u=t.getElementById("cmp-input-title");u.innerText=n.name+": "+(i.friendlyName||i.name);let d=t.getElementById("input-open-source");d.innerText=\`Open \${n.displayFilePath}\`,d.dataset.id=n.id;let p=t.getElementById("cmp-prop-name");p.innerText=i.name;let a=t.getElementById("cmp-prop-type");a.innerText=ft(i.type);let c=t.getElementById("input-name");return c.dataset.id=n.id,c.dataset.prop=i.name,c.value=i.friendlyName||i.name,Xi(t,n,i),i}function Xi(t,e,r){let n=t.getElementById("input-type");n.dataset.id=e.id,n.dataset.prop=r.name,n.innerHTML="";let i=r.type,o=ut.includes(i),s=ct.includes(i),u=lt.includes(i),d=dt.includes(i),p=pt.includes(i);Qr.forEach(a=>{let c=document.createElement("option");c.value=a.value,c.innerText=a.text,c.disabled=ut.includes(a.value)&&!o||ct.includes(a.value)&&!s||lt.includes(a.value)&&!u||dt.includes(a.value)&&!d||pt.includes(a.value)&&!p,n.appendChild(c)}),n.value=i}function ri(t){Zi(t),Ji(t),eo(t),ro(t),to(t)}function Zi(t){t.getElementById("cmp-register").addEventListener("change",r=>{r.stopPropagation(),kt(t,"update")})}async function kt(t,e){let r=t.querySelector(".nav-cmp-detail"),n=t.getElementById("cmp-error"),i=t.getElementById("cmp-register"),o=i.closest(".ui-switch");r.classList.remove("cmp-enabled"),i.checked&&r.classList.add("cmp-loading");try{let s=i.dataset.id,u;e==="load"?u=await Gr({cmpId:s}):i.checked?(u=await Kr({cmpId:s}),te("registryUpdate"),ye("interaction",{type:"click",name:"register component",detail:s})):(u=await $r({cmpId:s}),te("registryUpdate"),ye("interaction",{type:"click",name:"unregister component",detail:s})),le(u),ue(t);let d=be(t,s);e==="update"&&d&&(i.checked?(r.classList.add("cmp-enabled"),Bt(t,\`<strong>\${d.name}</strong> is now registered in <strong>\${G.registryDisplayPath}</strong> and available for use in the Builder Visual Editor\`)):Bt(t,\`<strong>\${d.name}</strong> has been unregistered from <strong>\${G.registryDisplayPath}</strong> and removed from the Builder Visual Editor\`))}catch(s){console.error(s),n.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${s.message||s}</p>\`,o.style.display="none"}r.classList.remove("cmp-loading")}function Ji(t){let e=t.getElementById("cmp-name"),r=e.closest(".ui-text-input"),n="",i;e.addEventListener("focus",o=>{clearTimeout(i),r.classList.remove("saved"),o.stopPropagation(),n=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),e.value!==n){if(e.value.trim().length<3){e.value=n;return}r.classList.add("saved"),i=setTimeout(()=>{r.classList.remove("saved")},3e3);let s=e.dataset.id,u=await Wr({cmpId:s,name:e.value});te("registryUpdate"),le(u),ue(t),be(t,s)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),o.key==="Escape"?(e.value=n,e.blur()):o.key==="Enter"&&e.blur()})}function be(t,e){let r=G.components.find(a=>a.id===e);if(!r)return null;let n=t.getElementById("cmp-register"),i=t.getElementById("cmp-error"),o=n.closest(".ui-switch");o.style.display="",i.innerHTML="",n.dataset.id=r.id,n.checked=!!r.isRegistered;let s=t.querySelector(".nav-cmp-detail");r.isRegistered?s.classList.add("cmp-enabled"):s.classList.remove("cmp-enabled");let u=t.getElementById("cmp-name");u.dataset.id=r.id,u.value=r.name;let d=t.getElementById("cmp-open-source");d.innerText=\`Open \${r.displayFilePath}\`,d.dataset.id=r.id;let p=t.getElementById("cmp-detail-title");return p.innerText=\`\${r.name} Component\`,no(t,r),r}function eo(t){t.getElementById("cmp-open-source").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let n=r.target,i=G.components.find(o=>o.id===n?.dataset.id);i&&(De({filePath:i.filePath}),ye("interaction",{type:"click",name:"open component source file",detail:i.filePath}))})}function to(t){t.getElementById("btn-inputs-reload").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),kt(t,"load")})}function ro(t){t.getElementById("cmp-detail-inputs").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let i=r.target?.closest("button"),o=i?.dataset.id,s=i?.dataset.propName;Je(t,o,s)&&oe(t,"nav-cmp-input")})}function no(t,e){let r=t.getElementById("cmp-detail-inputs"),n=e.inputs.filter(i=>!i.hideFromUI);n.length>0?(r.innerHTML="",n.forEach(i=>{r.appendChild(io(e,i))})):r.innerHTML=\`<p class="cmp-inputs-empty">\${e.name} component does not have any props</p>\`}function io(t,e){let r=document.createElement("button");r.dataset.id=t.id,r.dataset.propName=e.name,r.className="cmp-input-item nav-list-item",e.isRegistered||r.classList.add("cmp-input-item-unregistered");let n=document.createElement("span"),i=ft(e.type);n.className=\`nav-list-item-icon input-icon input-icon-\${i}\`,r.appendChild(n);let o=document.createElement("span");o.innerText=e.friendlyName||e.name,r.appendChild(o);let s=document.createElement("span");return s.className="nav-list-item-note",s.innerText=e.type,r.appendChild(s),r}function oi(t){t.getElementById("open-builder-registry").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),De({filePath:G.registryPath,line:1,column:1})}),t.getElementById("cmp-list").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();let u=o.target?.dataset.id,d=G.components.find(p=>p.id===u);if(d){let p=t.querySelector(".nav-cmp-detail .section-content");p.scrollTop=0,be(t,d.id),oe(t,"nav-cmp-detail"),d.isRegistered&&kt(t,"load")}});let n=t.getElementById("component-search"),i=t.getElementById("clear-search");n?.addEventListener("input",o=>{let s=o.target.value.toLowerCase(),u=s?G.components.filter(d=>d.name.toLowerCase().includes(s)||d.displayFilePath?.toLowerCase().includes(s)):G.components;ue(t,u),i.style.display=s?"flex":"none"}),i?.addEventListener("click",()=>{n.value="",ue(t),i.style.display="none"}),n?.addEventListener("keydown",o=>{o.key==="Escape"&&(n.value="",ue(t),i.style.display="none")})}function si(t){let e=jr();oo(t,e)}async function oo(t,e){let r=t.getElementById("cmp-list"),n=t.querySelector(".nav-cmp-list");n.classList.add("nav-loading");let i=t.getElementById("open-builder-registry");try{let o=await e;le(o),ue(t),G.registryDisplayPath?i.innerText="Open "+o.registryDisplayPath:i.innerText=""}catch(o){r.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${o.message||o}</p>\`,console.error(o)}n.classList.remove("nav-loading")}function ue(t,e){let r=t.getElementById("cmp-list");r.innerHTML="";let n=e||G.components,i=n.filter(s=>s.isRegistered),o=n.filter(s=>!s.isRegistered);if(e&&e.length===0){let s=document.createElement("p");s.className="no-results",s.innerText="No matching components found",r.appendChild(s);return}ni(r,"Registered Components",i),ni(r,"Unregistered Components",o)}function ni(t,e,r){if(r.length>0){let n=document.createElement("h4");n.innerText=e,t.appendChild(n),r.forEach(i=>{t.appendChild(so(i))})}}function so(t){let e=document.getElementById("component-search")?.value.toLowerCase(),r=document.createElement("button");r.dataset.id=t.id,r.className="cmp-item nav-list-item",t.isRegistered&&r.classList.add("registered");let n=document.createElement("span");n.className="nav-list-item-icon",t.image&&(n.style.backgroundImage=\`url(\${t.image})\`),r.appendChild(n);let i=document.createElement("span");i.className="nav-list-item-name",i.innerHTML=ii(t.name,e),r.appendChild(i);let o=document.createElement("span");return o.className="nav-list-item-note",o.innerHTML=ii(t.displayFilePath||"",e),r.appendChild(o),r}function ii(t,e){if(!e)return t;let r=new RegExp(\`(\${e})\`,"gi");return t.replace(r,'<span class="search-highlight">$1</span>')}var ai=t=>{t.querySelector(".menu-toggle").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Ee(t,!0)}),t.getElementById("close").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Ee(t,!1)}),t.getElementById("hit").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Ee(t,!1)}),Ar(t),t.addEventListener("click",e=>e.stopPropagation()),ao(t)},Ee=(t,e)=>{e?(document.body.classList.add("builder-no-scroll"),t.host.classList.add("show-builder-menu"),te("menuOpen"),Lr("menuOpened"),ye("interaction",{type:"click",name:"open dev-tools menu"})):(document.body.classList.remove("builder-no-scroll"),t.host.classList.remove("show-builder-menu"),te("menuClose"),setTimeout(()=>{oe(t,"nav-home")},300)),Yr(e)},ao=t=>{if(!xr("menuOpened")){uo(t);return}let e=Ze();if(!((Date.now()-e.firstVisitTs)/1e3/60<10)&&!xr("feedback")){Lr("feedback"),co(t);return}},uo=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="#open-dev-tools",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>Open Builder Devtools</h3>
      <p>Start registering your components</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),e.classList.remove("menu-toggle-tooltip-show"),Ee(t,!0)})},1e3)},co=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform",e.target="_blank",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>How's Devtools working for you?</h3>
      <p>We'd love your feedback!</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",()=>{e.classList.remove("menu-toggle-tooltip-show")})},1e3)};function ui(t){t.getElementById("go-to-builder").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),Ee(t,!1),window.open(Nr(),"builder")}),t.getElementById("components-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();let u=t.querySelector(".nav-cmp-list .section-content");u.scrollTop=0,oe(t,"nav-cmp-list"),si(t)}),t.getElementById("settings-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),oe(t,"nav-settings")}),t.getElementById("add-page-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),Ee(t,!1),window.open(je(),"builder")}),t.getElementById("import-from-figma").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),Ee(t,!1),window.open("https://www.figma.com/community/plugin/747985167520967365/builder-io-ai-powered-figma-to-code-react-vue-tailwind-more")})}function ci(t){let e=t.getElementById("enable-edit");e.addEventListener("change",r=>{r.stopPropagation(),Ft(e.checked)}),e.checked=it(),Ft(e.checked)}var At=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=\`<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}.menu-toggle{position:absolute;right:0;bottom:0;pointer-events:auto;padding:8px;background:transparent;border:none;appearance:none}.menu-toggle div{position:relative;width:64px;height:64px;pointer-events:none;border-radius:50%;background:#000;border:1px solid white;box-shadow:#00000054 0 0 8px}.menu-toggle:hover div{background-color:var(--background-color);border:1px solid rgb(220,220,220)}.menu-toggle svg{position:absolute;top:15px;left:15px;width:33px;height:32px}div.highlight-bg{position:absolute;top:-1px;left:-1px;background-color:#1a1a1a;pointer-events:none;transition:all .4s ease-out;opacity:0}.menu-toggle-highlight-no-transition div.highlight-bg{transition:none}.menu-toggle-highlight div.highlight-bg{opacity:1}.menu-toggle-tooltip{position:absolute;bottom:0;right:0;width:382px;height:72px;padding:0;text-align:left;appearance:none;background-color:transparent;border:none;pointer-events:none;transform:translate3d(320px,0,0);opacity:0;transition:all .15s ease-in-out;color:#fff}.menu-toggle-tooltip.menu-toggle-tooltip-show{pointer-events:auto;opacity:1;transform:translateZ(0)}.menu-toggle-tooltip-content{position:absolute;inset:0 95px 10px 0;padding:8px 12px;background-color:var(--primary-color);box-shadow:#00000054 0 0 20px;border-radius:2px}.menu-toggle-tooltip-content:before{content:"";position:absolute;bottom:15px;right:-6px;width:30px;height:30px;background-color:var(--primary-color);transform:rotate(45deg)}.menu-toggle-tooltip:hover .menu-toggle-tooltip-content,.menu-toggle-tooltip:hover .menu-toggle-tooltip-content:before{background-color:var(--primary-color-highlight)}.menu-toggle-tooltip-content h3{margin:0;font-size:16px}.menu-toggle-tooltip-content p{margin:0;font-size:12px}section{position:absolute;display:grid;grid-template-rows:64px auto 64px;top:0;left:0;width:100%;height:100%;padding:0;pointer-events:none}.section-content{margin:0;padding:0 0 10px;font-weight:300;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;overflow-y:auto}.section-content .error{color:var(--error-color);font-weight:700}section a{text-decoration:none;color:var(--text-color)}section h3,section p{margin-left:16px;margin-right:16px}.info{font-size:12px}ul.list{list-style:none;padding:0;margin:0}ul.list li{display:block;padding:0;margin:0}ul.list a,ul.list button{display:grid;grid-template-columns:24px auto;grid-gap:16px;padding:12px;margin:8px 0;border:none;background:transparent;appearance:none;width:100%;font-weight:300;text-align:left;text-decoration:none;color:var(--text-color)}ul.list a:hover,ul.list button:hover{text-decoration:none;color:var(--text-color);background-color:var(--button-background-color-hover)}ul.list a span,ul.list button span{display:block;font-size:16px;font-weight:500;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}header{position:relative;display:grid;grid-template-columns:44px 1fr;gap:8px;padding-left:8px;border-bottom:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}header>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-home header>div{margin-right:56px}header h2{margin:7px 0 0;font-size:18px;font-weight:500;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p{margin:2px 0 0;font-size:12px;font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button{display:block;margin:0;padding:0;width:100%;font-size:12px;font-weight:300;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button:hover{text-decoration:underline;color:var(--primary-color)}.builder-logo{margin:12px 0 0 8px}#close{display:block;position:absolute;appearance:none;background:transparent;border:none;border-radius:50%;margin:0;padding:0;right:4px;top:8px;width:48px;height:48px;z-index:1;opacity:.7}#close:hover{opacity:1;background-color:var(--button-background-color-hover)}#close svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}.back-button{position:relative;display:block;margin:7px 0 0 -2px;width:48px;height:48px;background:transparent;border:none;appearance:none;border-radius:50%}.back-button:hover{background-color:var(--button-background-color-hover)}.back-button svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}footer{border-top:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}section.nav-cmp-list{grid-template-rows:64px auto 120px}footer a{text-decoration:underline;color:var(--primary-color)}footer a:hover{color:var(--primary-color);text-decoration:none}.nav-list{padding:2px 0}.nav-loading{pointer-events:none}.nav-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.nav-loading .nav-loading-icon{opacity:.5}.nav-list h4{margin:8px 8px 8px 10px;font-size:14px;font-weight:600}.nav-list .nav-list-item+h4{margin-top:30px}.nav-list-item{display:grid;grid-template-columns:1fr 1fr;gap:8px;position:relative;margin:2px 0;padding:8px 28px 8px 46px;width:100%;font-size:14px;font-weight:300;text-align:left;border:none;background:transparent;appearance:none}.nav-list-item:hover{background-color:var(--button-background-color-hover)}.nav-list-item-icon{position:absolute;top:4px;left:10px;width:24px;height:24px;object-fit:contain;filter:invert(100%);background-size:24px 24px;background-repeat:no-repeat;background-position:center center}.nav-list-item span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none}.nav-list-item:after{display:block;position:absolute;content:"";background-image:url('data:image/svg+xml,<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L7 7L1 13" stroke="%23F2F2F2" stroke-opacity="0.5" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');background-repeat:no-repeat;background-position:12px 9px;top:0;right:0;width:32px;height:32px;pointer-events:none}.nav-list-item-note{opacity:0;font-size:12px;padding-top:1px;text-align:right}.nav-list-item:hover .nav-list-item-note{opacity:.5}.ui-select{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-select h3{margin:0;font-size:14px;font-weight:500}.ui-select p{margin:8px 0;font-size:12px;font-weight:300}.ui-select .select{position:relative;margin:8px 0;border-radius:4px;padding:0;line-height:1.1;overflow:hidden;border:1px solid var(--border-color)}.ui-select select{appearance:none;background-color:transparent;border:none;outline:none;padding:8px 32px 8px 8px;margin:0;width:100%;font-size:14px;cursor:pointer;text-overflow:ellipsis;opacity:.6;color:var(--text-color)}.ui-select .select:after{content:"";top:6px;right:5px;width:24px;height:24px;position:absolute;background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%23F2F2F2" d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>');background-repeat:no-repeat;background-position:center;pointer-events:none;opacity:.6}.ui-select .select:hover{border-color:var(--primary-color-subdued)}.ui-text-input .select:focus-within{border-color:var(--primary-color)}.ui-text-input .select:focus-within select{opacity:1}.spinner:after{content:" ";display:block;width:32px;height:32px;margin:0 auto;pointer-events:auto;border-radius:50%;border:3px solid var(--text-color);border-color:var(--text-color) transparent var(--text-color) transparent;animation:spinner .75s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ui-switch{display:grid;grid-template-columns:auto 48px;grid-gap:20px;margin:8px 0 16px;padding:8px 0 8px 16px;cursor:pointer}.ui-switch>*{pointer-events:none}.ui-switch input{display:none;visibility:hidden}.ui-switch .switcher{display:inline-block;border-radius:100px;width:35px;height:14px;background-color:#ccc;position:relative;top:6px;vertical-align:middle;cursor:pointer}.ui-switch input[type=checkbox]:checked+.switcher{background-color:var(--primary-color-subdued)}.ui-switch .switcher:before{content:"";display:block;width:20px;height:20px;background-color:var(--text-color);box-shadow:0 1px 3px #0009;border-radius:50%;position:absolute;top:-3px;left:0;margin-right:0;transition:all .15s}.ui-switch input[type=checkbox]:checked+.switcher:before{left:100%;margin-left:-20px;background-color:var(--primary-color)}.ui-switch h3{margin:0;font-size:14px;font-weight:500}.ui-switch p{margin:4px 0 0;font-size:12px;font-weight:300}.ui-text-input{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-text-input h3{margin:0;font-size:14px;font-weight:500}.ui-text-input p{margin:8px 0;font-size:12px;font-weight:300}.ui-text-input .input{position:relative;margin:8px 0;border:1px solid var(--border-color);border-radius:4px;background:transparent;padding:2px;overflow:hidden}.ui-text-input input{display:block;width:235px;font-size:14px;border:none;background:transparent;padding:6px;appearance:none;color:var(--text-color);opacity:.6;outline:none}.ui-text-input .input:hover{border-color:var(--primary-color-subdued)}.ui-text-input .input:focus-within{border-color:var(--primary-color)}.ui-text-input .input:focus-within input{opacity:1}.ui-text-input .input:after{content:"";position:absolute;top:5px;right:14px;width:8px;height:17px;border:2px solid rgba(51,181,51,1);border-top:none;border-left:none;transform:rotate(45deg);opacity:0;transition:opacity 80ms ease-in-out;pointer-events:none}.ui-text-input.saved .input:after{opacity:1}.ui-toast{position:fixed;bottom:8px;left:8px;right:8px;padding:6px 12px;font-size:14px;border-radius:4px;transform:translate3d(0,150%,0);opacity:0;transition:all var(--transition-time) ease-in-out;background-color:var(--primary-color-subdued);color:var(--text-color);pointer-events:none}.ui-toast.ui-toast-show{transform:translateZ(0);opacity:1;pointer-events:auto}[data-view=nav-home] .nav-home .section-content,[data-view=nav-cmp-list] .nav-cmp-list .section-content,[data-view=nav-cmp-detail] .nav-cmp-detail .section-content,[data-view=nav-cmp-input] .nav-cmp-input .section-content,[data-view=nav-settings] .nav-settings .section-content{transform:translateZ(0);pointer-events:auto}[data-view=nav-home] .nav-home header,[data-view=nav-home] .nav-home footer,[data-view=nav-cmp-list] .nav-cmp-list header,[data-view=nav-cmp-list] .nav-cmp-list footer,[data-view=nav-cmp-detail] .nav-cmp-detail header,[data-view=nav-cmp-detail] .nav-cmp-detail footer,[data-view=nav-cmp-input] .nav-cmp-input header,[data-view=nav-cmp-input] .nav-cmp-input footer,[data-view=nav-settings] .nav-settings header,[data-view=nav-settings] .nav-settings footer{opacity:1;pointer-events:auto}[data-view=nav-cmp-list] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-home .section-content,[data-view=nav-cmp-input] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-cmp-detail .section-content,[data-view=nav-settings] .nav-home .section-content{transform:translate3d(-105%,0,0)}.cmp-item .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.83 16.809C20.94 16.561 21 16.289 21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L7.988 3.99001M5.441 5.44801L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L18.544 18.56" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.532 10.538L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.27002 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 3L21 21" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');opacity:.3}.cmp-item.registered .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /></svg>');opacity:.8}.search-highlight{background-color:var(--primary-color-alpha);padding:0 2px;border-radius:2px;font-weight:500}.search-container{position:sticky;top:0;z-index:10;padding:12px 16px;background:var(--background-color);border-bottom:1px solid var(--border-color)}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:var(--text-color-secondary);pointer-events:none}.component-search-input{width:100%;height:36px;padding:8px 36px;border:1px solid var(--border-color);border-radius:6px;background:var(--input-background);color:var(--text-color);font-size:14px;transition:border-color .2s,box-shadow .2s}.component-search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-color-alpha)}.component-search-input::placeholder{color:var(--text-color-tertiary)}.clear-search-button{position:absolute;right:8px;padding:4px;color:var(--text-color-secondary);border:none;background:transparent;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .2s,background-color .2s;display:flex;align-items:center;justify-content:center}.clear-search-button:hover{background-color:var(--hover-color)}.component-search-input:not(:placeholder-shown)+.clear-search-button{opacity:1}.no-results{padding:32px 16px;text-align:center;color:var(--text-color-secondary);font-size:14px}#cmp-detail{position:relative}.cmp-loading{pointer-events:none!important}.cmp-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.cmp-loading .cmp-loading-icon{opacity:.5}.cmp-cover{position:absolute;top:160px;left:0;width:100%;height:100vh;background:var(--background-color);transform:translateZ(0);pointer-events:none;display:none}[data-view=nav-cmp-detail] .cmp-cover{display:block;pointer-events:auto}.cmp-enabled .cmp-cover{transform:translate3d(0,105%,0);pointer-events:none}.section-ready .cmp-cover{transition:all var(--transition-time) ease-in-out}.cmp-detail-inputs-container{margin:8px 0 16px;padding:0}.cmp-detail-inputs-container h3{margin:0 0 6px;padding-left:16px;padding-right:8px;font-size:14px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.cmp-detail-inputs-reload{font-weight:300;font-size:.9em;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmp-detail-inputs-reload:hover{text-decoration:underline;color:var(--primary-color)}.cmp-detail-inputs-container .cmp-inputs-empty{padding:0;margin-top:12px;font-size:12px;font-weight:300;opacity:.5;font-style:italic}.cmp-detail-inputs-container .nav-list-item-icon{opacity:.8;background-size:20px 20px;background-position:4px center}.input-icon{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path></svg>')}.input-icon-array{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-6a2 2 0 1 1 4 0v6"></path> <path d="M10 13h4"></path></svg>')}.input-icon-boolean{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16h2a2 2 0 1 0 0 -4h-2h2a2 2 0 1 0 0 -4h-2v8z"></path></svg>')}.input-icon-number{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-8l4 8v-8"></path></svg>')}.input-icon-object{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M12 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"></path></svg>')}.input-icon-string{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 15a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-2a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1"></path></svg>')}.cmp-input-item-unregistered{opacity:.4}.cmp-input-item-unregistered .input-icon:after{content:"";position:absolute;top:11px;left:4px;width:20px;height:2px;background-color:#000;transform:rotate(-45deg)}.cmp-prop-info{border-bottom:1px solid var(--border-color)}.cmp-input-readonly{margin:16px 0;padding:0 16px;display:grid;grid-template-columns:50% 50%;gap:12px}.cmp-input-readonly h3{margin:0;font-size:14px;font-weight:500}.cmp-input-readonly span{margin-top:2px;font-size:12px;font-weight:300;opacity:.8}.cmp-input-detail{margin:16px 0}.cmp-input-detail a{color:var(--primary-color);text-decoration:none}.cmp-input-detail a:hover{text-decoration:underline}.input-cover{position:absolute;top:175px;left:0;width:100%;height:100%;background:var(--background-color);transform:translateZ(0);transition:all var(--transition-time) ease-in-out;pointer-events:auto}.input-enabled .input-cover{transform:translate3d(0,105%,0);pointer-events:none}.input-loading-icon{position:absolute;display:inline-block;top:190px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.input-loading .input-loading-icon{opacity:.5}:host{position:fixed;inset:0;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}aside{position:absolute;top:0;right:0;width:var(--menu-width);height:100%;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;background:var(--background-color);box-shadow:#000000c9 5px 0 20px;overflow:hidden;z-index:1}:host(.show-builder-menu) aside{pointer-events:auto;transform:translateZ(0)}#hit{position:absolute;inset:0;display:none}:host(.show-builder-menu) #hit{display:block;pointer-events:auto}#version{position:absolute;bottom:6px;right:6px;font-size:8px;color:#9b9b9b}</style><div id="hit"></div> <aside data-view="nav-home"> <section class="nav-home"> <header> <svg class="builder-logo" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> <div> <h2 class="builder-home-title">Builder Devtools</h2> <p><button id="go-to-builder">Go to Builder</button></p> </div> <button id="close" aria-label="Close Menu"> <svg viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M18 6l-12 12" /> <path d="M6 6l12 12" /> </svg> </button> </header> <div class="section-content"> <ul class="list"> <li> <button id="components-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Components</span> </button> </li> <li> <button id="settings-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Settings</span> </button> </li> <li> <button id="add-page-link"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M14 3v4a1 1 0 0 0 1 1h4" /> <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /> <path d="M12 11l0 6" /> <path d="M9 14l6 0" /> </svg> <span>Add Builder Page</span> </button> </li> <li> <button id="import-from-figma"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-figma" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M15 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /> <path d="M6 3m0 3a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v0a3 3 0 0 1 -3 3h-6a3 3 0 0 1 -3 -3z" /> <path d="M9 9a3 3 0 0 0 0 6h3m-3 0a3 3 0 1 0 3 3v-15" /> </svg> <span>Import From Figma</span> </button> </li> </ul> </div> <footer> <ul class="list"> <li> <a href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform" target="_blank" > <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M11.013 17.0114L10.013 18.0114L2.513 10.5834C2.0183 10.102 1.62864 9.52342 1.36854 8.88404C1.10845 8.24466 0.983558 7.55836 1.00173 6.86834C1.01991 6.17832 1.18076 5.49954 1.47415 4.87474C1.76755 4.24994 2.18713 3.69266 2.70648 3.23799C3.22583 2.78331 3.8337 2.4411 4.49181 2.23289C5.14991 2.02468 5.844 1.95499 6.53036 2.02821C7.21673 2.10143 7.8805 2.31596 8.47987 2.65831C9.07925 3.00066 9.60124 3.46341 10.013 4.01741C10.8086 2.95654 11.9931 2.2552 13.3059 2.06766C14.6186 1.88012 15.9521 2.22176 17.013 3.01741C18.0739 3.81306 18.7752 4.99755 18.9627 6.3103C19.1503 7.62305 18.8086 8.95654 18.013 10.0174" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M18.2006 19.8175L16.0286 20.9555C15.9642 20.989 15.8917 21.004 15.8192 20.9987C15.7467 20.9934 15.6771 20.9681 15.6182 20.9256C15.5593 20.8831 15.5134 20.825 15.4855 20.7579C15.4577 20.6907 15.4491 20.6172 15.4606 20.5455L15.8756 18.1345L14.1186 16.4275C14.0662 16.3768 14.0291 16.3123 14.0115 16.2416C13.9939 16.1708 13.9966 16.0965 14.0192 16.0271C14.0418 15.9578 14.0835 15.8962 14.1394 15.8494C14.1954 15.8026 14.2634 15.7725 14.3356 15.7625L16.7636 15.4105L17.8496 13.2175C17.8821 13.1521 17.9322 13.0972 17.9942 13.0588C18.0562 13.0204 18.1277 13 18.2006 13C18.2736 13 18.3451 13.0204 18.4071 13.0588C18.4691 13.0972 18.5191 13.1521 18.5516 13.2175L19.6376 15.4105L22.0656 15.7625C22.1377 15.7728 22.2054 15.8031 22.2611 15.85C22.3168 15.8968 22.3583 15.9583 22.3809 16.0275C22.4034 16.0967 22.4062 16.1708 22.3888 16.2415C22.3715 16.3122 22.3347 16.3766 22.2826 16.4275L20.5256 18.1345L20.9396 20.5445C20.9521 20.6163 20.9441 20.6902 20.9166 20.7578C20.8891 20.8254 20.8433 20.8839 20.7842 20.9267C20.7252 20.9695 20.6553 20.9949 20.5825 21C20.5098 21.005 20.4371 20.9896 20.3726 20.9555L18.2006 19.8175Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Give Feedback</span> </a> </li> </ul> <div id="version"></div> </footer> </section> <section class="nav-cmp-list"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div class="search-container"> <div class="search-input-wrapper"> <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M15.5 15.5L20 20M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z" /> </svg> <input type="text" id="component-search" class="component-search-input" placeholder="Search components..." autocomplete="off" spellcheck="false" /> <button id="clear-search" class="clear-search-button" type="button" aria-label="Clear search" > <svg viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M6 6l12 12M6 18L18 6" /> </svg> </button> </div> </div> <div> <h2>Custom Components</h2> <p> <button id="open-builder-registry"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-list" class="cmp-list nav-list"></div> </div> <div class="nav-loading-icon spinner"></div> <footer> <p class="info"> Expand on Builder's selection of built-in blocks by <a target="_blank" href="https://www.builder.io/c/docs/custom-components-intro" >registering components</a > from your codebase. This way, teammates can drag and drop your components within Builder's Visual Editor just like any other block. </p> </footer> </section> <section class="nav-cmp-detail"> <header> <button class="back-button" data-back="nav-cmp-list"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-detail-title"></h2> <p> <button id="cmp-open-source"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-error"></div> <label class="ui-switch"> <div> <h3>Register Component</h3> <p> Registers this component so it can be used within Builder Visual CMS </p> </div> <input type="checkbox" role="switch" id="cmp-register" /> <span class="switcher"></span> </label> <div id="cmp-detail"> <label class="ui-text-input"> <h3>Component Name</h3> <div class="input"> <input type="text" id="cmp-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="2" maxlength="30" required placeholder="e.g. My Counter" /> </div> <p> Unique name to identify this custom component within Builder. Press ESC to cancel </p> </label> <div class="cmp-detail-inputs-container"> <h3> <span>Builder Inputs (Props)</span> <button class="cmp-detail-inputs-reload" id="btn-inputs-reload"> Reload </button> </h3> <div id="cmp-detail-inputs"></div> </div> </div> </div> <div class="cmp-cover"></div> <div class="cmp-loading-icon spinner"></div> </section> <section class="nav-cmp-input"> <header> <button class="back-button" data-back="nav-cmp-detail"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-input-title"></h2> <p> <button id="input-open-source"></button> </p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable Input</h3> <p>Add this component prop as a Builder input</p> </div> <input type="checkbox" role="switch" id="input-register" /> <span class="switcher"></span> </label> <div class="cmp-prop-info"> <div class="cmp-input-readonly"> <h3>Prop Name</h3> <span id="cmp-prop-name"></span> </div> <div class="cmp-input-readonly"> <h3>Prop Type</h3> <span id="cmp-prop-type"></span> </div> </div> <div class="cmp-input-detail"> <label class="ui-text-input"> <h3>Builder Input Name</h3> <div class="input"> <input type="text" id="input-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="1" maxlength="30" required placeholder="e.g. Text" /> </div> <p> Friendly name to identify this component prop as a Builder input. Press ESC to cancel </p> </label> <label class="ui-select"> <h3>Builder Input Type</h3> <div class="select"> <select id="input-type"></select> </div> <p> Correlate to what editing UI is appropriate for this Builder input. <a href="https://www.builder.io/c/docs/custom-components-input-types" target="_blank" >Read more about input types.</a > </p> </label> </div> <div class="input-cover"></div> <div class="input-loading-icon spinner"></div> </div> </section> <section class="nav-settings"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2>Settings</h2> <p>Configure Builder's Devtools</p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable edit button in UI</h3> <p>Enables the edit button so you can edit content in Builder</p> </div> <input type="checkbox" role="switch" id="enable-edit" /> <span class="switcher"></span> </label> </div> </section> <div class="ui-toast" id="toast"></div> </aside> <button class="menu-toggle" aria-label="Toggle Builder Devtools"> <div> <div class="highlight-bg"></div> <svg viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> </div> </button>\`,ai(e),ui(e),oi(e),ri(e),ti(e),ci(e),this.setAttribute("aria-hidden","true"),e.getElementById("version").textContent="v1.25.0"}highlightOpener(){let e=this.shadowRoot.querySelector(".menu-toggle");e.classList.add("menu-toggle-highlight"),e.classList.add("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight")},20)},20)}};var lo=\`<style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>\`,Dt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=lo+\`<main>
  <aside>
    <div class="logo"></div>

    <ul>
      <li class="highlight active">
        <div class="circle"></div>
        <div class="line"></div>
        <span>Connect Builder.io</span>
      </li>
      <li>
        <div class="circle"></div>
        <div class="line"></div>
        <span>Update App</span>
      </li>
      <li>
        <div class="circle"></div>
        <span>Setup Complete</span>
      </li>
    </ul>
  </aside>

  <section>
    <h1>Integrate Builder.io with your project</h1>

    <p>
      First, let's connect to your Builder.io space to continue with the
      integration
    </p>

    <nav>
      <a class="button next-step" href="#">
        <span id="button-text">Get Started</span>
        <span id="button-icon"></span>
      </a>
    </nav>
  </section>
</main>
\`,po();let r=new URL(Vr,ot);r.searchParams.set(Mr,location.href);let n=e.querySelectorAll(".next-step");for(let i of n)i.setAttribute("href",r.href);ye("overview step viewed")}},po=()=>{let t=document.head.querySelector("link[rel='icon'], link[rel='icon shortcut']");t?(t.href="https://cdn.builder.io/favicon.ico",t.removeAttribute("type")):(t=document.createElement("link"),t.rel="icon",t.href="https://cdn.builder.io/favicon.ico",document.head.appendChild(t))};var li=async()=>{(await qr()).isValid||fo()},fo=()=>{customElements.get("builder-dev-tools-overview")||customElements.define("builder-dev-tools-overview",Dt);let t=document.querySelector("builder-dev-tools-overview");t||(t=document.createElement("builder-dev-tools-overview"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),setTimeout(()=>{t.removeAttribute("aria-hidden")},32)};var mo=()=>{try{customElements.get("builder-dev-tools-edit")||customElements.define("builder-dev-tools-edit",st),customElements.get("builder-dev-tools-menu")||customElements.define("builder-dev-tools-menu",At);let t=document.querySelector("builder-dev-tools-menu");t||(t=document.createElement("builder-dev-tools-menu"),t.setAttribute("data-version","1.25.0"),document.body.appendChild(t));let e=document.querySelector("builder-dev-tools-edit");e||(e=document.createElement("builder-dev-tools-edit"),document.body.appendChild(e));let r=document.getElementById("builder-dev-tools-style");r||(r=document.createElement("style"),r.id="builder-dev-tools-style",r.innerHTML=".builder-no-scroll{overflow:hidden !important}",document.head.appendChild(r)),li(),Jn()}catch(t){console.error("Builder Devtools:",t)}};window.location===window.parent.location&&(console.debug("Builder.io Devtools v1.25.0"),mo());})();`)}async function eg(e){return tg(e,`<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <main>
      <aside>
        <div class="logo"></div>

        <ul>
          <li class="highlight completed">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Connect Builder.io</span>
          </li>
          <li id="step-update-app" class="highlight active">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Update App</span>
          </li>
          <li id="step-setup-complete">
            <div class="circle"></div>
            <span>Setup Complete</span>
          </li>
        </ul>
      </aside>

      <section id="updating" aria-hidden="false">
        <h1>Updating App to include Builder.io</h1>
        <p>
          We're making some updates so Builder can be used within this
          project.<br />
          This usually takes less than a minute to complete.
        </p>

        <nav>
          <p>
            <a id="completing" class="button" aria-disabled="true" href="#">
              <span id="button-text">Updating</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="success" aria-hidden="true">
        <h1 id="success-title">
          Connection Successful
          <div class="check-icon"></div>
        </h1>

        <p>
          Your project is now ready to work with Builder! You can close this tab
          and return to Builder or your development project to continue.
        </p>

        <div id="modified-files-message" hidden>
          <p>
            We've made a few updates to your app to help integrate Builder.io:
          </p>
          <ul id="modified-files-list"></ul>
        </div>

        <p id="restart-warning" hidden>
          Please restart the dev server to ensure the changes take effect, then
          reload this page.
        </p>

        <div id="router-message" hidden>
          <!-- Route message for react -->
          <div id="react-message-section" hidden>
            <span
              >Next, add the following path and component in your React app
              routing setup</span
            >
            <ol id="react-router-steps">
              <li>
                Update path to <strong>'/builder-demo'</strong> or
                <strong>'/*'</strong>
              </li>
              <li>
                Add <strong>'BuilderPage'</strong> component from
                <code>builder-page</code> file
              </li>
            </ol>
          </div>

          <!-- Route message for angular -->
          <div id="angular-message-section" hidden>
            <span
              >Next, add the following path for Builder page in your Angular
              routes</span
            >
            <ol id="angular-router-steps">
              <li>
                Update path to <strong>'builder-demo'</strong> or
                <strong>'**'</strong>
              </li>
              <li>
                Add <strong>'BuilderPage'</strong> component from
                <code>builder-page.component</code> file
              </li>
            </ol>
          </div>

          <a id="need-help" href="#" hidden>
            <span id="help-text">Need help?</span>
            <span id="help-icon"></span>
          </a>
          <div id="router-checkbox-div"></div>
        </div>
        <div id="router-finish-button" hidden>
          <a class="button next-step" href="#">
            <span id="button-text">Finish</span>
            <span id="button-icon"></span>
          </a>
        </div>

        <nav id="go-to-app" hidden>
          <p hidden>Your new app is ready for Builder content! Let's go!</p>
          <p>
            <a class="button next-step" href="#">
              <span id="button-text">Go</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="error" aria-hidden="true">
        <h1>Oops!</h1>
        <p>Looks like we tripped up on an issue!</p>
        <ul id="error-messages"></ul>
      </section>

      <section id="restart-server" aria-hidden="true">
        <h1>Please Restart Your Dev Server</h1>
        <p>
          We've made updates to your application, please restart your dev server
          to ensure the changes take effect.
        </p>
        <p>
          <a id="completing" class="button" aria-disabled="true" href="#">
            <span id="button-text">Please restart your dev server</span>
            <span id="button-icon"></span>
          </a>
        </p>
      </section>
    </main>
    <script>"use strict";(()=>{var Ii=Object.create;var ar=Object.defineProperty;var Si=Object.getOwnPropertyDescriptor;var Ti=Object.getOwnPropertyNames;var xi=Object.getPrototypeOf;var Pi=Object.prototype.hasOwnProperty;var Ri=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Oi=(t,e,r,i)=>{if(e&&typeof e==="object"||typeof e==="function"){for(let n of Ti(e))if(!Pi.call(t,n)&&n!==r)ar(t,n,{get:()=>e[n],enumerable:!(i=Si(e,n))||i.enumerable})}return t};var ki=(t,e,r)=>(r=t!=null?Ii(xi(t)):{},Oi(e||!t||!t.__esModule?ar(r,"default",{value:t,enumerable:true}):r,t));var li=Ri((Be,ot)=>{(function(t,e){"use strict";var r="0.7.33",i="",n="?",o="function",s="undefined",d="object",p="string",l="major",a="model",u="name",c="type",f="vendor",v="version",w="architecture",g="console",h="mobile",m="tablet",E="smarttv",P="wearable",C="embedded",I=350;var O="Amazon",k="Apple",K="ASUS",z="BlackBerry",$="Browser",R="Chrome",_e="Edge",ie="Firefox",fe="Google",Re="Huawei",be="LG",we="Microsoft",Oe="Motorola",pe="Opera",ve="Samsung",Ee="Sharp",oe="Sony",ae="Xiaomi",ke="Zebra",L="Facebook";var je=function(S,A){var T={};for(var q in S){if(A[q]&&A[q].length%2===0){T[q]=A[q].concat(S[q])}else{T[q]=S[q]}}return T},Ge=function(S){var A={};for(var T=0;T<S.length;T++){A[S[T].toUpperCase()]=S[T]}return A},tr=function(S,A){return typeof S===p?Ae(A).indexOf(Ae(S))!==-1:false},Ae=function(S){return S.toLowerCase()},wi=function(S){return typeof S===p?S.replace(/[^\\d\\.]/g,i).split(".")[0]:e},ut=function(S,A){if(typeof S===p){S=S.replace(/^\\s\\s*/,i);return typeof A===s?S:S.substring(0,I)}};var Ce=function(S,A){var T=0,q,x,He,U,De,ee;while(T<A.length&&!De){var nr=A[T],or=A[T+1];q=x=0;while(q<nr.length&&!De){De=nr[q++].exec(S);if(!!De){for(He=0;He<or.length;He++){ee=De[++x];U=or[He];if(typeof U===d&&U.length>0){if(U.length===2){if(typeof U[1]==o){this[U[0]]=U[1].call(this,ee)}else{this[U[0]]=U[1]}}else if(U.length===3){if(typeof U[1]===o&&!(U[1].exec&&U[1].test)){this[U[0]]=ee?U[1].call(this,ee,U[2]):e}else{this[U[0]]=ee?ee.replace(U[1],U[2]):e}}else if(U.length===4){this[U[0]]=ee?U[3].call(this,ee.replace(U[1],U[2])):e}}else{this[U]=ee?ee:e}}}}T+=2}},ct=function(S,A){for(var T in A){if(typeof A[T]===d&&A[T].length>0){for(var q=0;q<A[T].length;q++){if(tr(A[T][q],S)){return T===n?e:T}}}else if(tr(A[T],S)){return T===n?e:T}}return S};var Ei={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},rr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"};var ir={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[u,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[u,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[u,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[u,pe+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[u,pe]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[u,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[u,"UC"+$]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[u,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[u,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[u,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[u,"IE"]],[/yabrowser\\/([\\w\\.]+)/i],[v,[u,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[u,/(.+)/,"$1 Secure "+$],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[u,ie+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[u,pe+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[u,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[u,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[u,pe+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[u,"MIUI "+$]],[/fxios\\/([-\\w\\.]+)/i],[v,[u,ie]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+$]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[u,/(.+)/,"$1 "+$],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[u,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[u,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[u],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[u,L],v],[/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[u,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[u,"GSA"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[u,R+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[u,R+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[u,"Android "+$]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[u,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[u,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,u],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[u,[v,ct,Ei]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[u,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[u,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[u,ie+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i],[u,v],[/(cobalt)\\/([\\w\\.]+)/i],[u,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,Ae]],[/((?:i[346]|x)86)[;\\)]/i],[[w,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[w,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[w,/ower/,i,Ae]],[/(sun4\\w)[;\\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[w,Ae]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[f,ve],[c,m]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[f,ve],[c,h]],[/((ipod|iphone)\\d+,\\d+)/i],[a,[f,k],[c,h]],[/(ipad\\d+,\\d+)/i],[a,[f,k],[c,m]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[f,k],[c,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[f,k],[c,m]],[/(macintosh);/i],[a,[f,k]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[f,Re],[c,m]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[f,Re],[c,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g," "],[f,ae],[c,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g," "],[f,ae],[c,m]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[f,"OPPO"],[c,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[f,"Vivo"],[c,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[f,"Realme"],[c,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[f,Oe],[c,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[f,Oe],[c,m]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[f,be],[c,m]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[f,be],[c,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[f,"Lenovo"],[c,m]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g," "],[f,"Nokia"],[c,h]],[/(pixel c)\\b/i],[a,[f,fe],[c,m]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[f,fe],[c,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[f,oe],[c,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,"Xperia Tablet"],[f,oe],[c,m]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[f,"OnePlus"],[c,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[f,O],[c,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,"Fire Phone $1"],[f,O],[c,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,f,[c,m]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[f,z],[c,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[f,K],[c,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[f,K],[c,h]],[/(nexus 9)/i],[a,[f,"HTC"],[c,m]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[a,/_/g," "],[c,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[f,"Acer"],[c,m]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[f,"Meizu"],[c,h]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[f,Ee],[c,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,a,[c,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,a,[c,m]],[/(surface duo)/i],[a,[f,we],[c,m]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[f,"Fairphone"],[c,h]],[/(u304aa)/i],[a,[f,"AT&T"],[c,h]],[/\\bsie-(\\w*)/i],[a,[f,"Siemens"],[c,h]],[/\\b(rct\\w+) b/i],[a,[f,"RCA"],[c,m]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[f,"Dell"],[c,m]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[f,"Verizon"],[c,m]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[f,"Barnes & Noble"],[c,m]],[/\\b(tm\\d{3}\\w+) b/i],[a,[f,"NuVision"],[c,m]],[/\\b(k88) b/i],[a,[f,"ZTE"],[c,m]],[/\\b(nx\\d{3}j) b/i],[a,[f,"ZTE"],[c,h]],[/\\b(gen\\d{3}) b.+49h/i],[a,[f,"Swiss"],[c,h]],[/\\b(zur\\d{3}) b/i],[a,[f,"Swiss"],[c,m]],[/\\b((zeki)?tb.*\\b) b/i],[a,[f,"Zeki"],[c,m]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],a,[c,m]],[/\\b(ns-?\\w{0,9}) b/i],[a,[f,"Insignia"],[c,m]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[f,"NextBook"],[c,m]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],a,[c,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],a,[c,h]],[/\\b(ph-1) /i],[a,[f,"Essential"],[c,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[f,"Envizen"],[c,m]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[f,"MachSpeed"],[c,m]],[/\\btu_(1491) b/i],[a,[f,"Rotor"],[c,m]],[/(shield[\\w ]+) b/i],[a,[f,"Nvidia"],[c,m]],[/(sprint) (\\w+)/i],[f,a,[c,h]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g," "],[f,we],[c,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[f,ke],[c,m]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[f,ke],[c,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,a,[c,g]],[/droid.+; (shield) bui/i],[a,[f,"Nvidia"],[c,g]],[/(playstation [345portablevi]+)/i],[a,[f,oe],[c,g]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[f,we],[c,g]],[/smart-tv.+(samsung)/i],[f,[c,E]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,"SmartTV"],[f,ve],[c,E]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,be],[c,E]],[/(apple) ?tv/i],[f,[a,k+" TV"],[c,E]],[/crkey/i],[[a,R+"cast"],[f,fe],[c,E]],[/droid.+aft(\\w)( bui|\\))/i],[a,[f,O],[c,E]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[f,Ee],[c,E]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[f,oe],[c,E]],[/(mitv-\\w{5}) bui/i],[a,[f,ae],[c,E]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i],[[f,ut],[a,ut],[c,E]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[c,E]],[/((pebble))app/i],[f,a,[c,P]],[/droid.+; (glass) \\d/i],[a,[f,fe],[c,P]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[f,ke],[c,P]],[/(quest( 2)?)/i],[a,[f,L],[c,P]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[c,C]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[c,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[c,m]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[c,m]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[c,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[u,_e+"HTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[u,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[u,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[u,[v,ct,rr]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[u,"Windows"],[v,ct,rr]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[u,"Mac OS"],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[u,v],[/\\(bb(10);/i],[v,[u,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[u,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[u,ie+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[u,"webOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[u,R+"cast"]],[/(cros) [\\w]+ ([\\w\\.]+\\w)/i],[[u,"Chromium OS"],v],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[u,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[u,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[u,v]]};var Y=function(S,A){if(typeof S===d){A=S;S=e}if(!(this instanceof Y)){return new Y(S,A).getResult()}var T=S||(typeof t!==s&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:i);var q=A?je(ir,A):ir;this.getBrowser=function(){var x={};x[u]=e;x[v]=e;Ce.call(x,T,q.browser);x.major=wi(x.version);return x};this.getCPU=function(){var x={};x[w]=e;Ce.call(x,T,q.cpu);return x};this.getDevice=function(){var x={};x[f]=e;x[a]=e;x[c]=e;Ce.call(x,T,q.device);return x};this.getEngine=function(){var x={};x[u]=e;x[v]=e;Ce.call(x,T,q.engine);return x};this.getOS=function(){var x={};x[u]=e;x[v]=e;Ce.call(x,T,q.os);return x};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return T};this.setUA=function(x){T=typeof x===p&&x.length>I?ut(x,I):x;return this};this.setUA(T);return this};Y.VERSION=r;Y.BROWSER=Ge([u,v,l]);Y.CPU=Ge([w]);Y.DEVICE=Ge([a,f,c,g,h,E,m,P,C]);Y.ENGINE=Y.OS=Ge([u,v]);if(typeof Be!==s){if(typeof ot!==s&&ot.exports){Be=ot.exports=Y}Be.UAParser=Y}else{if(typeof define===o&&define.amd){define(function(){return Y})}else if(typeof t!==s){t.UAParser=Y}}var Ie=typeof t!==s&&(t.jQuery||t.Zepto);if(Ie&&!Ie.ua){var Ke=new Y;Ie.ua=Ke.getResult();Ie.ua.get=function(){return Ke.getUA()};Ie.ua.set=function(S){Ke.setUA(S);var A=Ke.getResult();for(var T in A){Ie.ua[T]=A[T]}}}})(typeof window==="object"?window:Be)});var sr=\`api-key\`;var ur=\`p-key\`;var lt=\`preview-url\`;var dt=\`user-id\`;var cr="_b-uid";var lr=\`framework\`;var dr=\`platform\`;var fr=\`node\`;var pr="/~builder-dev-tools";var vr=\`kind\`;var hr="__DEV_TOOLS_URL__";var gr=(t,e,r)=>ft({type:"connectBuilder",data:{publicApiKey:t,privateAuthKey:e,kind:r}});var mr=()=>ft({type:"validateBuilder"});var yr=t=>ft({type:"launchEditor",data:t});var ft=async t=>{const e=new URL(pr,hr);let r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(n){console.error(\`Devtools Fetch Error, \${e.href}\`,n);throw new Error(\`Builder Devtools Fetch Error\`)}const i=r.headers.get("content-type")||"";if(i.includes("application/json")){const n=await r.json();if(r.ok){return n.data}if(Array.isArray(n.errors)&&n.errors.length>0){n.errors.forEach(o=>console.error(o));throw new Error(\`Builder Devtools Fetch Error: \${n.errors[0]}\`)}}throw new Error(\`Builder Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var pt=function(t,e){pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))r[n]=i[n]};return pt(t,e)};function te(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b=function(){b=Object.assign||function t(e){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return b.apply(this,arguments)};function Ue(t,e){var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0)r[i]=t[i];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++){if(e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n]))r[i[n]]=t[i[n]]}return r}function y(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function d(a){try{l(i.next(a))}catch(u){s(u)}}function p(a){try{l(i["throw"](a))}catch(u){s(u)}}function l(a){a.done?o(a.value):n(a.value).then(d,p)}l((i=i.apply(t,e||[])).next())})}function _(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return s.next=d(0),s["throw"]=d(1),s["return"]=d(2),typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(l){return function(a){return p([l,a])}}function p(l){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,l[0]&&(r=0)),r)try{if(i=1,n&&(o=l[0]&2?n["return"]:l[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;if(n=0,o)l=[l[0]&2,o.value];switch(l[0]){case 0:case 1:o=l;break;case 4:r.label++;return{value:l[1],done:false};case 5:r.label++;n=l[1];l=[0];continue;case 7:l=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1];o=l;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(l);break}if(o[2])r.ops.pop();r.trys.pop();continue}l=e.call(t,r)}catch(a){l=[6,a];n=0}finally{i=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}}function Z(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&i>=t.length)t=void 0;return{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function D(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,o=[],s;try{while((e===void 0||e-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(d){s={error:d}}finally{try{if(n&&!n.done&&(r=i["return"]))r.call(i)}finally{if(s)throw s.error}}return o}function J(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,o;i<n;i++){if(o||!(i in e)){if(!o)o=Array.prototype.slice.call(e,0,i);o[i]=e[i]}}return t.concat(o||Array.prototype.slice.call(e))}var j;(function(t){t["SET"]="$set";t["SET_ONCE"]="$setOnce";t["ADD"]="$add";t["APPEND"]="$append";t["PREPEND"]="$prepend";t["REMOVE"]="$remove";t["PREINSERT"]="$preInsert";t["POSTINSERT"]="$postInsert";t["UNSET"]="$unset";t["CLEAR_ALL"]="$clearAll"})(j||(j={}));var re;(function(t){t["REVENUE_PRODUCT_ID"]="$productId";t["REVENUE_QUANTITY"]="$quantity";t["REVENUE_PRICE"]="$price";t["REVENUE_TYPE"]="$revenueType";t["REVENUE_CURRENCY"]="$currency";t["REVENUE"]="$revenue"})(re||(re={}));var se;(function(t){t["IDENTIFY"]="$identify";t["GROUP_IDENTIFY"]="$groupidentify";t["REVENUE"]="revenue_amount"})(se||(se={}));var Q;(function(t){t[t["None"]=0]="None";t[t["Error"]=1]="Error";t[t["Warn"]=2]="Warn";t[t["Verbose"]=3]="Verbose";t[t["Debug"]=4]="Debug"})(Q||(Q={}));var N;(function(t){t["BEFORE"]="before";t["ENRICHMENT"]="enrichment";t["DESTINATION"]="destination"})(N||(N={}));var Se;(function(t){t["US"]="US";t["EU"]="EU";t["STAGING"]="STAGING"})(Se||(Se={}));var M;(function(t){t["Unknown"]="unknown";t["Skipped"]="skipped";t["Success"]="success";t["RateLimit"]="rate_limit";t["PayloadTooLarge"]="payload_too_large";t["Invalid"]="invalid";t["Failed"]="failed";t["Timeout"]="Timeout";t["SystemError"]="SystemError"})(M||(M={}));var Te;(function(t){t["XHR"]="xhr";t["SendBeacon"]="beacon";t["Fetch"]="fetch"})(Te||(Te={}));var vt="-";var he="AMP";var ht="".concat(he,"_unsent");var gt="https://api2.amplitude.com/2/httpapi";var _r="https://api.eu.amplitude.com/2/httpapi";var br="https://api2.amplitude.com/batch";var wr="https://api.eu.amplitude.com/batch";var Ai=1e3;var We=function(t){if(Object.keys(t).length>Ai){return false}for(var e in t){var r=t[e];if(!mt(e,r))return false}return true};var mt=function(t,e){var r,i;if(typeof t!=="string")return false;if(Array.isArray(e)){var n=true;try{for(var o=Z(e),s=o.next();!s.done;s=o.next()){var d=s.value;if(Array.isArray(d)){return false}else if(typeof d==="object"){n=n&&We(d)}else if(!["number","string"].includes(typeof d)){return false}if(!n){return false}}}catch(p){r={error:p}}finally{try{if(s&&!s.done&&(i=o.return))i.call(o)}finally{if(r)throw r.error}}}else if(e===null||e===void 0){return false}else if(typeof e==="object"){return We(e)}else if(!["number","string","boolean"].includes(typeof e)){return false}return true};var ue=(function(){function t(){this._propertySet=new Set;this._properties={}}t.prototype.getUserProperties=function(){return b({},this._properties)};t.prototype.set=function(e,r){this._safeSet(j.SET,e,r);return this};t.prototype.setOnce=function(e,r){this._safeSet(j.SET_ONCE,e,r);return this};t.prototype.append=function(e,r){this._safeSet(j.APPEND,e,r);return this};t.prototype.prepend=function(e,r){this._safeSet(j.PREPEND,e,r);return this};t.prototype.postInsert=function(e,r){this._safeSet(j.POSTINSERT,e,r);return this};t.prototype.preInsert=function(e,r){this._safeSet(j.PREINSERT,e,r);return this};t.prototype.remove=function(e,r){this._safeSet(j.REMOVE,e,r);return this};t.prototype.add=function(e,r){this._safeSet(j.ADD,e,r);return this};t.prototype.unset=function(e){this._safeSet(j.UNSET,e,vt);return this};t.prototype.clearAll=function(){this._properties={};this._properties[j.CLEAR_ALL]=vt;return this};t.prototype._safeSet=function(e,r,i){if(this._validate(e,r,i)){var n=this._properties[e];if(n===void 0){n={};this._properties[e]=n}n[r]=i;this._propertySet.add(r);return true}return false};t.prototype._validate=function(e,r,i){if(this._properties[j.CLEAR_ALL]!==void 0){return false}if(this._propertySet.has(r)){return false}if(e===j.ADD){return typeof i==="number"}if(e!==j.UNSET&&e!==j.REMOVE){return mt(r,i)}return true};return t})();var Er=function(t,e,r){var i=typeof t==="string"?{event_type:t}:t;return b(b(b({},i),r),e&&{event_properties:e})};var Le=function(t,e){var r=b(b({},e),{event_type:se.IDENTIFY,user_properties:t.getUserProperties()});return r};var Ir=function(t,e,r,i){var n;var o=b(b({},i),{event_type:se.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(n={},n[t]=e,n)});return o};var Sr=function(t,e,r){var i;var n=new ue;n.set(t,e);var o=b(b({},r),{event_type:se.IDENTIFY,user_properties:n.getUserProperties(),groups:(i={},i[t]=e,i)});return o};var Tr=function(t,e){return b(b({},e),{event_type:se.REVENUE,event_properties:t.getEventProperties()})};var ce=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=M.Unknown}return{event:t,code:e,message:r}};var xr=(function(){function t(e){this.client=e;this.queue=[];this.applying=false;this.plugins=[]}t.prototype.register=function(e,r){return y(this,void 0,void 0,function(){return _(this,function(i){switch(i.label){case 0:return[4,e.setup(r,this.client)];case 1:i.sent();this.plugins.push(e);return[2]}})})};t.prototype.deregister=function(e,r){var i;return y(this,void 0,void 0,function(){var n,o;return _(this,function(s){switch(s.label){case 0:n=this.plugins.findIndex(function(d){return d.name===e});if(n===-1){r.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration"));return[2]}o=this.plugins[n];this.plugins.splice(n,1);return[4,(i=o.teardown)===null||i===void 0?void 0:i.call(o)];case 1:s.sent();return[2]}})})};t.prototype.reset=function(e){this.applying=false;var r=this.plugins;r.map(function(i){var n;return(n=i.teardown)===null||n===void 0?void 0:n.call(i)});this.plugins=[];this.client=e};t.prototype.push=function(e){var r=this;return new Promise(function(i){r.queue.push([e,i]);r.scheduleApply(0)})};t.prototype.scheduleApply=function(e){var r=this;if(this.applying)return;this.applying=true;setTimeout(function(){void r.apply(r.queue.shift()).then(function(){r.applying=false;if(r.queue.length>0){r.scheduleApply(0)}})},e)};t.prototype.apply=function(e){return y(this,void 0,void 0,function(){var r,i,n,o,s,d,p,f,v,l,a,u,c,f,v,w,g,h;var m,E,P,C;return _(this,function(I){switch(I.label){case 0:if(!e){return[2]}r=D(e,1),i=r[0];n=D(e,2),o=n[1];s=this.plugins.filter(function(O){return O.type===N.BEFORE});I.label=1;case 1:I.trys.push([1,6,7,8]);d=Z(s),p=d.next();I.label=2;case 2:if(!!p.done)return[3,5];f=p.value;return[4,f.execute(b({},i))];case 3:v=I.sent();if(v===null){o({event:i,code:0,message:""});return[2]}else{i=v}I.label=4;case 4:p=d.next();return[3,2];case 5:return[3,8];case 6:l=I.sent();m={error:l};return[3,8];case 7:try{if(p&&!p.done&&(E=d.return))E.call(d)}finally{if(m)throw m.error}return[7];case 8:a=this.plugins.filter(function(O){return O.type===N.ENRICHMENT});I.label=9;case 9:I.trys.push([9,14,15,16]);u=Z(a),c=u.next();I.label=10;case 10:if(!!c.done)return[3,13];f=c.value;return[4,f.execute(b({},i))];case 11:v=I.sent();if(v===null){o({event:i,code:0,message:""});return[2]}else{i=v}I.label=12;case 12:c=u.next();return[3,10];case 13:return[3,16];case 14:w=I.sent();P={error:w};return[3,16];case 15:try{if(c&&!c.done&&(C=u.return))C.call(u)}finally{if(P)throw P.error}return[7];case 16:g=this.plugins.filter(function(O){return O.type===N.DESTINATION});h=g.map(function(O){var k=b({},i);return O.execute(k).catch(function(K){return ce(k,0,String(K))})});void Promise.all(h).then(function(O){var k=D(O,1),K=k[0];o(K)});return[2]}})})};t.prototype.flush=function(){return y(this,void 0,void 0,function(){var e,r,i;var n=this;return _(this,function(o){switch(o.label){case 0:e=this.queue;this.queue=[];return[4,Promise.all(e.map(function(s){return n.apply(s)}))];case 1:o.sent();r=this.plugins.filter(function(s){return s.type===N.DESTINATION});i=r.map(function(s){return s.flush&&s.flush()});return[4,Promise.all(i)];case 2:o.sent();return[2]}})})};return t})();var Pr="Event tracked successfully";var Rr="Unexpected error occurred";var Or="Event rejected due to exceeded retry count";var kr="Event skipped due to optOut config";var Ar="Event rejected due to missing API key";var Cr="Invalid API key";var Dr="Client not initialized";var X=function(t){return{promise:t||Promise.resolve()}};var yt=(function(){function t(e){if(e===void 0){e="$default"}this.initializing=false;this.q=[];this.dispatchQ=[];this.logEvent=this.track.bind(this);this.timeline=new xr(this);this.name=e}t.prototype._init=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:this.config=e;this.timeline.reset(this);return[4,this.runQueuedFunctions("q")];case 1:r.sent();return[2]}})})};t.prototype.runQueuedFunctions=function(e){return y(this,void 0,void 0,function(){var r,i,n,o,s;var d,p;return _(this,function(l){switch(l.label){case 0:r=this[e];this[e]=[];l.label=1;case 1:l.trys.push([1,6,7,8]);i=Z(r),n=i.next();l.label=2;case 2:if(!!n.done)return[3,5];o=n.value;return[4,o()];case 3:l.sent();l.label=4;case 4:n=i.next();return[3,2];case 5:return[3,8];case 6:s=l.sent();d={error:s};return[3,8];case 7:try{if(n&&!n.done&&(p=i.return))p.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2]}})})};t.prototype.track=function(e,r,i){var n=Er(e,r,i);return X(this.dispatch(n))};t.prototype.identify=function(e,r){var i=Le(e,r);return X(this.dispatch(i))};t.prototype.groupIdentify=function(e,r,i,n){var o=Ir(e,r,i,n);return X(this.dispatch(o))};t.prototype.setGroup=function(e,r,i){var n=Sr(e,r,i);return X(this.dispatch(n))};t.prototype.revenue=function(e,r){var i=Tr(e,r);return X(this.dispatch(i))};t.prototype.add=function(e){if(!this.config){this.q.push(this.add.bind(this,e));return X()}return X(this.timeline.register(e,this.config))};t.prototype.remove=function(e){if(!this.config){this.q.push(this.remove.bind(this,e));return X()}return X(this.timeline.deregister(e,this.config))};t.prototype.dispatchWithCallback=function(e,r){if(!this.config){return r(ce(e,0,Dr))}void this.process(e).then(r)};t.prototype.dispatch=function(e){return y(this,void 0,void 0,function(){var r=this;return _(this,function(i){if(!this.config){return[2,new Promise(function(n){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,n))})]}return[2,this.process(e)]})})};t.prototype.process=function(e){return y(this,void 0,void 0,function(){var n,r,i,n;return _(this,function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);if(this.config.optOut){return[2,ce(e,0,kr)]}return[4,this.timeline.push(e)];case 1:n=o.sent();n.code===200?this.config.loggerProvider.log(n.message):this.config.loggerProvider.error(n.message);return[2,n];case 2:r=o.sent();this.config.loggerProvider.error(r);i=String(r);n=ce(e,0,i);return[2,n];case 3:return[2]}})})};t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,Boolean(e)));return}this.config.optOut=Boolean(e)};t.prototype.flush=function(){return X(this.timeline.flush())};return t})();var _t=(function(){function t(){this.productId="";this.quantity=1;this.price=0}t.prototype.setProductId=function(e){this.productId=e;return this};t.prototype.setQuantity=function(e){if(e>0){this.quantity=e}return this};t.prototype.setPrice=function(e){this.price=e;return this};t.prototype.setRevenueType=function(e){this.revenueType=e;return this};t.prototype.setCurrency=function(e){this.currency=e;return this};t.prototype.setRevenue=function(e){this.revenue=e;return this};t.prototype.setEventProperties=function(e){if(We(e)){this.properties=e}return this};t.prototype.getEventProperties=function(){var e=this.properties?b({},this.properties):{};e[re.REVENUE_PRODUCT_ID]=this.productId;e[re.REVENUE_QUANTITY]=this.quantity;e[re.REVENUE_PRICE]=this.price;e[re.REVENUE_TYPE]=this.revenueType;e[re.REVENUE_CURRENCY]=this.currency;e[re.REVENUE]=this.revenue;return e};return t})();var Ur=function(t,e){var r=Math.max(e,1);return t.reduce(function(i,n,o){var s=Math.floor(o/r);if(!i[s]){i[s]=[]}i[s].push(n);return i},[])};var Qe="Amplitude Logger ";var Lr=(function(){function t(){this.logLevel=Q.None}t.prototype.disable=function(){this.logLevel=Q.None};t.prototype.enable=function(e){if(e===void 0){e=Q.Warn}this.logLevel=e};t.prototype.log=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Verbose){return}console.log("".concat(Qe,"[Log]: ").concat(e.join(" ")))};t.prototype.warn=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Warn){return}console.warn("".concat(Qe,"[Warn]: ").concat(e.join(" ")))};t.prototype.error=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Error){return}console.error("".concat(Qe,"[Error]: ").concat(e.join(" ")))};t.prototype.debug=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Debug){return}console.log("".concat(Qe,"[Debug]: ").concat(e.join(" ")))};return t})();var ze=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Q.Warn,loggerProvider:new Lr,optOut:false,serverUrl:gt,serverZone:Se.US,useBatch:false}};var bt=(function(){function t(e){var r,i,n,o;this._optOut=false;var s=ze();this.apiKey=e.apiKey;this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis;this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries;this.flushQueueSize=e.flushQueueSize||s.flushQueueSize;this.instanceName=e.instanceName||s.instanceName;this.loggerProvider=e.loggerProvider||s.loggerProvider;this.logLevel=(i=e.logLevel)!==null&&i!==void 0?i:s.logLevel;this.minIdLength=e.minIdLength;this.plan=e.plan;this.ingestionMetadata=e.ingestionMetadata;this.optOut=(n=e.optOut)!==null&&n!==void 0?n:s.optOut;this.serverUrl=e.serverUrl;this.serverZone=e.serverZone||s.serverZone;this.storageProvider=e.storageProvider;this.transportProvider=e.transportProvider;this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch;this.loggerProvider.enable(this.logLevel);var d=wt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=d.serverZone;this.serverUrl=d.serverUrl}Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:false,configurable:true});return t})();var Ci=function(t,e){if(t===Se.EU){return e?wr:_r}return e?br:gt};var wt=function(t,e,r){if(t===void 0){t=""}if(e===void 0){e=ze().serverZone}if(r===void 0){r=ze().useBatch}if(t){return{serverUrl:t,serverZone:void 0}}var i=["US","EU"].includes(e)?e:ze().serverZone;return{serverZone:i,serverUrl:Ci(i,r)}};function Di(t){if(t instanceof Error)return t.message;return String(t)}function $e(t){var e="";try{if("body"in t){e=JSON.stringify(t.body)}}catch(r){}return e}var Et=(function(){function t(){this.name="amplitude";this.type=N.DESTINATION;this.retryTimeout=1e3;this.throttleTimeout=3e4;this.storageKey="";this.scheduled=null;this.queue=[]}t.prototype.setup=function(e){var r;return y(this,void 0,void 0,function(){var i;var n=this;return _(this,function(o){switch(o.label){case 0:this.config=e;this.storageKey="".concat(ht,"_").concat(this.config.apiKey.substring(0,10));return[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:i=o.sent();this.saveEvents();if(i&&i.length>0){void Promise.all(i.map(function(s){return n.execute(s)})).catch()}return[2,Promise.resolve(void 0)]}})})};t.prototype.execute=function(e){var r=this;return new Promise(function(i){var n={event:e,attempts:0,callback:function(o){return i(o)},timeout:0};void r.addToQueue(n)})};t.prototype.addToQueue=function(){var e=this;var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}var n=r.filter(function(o){if(o.attempts<e.config.flushMaxRetries){o.attempts+=1;return true}void e.fulfillRequest([o],500,Or);return false});n.forEach(function(o){e.queue=e.queue.concat(o);if(o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0;e.schedule(0)},o.timeout)});this.saveEvents()};t.prototype.schedule=function(e){var r=this;if(this.scheduled)return;this.scheduled=setTimeout(function(){void r.flush(true).then(function(){if(r.queue.length>0){r.schedule(e)}})},e)};t.prototype.flush=function(e){if(e===void 0){e=false}return y(this,void 0,void 0,function(){var r,i,n;var o=this;return _(this,function(s){switch(s.label){case 0:r=[];i=[];this.queue.forEach(function(d){return d.timeout===0?r.push(d):i.push(d)});this.queue=i;if(this.scheduled){clearTimeout(this.scheduled);this.scheduled=null}n=Ur(r,this.config.flushQueueSize);return[4,Promise.all(n.map(function(d){return o.send(d,e)}))];case 1:s.sent();return[2]}})})};t.prototype.send=function(e,r){if(r===void 0){r=true}return y(this,void 0,void 0,function(){var i,n,o,s,d;return _(this,function(p){switch(p.label){case 0:if(!this.config.apiKey){return[2,this.fulfillRequest(e,400,Ar)]}i={api_key:this.config.apiKey,events:e.map(function(l){var a=l.event,u=a.extra,c=Ue(a,["extra"]);return c}),options:{min_id_length:this.config.minIdLength}};p.label=1;case 1:p.trys.push([1,3,,4]);n=wt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl;return[4,this.config.transportProvider.send(n,i)];case 2:o=p.sent();if(o===null){this.fulfillRequest(e,0,Rr);return[2]}if(!r){if("body"in o){this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat($e(o)))}else{this.fulfillRequest(e,o.statusCode,o.status)}return[2]}this.handleResponse(o,e);return[3,4];case 3:s=p.sent();this.config.loggerProvider.error(s);d=Di(s);this.fulfillRequest(e,0,d);return[3,4];case 4:return[2]}})})};t.prototype.handleResponse=function(e,r){var i=e.status;switch(i){case M.Success:{this.handleSuccessResponse(e,r);break}case M.Invalid:{this.handleInvalidResponse(e,r);break}case M.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case M.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(i,"' provided for ").concat(r.length,' events"}'));this.handleOtherResponse(r);break}}};t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,Pr)};t.prototype.handleInvalidResponse=function(e,r){var i=this;if(e.body.missingField||e.body.error.startsWith(Cr)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var n=J(J(J(J([],D(Object.values(e.body.eventsWithInvalidFields)),false),D(Object.values(e.body.eventsWithMissingFields)),false),D(Object.values(e.body.eventsWithInvalidIdLengths)),false),D(e.body.silencedEvents),false).flat();var o=new Set(n);var s=r.filter(function(d,p){if(o.has(p)){i.fulfillRequest([d],e.statusCode,e.body.error);return}return true});if(s.length>0){this.config.loggerProvider.warn($e(e))}this.addToQueue.apply(this,J([],D(s),false))};t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn($e(e));this.config.flushQueueSize/=2;this.addToQueue.apply(this,J([],D(r),false))};t.prototype.handleRateLimitResponse=function(e,r){var i=this;var n=Object.keys(e.body.exceededDailyQuotaUsers);var o=Object.keys(e.body.exceededDailyQuotaDevices);var s=e.body.throttledEvents;var d=new Set(n);var p=new Set(o);var l=new Set(s);var a=r.filter(function(u,c){if(u.event.user_id&&d.has(u.event.user_id)||u.event.device_id&&p.has(u.event.device_id)){i.fulfillRequest([u],e.statusCode,e.body.error);return}if(l.has(c)){u.timeout=i.throttleTimeout}return true});if(a.length>0){this.config.loggerProvider.warn($e(e))}this.addToQueue.apply(this,J([],D(a),false))};t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,J([],D(e.map(function(i){i.timeout=i.attempts*r.retryTimeout;return i})),false))};t.prototype.fulfillRequest=function(e,r,i){this.saveEvents();e.forEach(function(n){return n.callback(ce(n.event,r,i))})};t.prototype.saveEvents=function(){if(!this.config.storageProvider){return}var e=Array.from(this.queue.map(function(r){return r.event}));void this.config.storageProvider.set(this.storageKey,e)};return t})();var Ui=function(t){if(t===void 0){t=0}var e=new Error().stack||"";return e.split("\\n").slice(2+t).map(function(r){return r.trim()})};var V=function(t){return function(){var e=b({},t.config),r=e.loggerProvider,i=e.logLevel;return{logger:r,logLevel:i}}};var Li=function(t,e){var r,i;e=e.replace(/\\[(\\w+)\\]/g,".$1");e=e.replace(/^\\./,"");try{for(var n=Z(e.split(".")),o=n.next();!o.done;o=n.next()){var s=o.value;if(s in t){t=t[s]}else{return}}}catch(d){r={error:d}}finally{try{if(o&&!o.done&&(i=n.return))i.call(n)}finally{if(r)throw r.error}}return t};var F=function(t,e){return function(){var r,i;var n={};try{for(var o=Z(e),s=o.next();!s.done;s=o.next()){var d=s.value;n[d]=Li(t,d)}}catch(p){r={error:p}}finally{try{if(s&&!s.done&&(i=o.return))i.call(o)}finally{if(r)throw r.error}}return n}};var B=function(t,e,r,i,n){if(n===void 0){n=null}return function(){var o=[];for(var s=0;s<arguments.length;s++){o[s]=arguments[s]}var d=r(),p=d.logger,l=d.logLevel;if(l&&l<Q.Debug||!l||!p){return t.apply(n,o)}var a={type:"invoke public method",name:e,args:o,stacktrace:Ui(1),time:{start:new Date().toISOString()},states:{}};if(i&&a.states){a.states.before=i()}var u=t.apply(n,o);if(u&&u.promise){u.promise.then(function(){if(i&&a.states){a.states.after=i()}if(a.time){a.time.end=new Date().toISOString()}p.debug(JSON.stringify(a,null,2))})}else{if(i&&a.states){a.states.after=i()}if(a.time){a.time.end=new Date().toISOString()}p.debug(JSON.stringify(a,null,2))}return u}};var le=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,le)};var Xe=(function(){function t(){this.memoryStorage=new Map}t.prototype.isEnabled=function(){return y(this,void 0,void 0,function(){return _(this,function(e){return[2,true]})})};t.prototype.get=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){return[2,this.memoryStorage.get(e)]})})};t.prototype.getRaw=function(e){return y(this,void 0,void 0,function(){var r;return _(this,function(i){switch(i.label){case 0:return[4,this.get(e)];case 1:r=i.sent();return[2,r?JSON.stringify(r):void 0]}})})};t.prototype.set=function(e,r){return y(this,void 0,void 0,function(){return _(this,function(i){this.memoryStorage.set(e,r);return[2]})})};t.prototype.remove=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){this.memoryStorage.delete(e);return[2]})})};t.prototype.reset=function(){return y(this,void 0,void 0,function(){return _(this,function(e){this.memoryStorage.clear();return[2]})})};return t})();var ge=(function(){function t(){}t.prototype.send=function(e,r){return Promise.resolve(null)};t.prototype.buildResponse=function(e){var r,i,n,o,s,d,p,l,a,u,c,f,v,w,g,h,m,E,P,C,I,O;if(typeof e!=="object"){return null}var k=e.code||0;var K=this.buildStatus(k);switch(K){case M.Success:return{status:K,statusCode:k,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(i=e.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(n=e.server_upload_time)!==null&&n!==void 0?n:0}};case M.Invalid:return{status:K,statusCode:k,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(d=e.events_with_invalid_fields)!==null&&d!==void 0?d:{},eventsWithMissingFields:(p=e.events_with_missing_fields)!==null&&p!==void 0?p:{},eventsWithInvalidIdLengths:(l=e.events_with_invalid_id_lengths)!==null&&l!==void 0?l:{},epsThreshold:(a=e.eps_threshold)!==null&&a!==void 0?a:0,exceededDailyQuotaDevices:(u=e.exceeded_daily_quota_devices)!==null&&u!==void 0?u:{},silencedDevices:(c=e.silenced_devices)!==null&&c!==void 0?c:[],silencedEvents:(f=e.silenced_events)!==null&&f!==void 0?f:[],throttledDevices:(v=e.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(w=e.throttled_events)!==null&&w!==void 0?w:[]}};case M.PayloadTooLarge:return{status:K,statusCode:k,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case M.RateLimit:return{status:K,statusCode:k,body:{error:(h=e.error)!==null&&h!==void 0?h:"",epsThreshold:(m=e.eps_threshold)!==null&&m!==void 0?m:0,throttledDevices:(E=e.throttled_devices)!==null&&E!==void 0?E:{},throttledUsers:(P=e.throttled_users)!==null&&P!==void 0?P:{},exceededDailyQuotaDevices:(C=e.exceeded_daily_quota_devices)!==null&&C!==void 0?C:{},exceededDailyQuotaUsers:(I=e.exceeded_daily_quota_users)!==null&&I!==void 0?I:{},throttledEvents:(O=e.throttled_events)!==null&&O!==void 0?O:[]}};case M.Timeout:default:return{status:K,statusCode:k}}};t.prototype.buildStatus=function(e){if(e>=200&&e<300){return M.Success}if(e===429){return M.RateLimit}if(e===413){return M.PayloadTooLarge}if(e===408){return M.Timeout}if(e>=400&&e<500){return M.Invalid}if(e>=500){return M.Failed}return M.Unknown};return t})();var Ni=(function(){function t(){}t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Mi(),platform:"Web",os:void 0,deviceModel:void 0}};return t})();var Mi=function(){return typeof navigator!=="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""};var Vi=(function(){function t(){this.queue=[]}t.prototype.logEvent=function(e){if(!this.receiver){if(this.queue.length<512){this.queue.push(e)}}else{this.receiver(e)}};t.prototype.setEventReceiver=function(e){this.receiver=e;if(this.queue.length>0){this.queue.forEach(function(r){e(r)});this.queue=[]}};return t})();var de=function(){de=Object.assign||function t(e){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return de.apply(this,arguments)};function Ye(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&i>=t.length)t=void 0;return{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,o=[],s;try{while((e===void 0||e-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(d){s={error:d}}finally{try{if(n&&!n.done&&(r=i["return"]))r.call(i)}finally{if(s)throw s.error}}return o}var Ze=function(t,e){var r,i;var n=["string","number","boolean","undefined"];var o=typeof t;var s=typeof e;if(o!==s){return false}try{for(var d=Ye(n),p=d.next();!p.done;p=d.next()){var l=p.value;if(l===o){return t===e}}}catch(g){r={error:g}}finally{try{if(p&&!p.done&&(i=d.return))i.call(d)}finally{if(r)throw r.error}}if(t==null&&e==null){return true}else if(t==null||e==null){return false}if(t.length!==e.length){return false}var a=Array.isArray(t);var u=Array.isArray(e);if(a!==u){return false}if(a&&u){for(var c=0;c<t.length;c++){if(!Ze(t[c],e[c])){return false}}}else{var f=Object.keys(t).sort();var v=Object.keys(e).sort();if(!Ze(f,v)){return false}var w=true;Object.keys(t).forEach(function(g){if(!Ze(t[g],e[g])){w=false}});return w}return true};var Fi="$set";var Bi="$unset";var qi="$clearAll";if(!Object.entries){Object.entries=function(t){var e=Object.keys(t);var r=e.length;var i=new Array(r);while(r--){i[r]=[e[r],t[e[r]]]}return i}}var ji=(function(){function t(){this.identity={userProperties:{}};this.listeners=new Set}t.prototype.editIdentity=function(){var e=this;var r=de({},this.identity.userProperties);var i=de(de({},this.identity),{userProperties:r});return{setUserId:function(n){i.userId=n;return this},setDeviceId:function(n){i.deviceId=n;return this},setUserProperties:function(n){i.userProperties=n;return this},setOptOut:function(n){i.optOut=n;return this},updateUserProperties:function(n){var o,s,d,p,l,a;var u=i.userProperties||{};try{for(var c=Ye(Object.entries(n)),f=c.next();!f.done;f=c.next()){var v=Nr(f.value,2),w=v[0],g=v[1];switch(w){case Fi:try{for(var h=(d=void 0,Ye(Object.entries(g))),m=h.next();!m.done;m=h.next()){var E=Nr(m.value,2),P=E[0],C=E[1];u[P]=C}}catch(k){d={error:k}}finally{try{if(m&&!m.done&&(p=h.return))p.call(h)}finally{if(d)throw d.error}}break;case Bi:try{for(var I=(l=void 0,Ye(Object.keys(g))),O=I.next();!O.done;O=I.next()){var P=O.value;delete u[P]}}catch(k){l={error:k}}finally{try{if(O&&!O.done&&(a=I.return))a.call(I)}finally{if(l)throw l.error}}break;case qi:u={};break}}}catch(k){o={error:k}}finally{try{if(f&&!f.done&&(s=c.return))s.call(c)}finally{if(o)throw o.error}}i.userProperties=u;return this},commit:function(){e.setIdentity(i);return this}}};t.prototype.getIdentity=function(){return de({},this.identity)};t.prototype.setIdentity=function(e){var r=de({},this.identity);this.identity=de({},e);if(!Ze(r,this.identity)){this.listeners.forEach(function(i){i(e)})}};t.prototype.addIdentityListener=function(e){this.listeners.add(e)};t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)};return t})();var Ne=typeof globalThis!=="undefined"?globalThis:typeof global!=="undefined"?global:self;var Mr=(function(){function t(){this.identityStore=new ji;this.eventBridge=new Vi;this.applicationContextProvider=new Ni}t.getInstance=function(e){if(!Ne["analyticsConnectorInstances"]){Ne["analyticsConnectorInstances"]={}}if(!Ne["analyticsConnectorInstances"][e]){Ne["analyticsConnectorInstances"][e]=new t}return Ne["analyticsConnectorInstances"][e]};return t})();var ne=function(t){if(t===void 0){t="$default_instance"}return Mr.getInstance(t)};var It=function(t,e){ne(e).identityStore.editIdentity().setUserId(t).commit()};var St=function(t,e){ne(e).identityStore.editIdentity().setDeviceId(t).commit()};var Tt=function(t,e){ne(e).identityStore.editIdentity().setOptOut(t).commit()};var W=function(){if(typeof globalThis!=="undefined"){return globalThis}if(typeof window!=="undefined"){return window}if(typeof self!=="undefined"){return self}if(typeof global!=="undefined"){return global}return void 0};var xe=function(){var t;var e=W();if(!((t=e===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.search)){return{}}var r=e.location.search.substring(1).split("&").filter(Boolean);var i=r.reduce(function(n,o){var s=o.split("=",2);var d=Vr(s[0]);var p=Vr(s[1]);if(!p){return n}n[d]=p;return n},{});return i};var Vr=function(t){if(t===void 0){t=""}try{return decodeURIComponent(t)}catch(e){return""}};var Fr="utm_campaign";var Br="utm_content";var qr="utm_id";var jr="utm_medium";var Gr="utm_source";var Kr="utm_term";var xt="dclid";var Pt="fbclid";var Rt="gbraid";var Ot="gclid";var kt="ko_click_id";var At="li_fat_id";var Ct="msclkid";var Dt="rtd_cid";var Ut="ttclid";var Lt="twclid";var Nt="wbraid";var me={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var Me=(function(){function t(){}t.prototype.parse=function(){return y(this,void 0,void 0,function(){return _(this,function(e){return[2,b(b(b(b({},me),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})};t.prototype.getUtmParam=function(){var e=xe();var r=e[Fr];var i=e[Br];var n=e[qr];var o=e[jr];var s=e[Gr];var d=e[Kr];return{utm_campaign:r,utm_content:i,utm_id:n,utm_medium:o,utm_source:s,utm_term:d}};t.prototype.getReferrer=function(){var e,r;var i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0;i.referring_domain=(r=(e=i.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch(n){}return i};t.prototype.getClickIds=function(){var e;var r=xe();return e={},e[xt]=r[xt],e[Pt]=r[Pt],e[Rt]=r[Rt],e[Ot]=r[Ot],e[kt]=r[kt],e[At]=r[At],e[Ct]=r[Ct],e[Dt]=r[Dt],e[Ut]=r[Ut],e[Lt]=r[Lt],e[Nt]=r[Nt],e};return t})();var Ve=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[he,e,t.substring(0,r)].filter(Boolean).join("_")};var Mt=function(t){return"".concat(he.toLowerCase(),"_").concat(t.substring(0,6))};var Vt=function(t){if(typeof t==="boolean"){return t}if(t===null||t===void 0?void 0:t.fileDownloads){return true}return false};var Ft=function(t){if(typeof t==="boolean"){return t}if(t===null||t===void 0?void 0:t.formInteractions){return true}return false};var Hr=function(t){if(typeof t==="boolean"){return t}if((t===null||t===void 0?void 0:t.pageViews)===true||(t===null||t===void 0?void 0:t.pageViews)&&typeof t.pageViews==="object"){return true}return false};var Bt=function(t){if(typeof t==="boolean"){return t}if(t===null||t===void 0?void 0:t.sessions){return true}return false};var qt=function(t){var e;var r=((e=t.attribution)===null||e===void 0?void 0:e.trackPageViews)?"attribution":function(){return false};var i=void 0;var n="Page View";var o=Hr(t.defaultTracking);if(o){r=void 0;n=void 0;if(t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews==="object"){if("trackOn"in t.defaultTracking.pageViews){r=t.defaultTracking.pageViews.trackOn}if("trackHistoryChanges"in t.defaultTracking.pageViews){i=t.defaultTracking.pageViews.trackHistoryChanges}if("eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType){n=t.defaultTracking.pageViews.eventType}}}return{trackOn:r,trackHistoryChanges:i,eventType:n}};var jt=function(){var t,e,r,i;if(typeof navigator==="undefined")return"";var n=navigator.userLanguage;return(i=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:n)!==null&&i!==void 0?i:""};var Gt=(function(){function t(){this.name="identity";this.type=N.BEFORE;this.identityStore=ne().identityStore}t.prototype.execute=function(e){return y(this,void 0,void 0,function(){var r;return _(this,function(i){r=e.user_properties;if(r){this.identityStore.editIdentity().updateUserProperties(r).commit()}return[2,e]})})};t.prototype.setup=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){if(e.instanceName){this.identityStore=ne(e.instanceName).identityStore}return[2]})})};return t})();var Fe=(function(){function t(e){this.options=b({},e)}t.prototype.isEnabled=function(){return y(this,void 0,void 0,function(){var e,r,i,n;return _(this,function(o){switch(o.label){case 0:if(!W()){return[2,false]}t.testValue=String(Date.now());e=new t(this.options);r="AMP_TEST";o.label=1;case 1:o.trys.push([1,4,5,7]);return[4,e.set(r,t.testValue)];case 2:o.sent();return[4,e.get(r)];case 3:i=o.sent();return[2,i===t.testValue];case 4:n=o.sent();return[2,false];case 5:return[4,e.remove(r)];case 6:o.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return y(this,void 0,void 0,function(){var r;return _(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:r=i.sent();if(!r){return[2,void 0]}try{try{r=decodeURIComponent(atob(r))}catch(n){}return[2,JSON.parse(r)]}catch(n){return[2,void 0]}return[2]}})})};t.prototype.getRaw=function(e){var r;return y(this,void 0,void 0,function(){var i,n,o;return _(this,function(s){i=W();n=(r=i===null||i===void 0?void 0:i.document.cookie.split("; "))!==null&&r!==void 0?r:[];o=n.find(function(d){return d.indexOf(e+"=")===0});if(!o){return[2,void 0]}return[2,o.substring(e.length+1)]})})};t.prototype.set=function(e,r){var i;return y(this,void 0,void 0,function(){var n,o,s,d,p,l;return _(this,function(a){try{n=(i=this.options.expirationDays)!==null&&i!==void 0?i:0;o=r!==null?n:-1;s=void 0;if(o){d=new Date;d.setTime(d.getTime()+o*24*60*60*1e3);s=d}p="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r))));if(s){p+="; expires=".concat(s.toUTCString())}p+="; path=/";if(this.options.domain){p+="; domain=".concat(this.options.domain)}if(this.options.secure){p+="; Secure"}if(this.options.sameSite){p+="; SameSite=".concat(this.options.sameSite)}l=W();if(l){l.document.cookie=p}}catch(u){}return[2]})})};t.prototype.remove=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:r.sent();return[2]}})})};t.prototype.reset=function(){return y(this,void 0,void 0,function(){return _(this,function(e){return[2]})})};return t})();var Kt=(function(t){te(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,i){return y(this,void 0,void 0,function(){var n,o,s;return _(this,function(d){switch(d.label){case 0:if(typeof fetch==="undefined"){throw new Error("FetchTransport is not supported")}n={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(i),method:"POST"};return[4,fetch(r,n)];case 1:o=d.sent();return[4,o.text()];case 2:s=d.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch(p){return[2,this.buildResponse({code:o.status})]}return[2]}})})};return e})(ge);var Wr=function(t){var e={};for(var r in t){var i=t[r];if(i){e[r]=i}}return e};var Ht=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r;var i={};var n=W();var o=void 0;var s;var d=D(t,2),p=d[0],l=d[1];if(p&&"init"in p){r=p;if(l){i=l}}else if(p){i=p}var a=function(){return y(void 0,void 0,void 0,function(){var g;var h;var m;return _(this,function(E){switch(E.label){case 0:h={event_type:(m=i.eventType)!==null&&m!==void 0?m:"Page View"};g=[{}];return[4,Gi()];case 1:return[2,(h.event_properties=b.apply(void 0,[b.apply(void 0,g.concat([E.sent()])),{page_domain:typeof location!=="undefined"&&location.hostname||"",page_location:typeof location!=="undefined"&&location.href||"",page_path:typeof location!=="undefined"&&location.pathname||"",page_title:typeof document!=="undefined"&&document.title||"",page_url:typeof location!=="undefined"&&location.href.split("?")[0]||""}]),h)]}})})};var u=function(){return typeof i.trackOn==="undefined"||typeof i.trackOn==="function"&&i.trackOn()};var c=typeof location!=="undefined"?location.href:null;var f=function(){return y(void 0,void 0,void 0,function(){var g,h,m,E,P;return _(this,function(C){switch(C.label){case 0:g=location.href;h=Hi(i.trackHistoryChanges,g,c||"")&&u();c=g;if(!h)return[3,4];o===null||o===void 0?void 0:o.log("Tracking page view event");if(!(r===null||r===void 0))return[3,1];m=void 0;return[3,3];case 1:P=(E=r).track;return[4,a()];case 2:m=P.apply(E,[C.sent()]);C.label=3;case 3:m;C.label=4;case 4:return[2]}})})};var v=function(){void f()};var w={name:"page-view-tracking",type:N.ENRICHMENT,setup:function(g,h){return y(void 0,void 0,void 0,function(){var m,E,P;var C,I;return _(this,function(O){switch(O.label){case 0:r=r!==null&&r!==void 0?r:h;if(!r){m=p?"Options":"undefined";g.loggerProvider.error("Argument of type '".concat(m,"' is not assignable to parameter of type 'BrowserClient'."));return[2]}o=g.loggerProvider;o.log("Installing @amplitude/plugin-page-view-tracking-browser");i.trackOn=((C=g.attribution)===null||C===void 0?void 0:C.trackPageViews)?"attribution":i.trackOn;if(!h&&((I=g.attribution)===null||I===void 0?void 0:I.trackPageViews)){o.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser.");g.attribution.trackPageViews=false}if(i.trackHistoryChanges&&n){n.addEventListener("popstate",v);s=n.history.pushState;n.history.pushState=new Proxy(n.history.pushState,{apply:function(k,K,z){var $=D(z,3),R=$[0],_e=$[1],ie=$[2];k.apply(K,[R,_e,ie]);void f()}})}if(!u())return[3,2];o.log("Tracking page view event");P=(E=r).track;return[4,a()];case 1:P.apply(E,[O.sent()]);O.label=2;case 2:return[2]}})})},execute:function(g){return y(void 0,void 0,void 0,function(){var h;return _(this,function(m){switch(m.label){case 0:if(!(i.trackOn==="attribution"&&Ki(g)))return[3,2];o===null||o===void 0?void 0:o.log("Enriching campaign event to page view event with campaign parameters");return[4,a()];case 1:h=m.sent();g.event_type=h.event_type;g.event_properties=b(b({},g.event_properties),h.event_properties);m.label=2;case 2:return[2,g]}})})},teardown:function(){return y(void 0,void 0,void 0,function(){return _(this,function(g){if(n){n.removeEventListener("popstate",v);if(s){n.history.pushState=s}}return[2]})})}};w.__trackHistoryPageView=f;return w};var Gi=function(){return y(void 0,void 0,void 0,function(){var t;return _(this,function(e){switch(e.label){case 0:t=Wr;return[4,new Me().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})};var Ki=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties;var r=e[j.SET]||{};var i=e[j.UNSET]||{};var n=J(J([],D(Object.keys(r)),false),D(Object.keys(i)),false);return Object.keys(me).every(function(o){return n.includes(o)})}return false};var Hi=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var zr=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[he,e,t.substring(0,r)].filter(Boolean).join("_")};var Qr=function(t){var e=t.split(".");if(e.length<=2){return t}return e.slice(e.length-2,e.length).join(".")};var $r=function(t,e,r){var i;var n=t.referrer,o=t.referring_domain,s=Ue(t,["referrer","referring_domain"]);var d=e||{},p=d.referrer,l=d.referring_domain,a=Ue(d,["referrer","referring_domain"]);if(t.referring_domain&&((i=r.excludeReferrers)===null||i===void 0?void 0:i.includes(t.referring_domain))){return false}var u=JSON.stringify(s)!==JSON.stringify(a);var c=Qr(o||"")!==Qr(l||"");return!e||u||c};var Xr=function(t,e){var r=b(b({},me),t);var i=Object.entries(r).reduce(function(n,o){var s;var d=D(o,2),p=d[0],l=d[1];n.setOnce("initial_".concat(p),(s=l!==null&&l!==void 0?l:e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY");if(l){return n.set(p,l)}return n.unset(p)},new ue);return Le(i)};var Wt=function(){var t=this;var e;var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}var n;var o={};var s=D(r,2),d=s[0],p=s[1];if(d&&"init"in d){n=d;if(p){o=p}}else if(d){o=d}var l=(e=o.excludeReferrers)!==null&&e!==void 0?e:[];if(typeof location!=="undefined"){l.unshift(location.hostname)}o=b(b({disabled:false,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:false},o),{excludeReferrers:l});var a={name:"web-attribution",type:N.BEFORE,setup:function(u,c){var f;return y(this,void 0,void 0,function(){var v,w,g,h,m,E,P,C;return _(this,function(I){switch(I.label){case 0:n=n!==null&&n!==void 0?n:c;if(!n){v=d?"Options":"undefined";u.loggerProvider.error("Argument of type '".concat(v,"' is not assignable to parameter of type 'BrowserClient'."));return[2]}if(o.disabled){u.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked.");return[2]}u.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser.");if(!c&&!((f=u.attribution)===null||f===void 0?void 0:f.disabled)){u.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser.");u.attribution={disabled:true}}w=u.cookieStorage;g=zr(u.apiKey,"MKTG");return[4,Promise.all([new Me().parse(),w.get(g)])];case 1:h=D.apply(void 0,[I.sent(),2]),m=h[0],E=h[1];P=this.__pluginEnabledOverride;if(P!==null&&P!==void 0?P:$r(m,E,o)){if(o.resetSessionOnNewCampaign){n.setSessionId(Date.now());u.loggerProvider.log("Created a new session for new campaign.")}u.loggerProvider.log("Tracking attribution.");C=Xr(m,o);n.track(C);void w.set(g,m)}return[2]}})})},execute:function(u){return y(t,void 0,void 0,function(){return _(this,function(c){return[2,u]})})}};a.__pluginEnabledOverride=void 0;return a};var Je=1e3;var Qt=(function(){function t(e){this.loggerProvider=e===null||e===void 0?void 0:e.loggerProvider}t.prototype.isEnabled=function(){return y(this,void 0,void 0,function(){var e,r,i,n,o;return _(this,function(s){switch(s.label){case 0:if(!W()){return[2,false]}e=String(Date.now());r=new t;i="AMP_TEST";s.label=1;case 1:s.trys.push([1,4,5,7]);return[4,r.set(i,e)];case 2:s.sent();return[4,r.get(i)];case 3:n=s.sent();return[2,n===e];case 4:o=s.sent();return[2,false];case 5:return[4,r.remove(i)];case 6:s.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return y(this,void 0,void 0,function(){var r,i;return _(this,function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,this.getRaw(e)];case 1:r=n.sent();if(!r){return[2,void 0]}return[2,JSON.parse(r)];case 2:i=n.sent();return[2,void 0];case 3:return[2]}})})};t.prototype.getRaw=function(e){var r;return y(this,void 0,void 0,function(){return _(this,function(i){return[2,((r=W())===null||r===void 0?void 0:r.localStorage.getItem(e))||void 0]})})};t.prototype.set=function(e,r){var i,n;return y(this,void 0,void 0,function(){var o,s,d;return _(this,function(p){o=Array.isArray(r)&&r.length>Je;try{s=o?JSON.stringify(r.slice(0,Je)):JSON.stringify(r);(i=W())===null||i===void 0?void 0:i.localStorage.setItem(e,s)}catch(l){}if(o){d=r.length-Je;(n=this.loggerProvider)===null||n===void 0?void 0:n.error("Failed to save ".concat(d," events because the queue length exceeded ").concat(Je,"."))}return[2]})})};t.prototype.remove=function(e){var r;return y(this,void 0,void 0,function(){return _(this,function(i){try{(r=W())===null||r===void 0?void 0:r.localStorage.removeItem(e)}catch(n){}return[2]})})};t.prototype.reset=function(){var e;return y(this,void 0,void 0,function(){return _(this,function(r){try{(e=W())===null||e===void 0?void 0:e.localStorage.clear()}catch(i){}return[2]})})};return t})();var Yr=(function(t){te(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.state={done:4};return r}e.prototype.send=function(r,i){return y(this,void 0,void 0,function(){var n=this;return _(this,function(o){return[2,new Promise(function(s,d){if(typeof XMLHttpRequest==="undefined"){d(new Error("XHRTransport is not supported."))}var p=new XMLHttpRequest;p.open("POST",r,true);p.onreadystatechange=function(){if(p.readyState===n.state.done){try{var l=p.responseText;var a=JSON.parse(l);var u=n.buildResponse(a);s(u)}catch(c){d(c)}}};p.setRequestHeader("Content-Type","application/json");p.setRequestHeader("Accept","*/*");p.send(JSON.stringify(i))})]})})};return e})(ge);var Zr=(function(t){te(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,i){return y(this,void 0,void 0,function(){var n=this;return _(this,function(o){return[2,new Promise(function(s,d){var p=W();if(!(p===null||p===void 0?void 0:p.navigator.sendBeacon)){throw new Error("SendBeaconTransport is not supported")}try{var l=JSON.stringify(i);var a=p.navigator.sendBeacon(r,JSON.stringify(i));if(a){return s(n.buildResponse({code:200,events_ingested:i.events.length,payload_size_bytes:l.length,server_upload_time:Date.now()}))}return s(n.buildResponse({code:500}))}catch(u){d(u)}})]})})};return e})(ge);var Pe=function(){var t=new Xe;var e={deviceManufacturer:true,deviceModel:true,ipAddress:true,language:true,osName:true,osVersion:true,platform:true};return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:false,cookieStorage:t,cookieUpgrade:true,disableCookies:false,domain:"",sessionTimeout:30*60*1e3,trackingOptions:e,transportProvider:new Kt}};var Jr=(function(t){te(e,t);function e(r,i){var n=this;var o,s,d,p,l,a,u,c,f;var v=Pe();n=t.call(this,b(b({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:v.transportProvider},i),{apiKey:r}))||this;n._optOut=false;n.cookieStorage=(o=i===null||i===void 0?void 0:i.cookieStorage)!==null&&o!==void 0?o:v.cookieStorage;n.deviceId=i===null||i===void 0?void 0:i.deviceId;n.lastEventId=i===null||i===void 0?void 0:i.lastEventId;n.lastEventTime=i===null||i===void 0?void 0:i.lastEventTime;n.optOut=Boolean(i===null||i===void 0?void 0:i.optOut);n.sessionId=i===null||i===void 0?void 0:i.sessionId;n.userId=i===null||i===void 0?void 0:i.userId;n.appVersion=i===null||i===void 0?void 0:i.appVersion;n.attribution=i===null||i===void 0?void 0:i.attribution;n.cookieExpiration=(s=i===null||i===void 0?void 0:i.cookieExpiration)!==null&&s!==void 0?s:v.cookieExpiration;n.cookieSameSite=(d=i===null||i===void 0?void 0:i.cookieSameSite)!==null&&d!==void 0?d:v.cookieSameSite;n.cookieSecure=(p=i===null||i===void 0?void 0:i.cookieSecure)!==null&&p!==void 0?p:v.cookieSecure;n.cookieUpgrade=(l=i===null||i===void 0?void 0:i.cookieUpgrade)!==null&&l!==void 0?l:v.cookieUpgrade;n.defaultTracking=i===null||i===void 0?void 0:i.defaultTracking;n.disableCookies=(a=i===null||i===void 0?void 0:i.disableCookies)!==null&&a!==void 0?a:v.disableCookies;n.defaultTracking=i===null||i===void 0?void 0:i.defaultTracking;n.domain=(u=i===null||i===void 0?void 0:i.domain)!==null&&u!==void 0?u:v.domain;n.partnerId=i===null||i===void 0?void 0:i.partnerId;n.sessionTimeout=(c=i===null||i===void 0?void 0:i.sessionTimeout)!==null&&c!==void 0?c:v.sessionTimeout;n.trackingOptions=(f=i===null||i===void 0?void 0:i.trackingOptions)!==null&&f!==void 0?f:v.trackingOptions;return n}Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){if(this._deviceId!==r){this._deviceId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){if(this._userId!==r){this._userId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){if(this._sessionId!==r){this._sessionId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){if(this._optOut!==r){this._optOut=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){if(this._lastEventTime!==r){this._lastEventTime=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){if(this._lastEventId!==r){this._lastEventId=r;this.updateStorage()}},enumerable:false,configurable:true});e.prototype.updateStorage=function(){var r;var i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};void((r=this.cookieStorage)===null||r===void 0?void 0:r.set(Ve(this.apiKey),i))};return e})(bt);var ei=function(t,e){return y(void 0,void 0,void 0,function(){var r,i,n,o,s,d,p,l,a,u,c,f;var v;var w,g;return _(this,function(h){switch(h.label){case 0:r=Pe();i=(w=e===null||e===void 0?void 0:e.deviceId)!==null&&w!==void 0?w:le();n=e===null||e===void 0?void 0:e.lastEventId;o=e===null||e===void 0?void 0:e.lastEventTime;s=e===null||e===void 0?void 0:e.optOut;d=e===null||e===void 0?void 0:e.sessionId;p=e===null||e===void 0?void 0:e.userId;l=e===null||e===void 0?void 0:e.cookieStorage;a=e===null||e===void 0?void 0:e.domain;u=Jr.bind;c=[void 0,t];f=[b({},e)];v={cookieStorage:l,deviceId:i,domain:a,lastEventId:n,lastEventTime:o,optOut:s,sessionId:d};return[4,Qi(e)];case 1:return[2,new(u.apply(Jr,c.concat([b.apply(void 0,f.concat([(v.storageProvider=h.sent(),v.trackingOptions=b(b({},r.trackingOptions),e===null||e===void 0?void 0:e.trackingOptions),v.transportProvider=(g=e===null||e===void 0?void 0:e.transportProvider)!==null&&g!==void 0?g:zt(e===null||e===void 0?void 0:e.transport),v.userId=p,v)]))])))]}})})};var et=function(t,e){if(e===void 0){e=Pe()}return y(void 0,void 0,void 0,function(){var r,i,n;return _(this,function(o){switch(o.label){case 0:r=b(b({},e),t);i=t===null||t===void 0?void 0:t.cookieStorage;n=!i;if(n)return[3,2];return[4,i.isEnabled()];case 1:n=!o.sent();o.label=2;case 2:if(n){return[2,Wi(r)]}return[2,i]}})})};var Wi=function(t){return y(void 0,void 0,void 0,function(){var e,r;return _(this,function(i){switch(i.label){case 0:e=new Fe({domain:t.domain,expirationDays:t.cookieExpiration,sameSite:t.cookieSameSite,secure:t.cookieSecure});r=t.disableCookies;if(r)return[3,2];return[4,e.isEnabled()];case 1:r=!i.sent();i.label=2;case 2:if(!r)return[3,4];e=new Qt;return[4,e.isEnabled()];case 3:if(!i.sent()){e=new Xe}i.label=4;case 4:return[2,e]}})})};var Qi=function(t){return y(void 0,void 0,void 0,function(){var e,r,i,n,o,s,d;var p,l;return _(this,function(a){switch(a.label){case 0:e=t&&Object.prototype.hasOwnProperty.call(t,"storageProvider");r=t&&t.loggerProvider;if(!(!e||t.storageProvider))return[3,9];a.label=1;case 1:a.trys.push([1,7,8,9]);i=Z([t===null||t===void 0?void 0:t.storageProvider,new Qt({loggerProvider:r})]),n=i.next();a.label=2;case 2:if(!!n.done)return[3,6];o=n.value;s=o;if(!s)return[3,4];return[4,o.isEnabled()];case 3:s=a.sent();a.label=4;case 4:if(s){return[2,o]}a.label=5;case 5:n=i.next();return[3,2];case 6:return[3,9];case 7:d=a.sent();p={error:d};return[3,9];case 8:try{if(n&&!n.done&&(l=i.return))l.call(i)}finally{if(p)throw p.error}return[7];case 9:return[2,void 0]}})})};var zt=function(t){if(t===Te.XHR){return new Yr}if(t===Te.SendBeacon){return new Zr}return Pe().transportProvider};var ti=function(t){return y(void 0,void 0,void 0,function(){var e,r,i,n,o,o,s,d,p,l;return _(this,function(a){switch(a.label){case 0:return[4,new Fe().isEnabled()];case 1:if(!a.sent()||!t&&typeof location==="undefined"){return[2,""]}e=t!==null&&t!==void 0?t:location.hostname;r=e.split(".");i=[];n="AMP_TLDTEST";for(o=r.length-2;o>=0;--o){i.push(r.slice(o).join("."))}o=0;a.label=2;case 2:if(!(o<i.length))return[3,7];s=i[o];d={domain:"."+s};p=new Fe(d);return[4,p.set(n,1)];case 3:a.sent();return[4,p.get(n)];case 4:l=a.sent();if(!l)return[3,6];return[4,p.remove(n)];case 5:a.sent();return[2,"."+s];case 6:o++;return[3,2];case 7:return[2,""]}})})};var H="[Amplitude]";var tt="".concat(H," Page Viewed");var $t="".concat(H," Form Started");var ri="".concat(H," Form Submitted");var ii="".concat(H," File Downloaded");var Xt="session_start";var Yt="session_end";var ni="".concat(H," File Extension");var oi="".concat(H," File Name");var ai="".concat(H," Link ID");var si="".concat(H," Link Text");var ui="".concat(H," Link URL");var rt="".concat(H," Form ID");var it="".concat(H," Form Name");var nt="".concat(H," Form Destination");var ci=function(t,e){return y(void 0,void 0,void 0,function(){var r,i,n,o,s,d,p,l,a,u;var c;return _(this,function(f){switch(f.label){case 0:return[4,et(e)];case 1:r=f.sent();i=Mt(t);return[4,r.getRaw(i)];case 2:n=f.sent();if(!n){return[2,{optOut:false}]}if(!((c=e.cookieUpgrade)!==null&&c!==void 0?c:Pe().cookieUpgrade))return[3,4];return[4,r.remove(i)];case 3:f.sent();f.label=4;case 4:o=D(n.split("."),6),s=o[0],d=o[1],p=o[2],l=o[3],a=o[4],u=o[5];return[2,{deviceId:s,userId:zi(d),sessionId:Zt(l),lastEventId:Zt(u),lastEventTime:Zt(a),optOut:Boolean(p)}]}})})};var Zt=function(t){var e=parseInt(t,32);if(isNaN(e)){return void 0}return e};var zi=function(t){if(!atob||!escape||!t){return void 0}try{return decodeURIComponent(escape(atob(t)))}catch(e){return void 0}};var fi=ki(li());var di="1.13.4";var $i="Web";var Xi="$remote";var pi=(function(){function t(){this.name="context";this.type=N.BEFORE;this.library="amplitude-ts/".concat(di);if(typeof navigator!=="undefined"){this.userAgent=navigator.userAgent}this.uaResult=new fi.default(this.userAgent).getResult()}t.prototype.setup=function(e){this.config=e;return Promise.resolve(void 0)};t.prototype.execute=function(e){var r,i;return y(this,void 0,void 0,function(){var n,o,s,d,p,l,a,u;return _(this,function(c){n=new Date().getTime();o=this.uaResult.browser.name;s=this.uaResult.browser.version;d=this.uaResult.device.model||this.uaResult.os.name;p=this.uaResult.device.vendor;l=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;a=(i=e.event_id)!==null&&i!==void 0?i:l+1;this.config.lastEventId=a;if(!e.time){this.config.lastEventTime=n}u=b(b(b(b(b(b(b(b(b(b(b(b({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:$i}),this.config.trackingOptions.osName&&{os_name:o}),this.config.trackingOptions.osVersion&&{os_version:s}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:p}),this.config.trackingOptions.deviceModel&&{device_model:d}),this.config.trackingOptions.language&&{language:jt()}),this.config.trackingOptions.ipAddress&&{ip:Xi}),{insert_id:le(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent});return[2,u]})})};return t})();var Yi={page_domain:"".concat(H," Page Domain"),page_location:"".concat(H," Page Location"),page_path:"".concat(H," Page Path"),page_title:"".concat(H," Page Title"),page_url:"".concat(H," Page URL")};var vi=function(){var t="@amplitude/plugin-default-page-view-event-enrichment-browser";var e=N.ENRICHMENT;var r=function(){return y(void 0,void 0,void 0,function(){return _(this,function(n){return[2,void 0]})})};var i=function(n){return y(void 0,void 0,void 0,function(){return _(this,function(o){if(n.event_type===tt&&n.event_properties){n.event_properties=Object.entries(n.event_properties).reduce(function(s,d){var p=D(d,2),l=p[0],a=p[1];var u=Yi[l];if(u){s[u]=a}else{s[l]=a}return s},{})}return[2,n]})})};return{name:t,type:e,setup:r,execute:i}};var hi=function(){var t;var e=[];var r=function(l,a,u){l.addEventListener(a,u);e.push({element:l,type:a,handler:u})};var i=function(){e.forEach(function(l){var a=l.element,u=l.type,c=l.handler;a===null||a===void 0?void 0:a.removeEventListener(u,c)});e=[]};var n="@amplitude/plugin-file-download-tracking-browser";var o=N.ENRICHMENT;var s=function(l,a){return y(void 0,void 0,void 0,function(){var u,c,f;return _(this,function(v){if(!a){l.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}u=function(w){var g;try{g=new URL(w.href,window.location.href)}catch(E){return}var h=c.exec(g.href);var m=h===null||h===void 0?void 0:h[1];if(m){r(w,"click",function(){var E;if(m){a.track(ii,(E={},E[ni]=m,E[oi]=g.pathname,E[ai]=w.id,E[si]=w.text,E[ui]=w.href,E))}})}};c=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;f=Array.from(document.getElementsByTagName("a"));f.forEach(u);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(w){w.forEach(function(g){g.addedNodes.forEach(function(h){if(h.nodeName==="A"){u(h)}if("querySelectorAll"in h&&typeof h.querySelectorAll==="function"){Array.from(h.querySelectorAll("a")).map(u)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var d=function(l){return y(void 0,void 0,void 0,function(){return _(this,function(a){return[2,l]})})};var p=function(){return y(void 0,void 0,void 0,function(){return _(this,function(l){t===null||t===void 0?void 0:t.disconnect();i();return[2]})})};return{name:n,type:o,setup:s,execute:d,teardown:p}};var gi=function(){var t;var e=[];var r=function(l,a,u){l.addEventListener(a,u);e.push({element:l,type:a,handler:u})};var i=function(){e.forEach(function(l){var a=l.element,u=l.type,c=l.handler;a===null||a===void 0?void 0:a.removeEventListener(u,c)});e=[]};var n="@amplitude/plugin-form-interaction-tracking-browser";var o=N.ENRICHMENT;var s=function(l,a){return y(void 0,void 0,void 0,function(){var u,c;return _(this,function(f){if(!a){l.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}u=function(v){var w=false;r(v,"change",function(){var g;if(!w){a.track($t,(g={},g[rt]=v.id,g[it]=v.name,g[nt]=v.action,g))}w=true});r(v,"submit",function(){var g,h;if(!w){a.track($t,(g={},g[rt]=v.id,g[it]=v.name,g[nt]=v.action,g))}a.track(ri,(h={},h[rt]=v.id,h[it]=v.name,h[nt]=v.action,h));w=false})};c=Array.from(document.getElementsByTagName("form"));c.forEach(u);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(v){v.forEach(function(w){w.addedNodes.forEach(function(g){if(g.nodeName==="FORM"){u(g)}if("querySelectorAll"in g&&typeof g.querySelectorAll==="function"){Array.from(g.querySelectorAll("form")).map(u)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var d=function(l){return y(void 0,void 0,void 0,function(){return _(this,function(a){return[2,l]})})};var p=function(){return y(void 0,void 0,void 0,function(){return _(this,function(l){t===null||t===void 0?void 0:t.disconnect();i();return[2]})})};return{name:n,type:o,setup:s,execute:d,teardown:p}};var at=function(t,e){for(var r=0;r<e.length;r++){var i=e[r],n=i.name,o=i.args,s=i.resolve;var d=t&&t[n];if(typeof d==="function"){var p=d.apply(t,o);if(typeof s==="function"){s(p===null||p===void 0?void 0:p.promise)}}}return t};var st=function(t){var e=t;return e&&e._q!==void 0};var mi=(function(t){te(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(r,i,n){if(r===void 0){r=""}return X(this._init(b(b({},n),{userId:i,apiKey:r})))};e.prototype._init=function(r){var i,n,o,s,d,p,l,a,u,c,f,v,w,g,h,m,E,P,C,I;return y(this,void 0,void 0,function(){var O,k,K,z,$,R,_e,ie,fe,Re,be,we,Oe,pe,ve,Ee,oe,ae;var ke=this;return _(this,function(L){switch(L.label){case 0:if(this.initializing){return[2]}this.initializing=true;O=r;if(!r.disableCookies)return[3,1];k="";return[3,5];case 1:if(!((i=r.domain)!==null&&i!==void 0))return[3,2];K=i;return[3,4];case 2:return[4,ti()];case 3:K=L.sent();L.label=4;case 4:k=K;L.label=5;case 5:O.domain=k;return[4,ci(r.apiKey,r)];case 6:z=L.sent();return[4,et(r)];case 7:$=L.sent();return[4,$.get(Ve(r.apiKey))];case 8:R=L.sent();_e=xe();ie=(s=(o=(n=r.deviceId)!==null&&n!==void 0?n:_e.deviceId)!==null&&o!==void 0?o:R===null||R===void 0?void 0:R.deviceId)!==null&&s!==void 0?s:z.deviceId;fe=(d=R===null||R===void 0?void 0:R.sessionId)!==null&&d!==void 0?d:z.sessionId;Re=(l=(p=r.optOut)!==null&&p!==void 0?p:R===null||R===void 0?void 0:R.optOut)!==null&&l!==void 0?l:z.optOut;be=(a=R===null||R===void 0?void 0:R.lastEventId)!==null&&a!==void 0?a:z.lastEventId;we=(u=R===null||R===void 0?void 0:R.lastEventTime)!==null&&u!==void 0?u:z.lastEventTime;Oe=(f=(c=r.userId)!==null&&c!==void 0?c:R===null||R===void 0?void 0:R.userId)!==null&&f!==void 0?f:z.userId;this.previousSessionDeviceId=(v=R===null||R===void 0?void 0:R.deviceId)!==null&&v!==void 0?v:z.deviceId;this.previousSessionUserId=(w=R===null||R===void 0?void 0:R.userId)!==null&&w!==void 0?w:z.userId;return[4,ei(r.apiKey,b(b({},r),{deviceId:ie,sessionId:fe,optOut:Re,lastEventId:be,lastEventTime:we,userId:Oe,cookieStorage:$}))];case 9:pe=L.sent();return[4,t.prototype._init.call(this,pe)];case 10:L.sent();ve=false;if(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout){this.setSessionId((h=(g=r.sessionId)!==null&&g!==void 0?g:this.config.sessionId)!==null&&h!==void 0?h:Date.now());ve=true}Ee=ne(r.instanceName);Ee.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId});return[4,this.add(new Et).promise];case 11:L.sent();return[4,this.add(new pi).promise];case 12:L.sent();return[4,this.add(new Gt).promise];case 13:L.sent();if(!Vt(this.config.defaultTracking))return[3,15];return[4,this.add(hi()).promise];case 14:L.sent();L.label=15;case 15:if(!Ft(this.config.defaultTracking))return[3,17];return[4,this.add(gi()).promise];case 16:L.sent();L.label=17;case 17:if(!!((m=this.config.attribution)===null||m===void 0?void 0:m.disabled))return[3,19];oe=Wt({excludeReferrers:(E=this.config.attribution)===null||E===void 0?void 0:E.excludeReferrers,initialEmptyValue:(P=this.config.attribution)===null||P===void 0?void 0:P.initialEmptyValue,resetSessionOnNewCampaign:(C=this.config.attribution)===null||C===void 0?void 0:C.resetSessionOnNewCampaign});oe.__pluginEnabledOverride=ve||((I=this.config.attribution)===null||I===void 0?void 0:I.trackNewCampaigns)?void 0:false;return[4,this.add(oe).promise];case 18:L.sent();L.label=19;case 19:ae=qt(this.config);ae.eventType=ae.eventType||tt;return[4,this.add(Ht(ae)).promise];case 20:L.sent();return[4,this.add(vi()).promise];case 21:L.sent();this.initializing=false;return[4,this.runQueuedFunctions("dispatchQ")];case 22:L.sent();Ee.eventBridge.setEventReceiver(function(je){void ke.track(je.eventType,je.eventProperties)});return[2]}})})};e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId};e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}if(r!==this.config.userId||r===void 0){this.config.userId=r;It(r,this.config.instanceName)}};e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId};e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r;St(r,this.config.instanceName)};e.prototype.setOptOut=function(r){Tt(r,this.config.instanceName);t.prototype.setOptOut.call(this,r)};e.prototype.reset=function(){this.setDeviceId(le());this.setUserId(void 0)};e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId};e.prototype.setSessionId=function(r){var i;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r===this.config.sessionId){return}var n=this.getSessionId();var o=this.config.lastEventTime;var s=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1;this.config.sessionId=r;this.config.lastEventTime=void 0;if(Bt(this.config.defaultTracking)){if(n&&o){this.track(Yt,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:n,time:o+1,user_id:this.previousSessionUserId})}this.config.lastEventTime=this.config.sessionId;this.track(Xt,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})}this.previousSessionDeviceId=this.config.deviceId;this.previousSessionUserId=this.config.userId};e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()};e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=zt(r)};e.prototype.identify=function(r,i){if(st(r)){var n=r._q;r._q=[];r=at(new ue,n)}if(i===null||i===void 0?void 0:i.user_id){this.setUserId(i.user_id)}if(i===null||i===void 0?void 0:i.device_id){this.setDeviceId(i.device_id)}return t.prototype.identify.call(this,r,i)};e.prototype.groupIdentify=function(r,i,n,o){if(st(n)){var s=n._q;n._q=[];n=at(new ue,s)}return t.prototype.groupIdentify.call(this,r,i,n,o)};e.prototype.revenue=function(r,i){if(st(r)){var n=r._q;r._q=[];r=at(new _t,n)}return t.prototype.revenue.call(this,r,i)};e.prototype.process=function(r){return y(this,void 0,void 0,function(){var i,n,o;return _(this,function(s){i=Date.now();n=this.config.lastEventTime||Date.now();o=i-n;if(r.event_type!==Xt&&r.event_type!==Yt&&(!r.session_id||r.session_id===this.getSessionId())&&o>this.config.sessionTimeout){this.setSessionId(i)}return[2,t.prototype.process.call(this,r)]})})};return e})(yt);var Zi=function(){var t=new mi;return{init:B(t.init.bind(t),"init",V(t),F(t,["config"])),add:B(t.add.bind(t),"add",V(t),F(t,["config.apiKey","timeline.plugins"])),remove:B(t.remove.bind(t),"remove",V(t),F(t,["config.apiKey","timeline.plugins"])),track:B(t.track.bind(t),"track",V(t),F(t,["config.apiKey","timeline.queue.length"])),logEvent:B(t.logEvent.bind(t),"logEvent",V(t),F(t,["config.apiKey","timeline.queue.length"])),identify:B(t.identify.bind(t),"identify",V(t),F(t,["config.apiKey","timeline.queue.length"])),groupIdentify:B(t.groupIdentify.bind(t),"groupIdentify",V(t),F(t,["config.apiKey","timeline.queue.length"])),setGroup:B(t.setGroup.bind(t),"setGroup",V(t),F(t,["config.apiKey","timeline.queue.length"])),revenue:B(t.revenue.bind(t),"revenue",V(t),F(t,["config.apiKey","timeline.queue.length"])),flush:B(t.flush.bind(t),"flush",V(t),F(t,["config.apiKey","timeline.queue.length"])),getUserId:B(t.getUserId.bind(t),"getUserId",V(t),F(t,["config","config.userId"])),setUserId:B(t.setUserId.bind(t),"setUserId",V(t),F(t,["config","config.userId"])),getDeviceId:B(t.getDeviceId.bind(t),"getDeviceId",V(t),F(t,["config","config.deviceId"])),setDeviceId:B(t.setDeviceId.bind(t),"setDeviceId",V(t),F(t,["config","config.deviceId"])),reset:B(t.reset.bind(t),"reset",V(t),F(t,["config","config.userId","config.deviceId"])),getSessionId:B(t.getSessionId.bind(t),"getSessionId",V(t),F(t,["config"])),setSessionId:B(t.setSessionId.bind(t),"setSessionId",V(t),F(t,["config"])),extendSession:B(t.extendSession.bind(t),"extendSession",V(t),F(t,["config"])),setOptOut:B(t.setOptOut.bind(t),"setOptOut",V(t),F(t,["config"])),setTransport:B(t.setTransport.bind(t),"setTransport",V(t),F(t,["config"]))}};var G=Zi();var zs=G.add;var $s=G.extendSession;var Xs=G.flush;var Ys=G.getDeviceId;var Zs=G.getSessionId;var Js=G.getUserId;var eu=G.groupIdentify;var tu=G.identify;var ru=G.init;var iu=G.logEvent;var nu=G.remove;var ou=G.reset;var au=G.revenue;var su=G.setDeviceId;var Jt=G.setGroup;var uu=G.setOptOut;var cu=G.setSessionId;var lu=G.setTransport;var du=G.setUserId;var ye=G.track;var er=(t,e)=>{setTimeout(()=>{const r=Array.from(document.querySelectorAll("section"));for(const i of r){i.setAttribute("aria-hidden",String(i.id!==t))}},e)};var yi=t=>{er("success",500);if(t){rn()}setTimeout(Ji,500)};var Ji=()=>{const t=document.getElementById("step-update-app");t.className="highlight completed";const e=document.getElementById("step-setup-complete");e.className="highlight active"};var qe=(t=[])=>{er("error",500);const e=document.getElementById("error-messages");e.innerHTML="";for(const r of t){const i=document.createElement("li");i.textContent=r;e.appendChild(i)}document.title=\`Error Connecting\`};var _i=()=>{er("restart-server",500);document.title=\`Restart Dev Server\`};var en=async()=>{const t=new URL(location.href);const e=t.searchParams.get(lt);const r=t.searchParams.get(sr);const i=t.searchParams.get(ur);const n=t.searchParams.get(dt);const o=t.searchParams.get(lr)||"unknown";const s=t.searchParams.get(dr);const d=t.searchParams.get(fr);const p=t.searchParams.get(vr)||null;try{console.info(\`framework: \${o}, platform: \${s}, node: \${d}\`);const l=new URL(location.pathname,location.origin);if(r){Jt("organization",r);Jt("space",r)}if(!e){window.history.replaceState({},"",l.href);qe(["Missing preview url"]);ye("integration failed",{url:l.href,message:"missing preview url",framework:o});return}l.searchParams.set(lt,e);l.searchParams.set(dt,n);window.history.replaceState({},"",l.href);if(r&&i){let a=0;const u=async()=>{a++;try{const c=await gr(r,i,p);if(c.success){const f=bi(e,c.pathname,n);ye("site integrated",{url:f,position:o});if(c.modifiedFiles.length>0){const v=document.getElementById("modified-files-list");c.modifiedFiles.forEach(g=>{const h=document.createElement("li");const m=document.createElement("a");m.textContent=g.displayFilePath||g.filePath;m.href=\`~launch#\${g.displayFilePath}\`;m.addEventListener("click",E=>{E.preventDefault();E.stopPropagation();yr({filePath:g.filePath})});h.appendChild(m);v.appendChild(h)});const w=document.getElementById("modified-files-message");w.removeAttribute("hidden")}if(p!=="vcp"&&(c.platform.os==="win32"||o==="@remix-run/react")){const v=document.getElementById("restart-warning");v.removeAttribute("hidden")}else if(p!=="vcp"&&(o==="react"||o==="@angular/core")){const v=document.getElementById("router-message");v.removeAttribute("hidden");if(o==="@angular/core"){ye("angular framework",{});const E=document.getElementById("angular-message-section");E?.removeAttribute("hidden")}if(o==="react"){ye("react framework",{});const E=document.getElementById("react-message-section");E?.removeAttribute("hidden")}const w=document.getElementById("router-checkbox-div");const g=document.createElement("input");g.type="checkbox";g.id="router-checkbox";const h=document.createElement("label");h.htmlFor="router-checkbox";h.textContent=\`I've updated my router files\`;w.appendChild(g);w.appendChild(h);const m=document.getElementById("router-finish-button");g.addEventListener("change",function(){if(g.checked){m.removeAttribute("hidden")}else{m.setAttribute("hidden","true")}})}else{const v=document.getElementById("go-to-app");v.removeAttribute("hidden");if(p!=="vcp"){const w=v.querySelector("p");if(w){w.removeAttribute("hidden")}const g=v.querySelector("#button-text");if(g){g.textContent="Go to your app"}}}setTimeout(()=>{yi(true)},500)}else{ye("integration failed",{path:c.pathname,message:"error connecting to Builder.io",position:o});qe([\`Error connecting to Builder.io\`])}}catch(c){const f=String(c.message||c);if(f.includes("Fetch Error")){if(a>3){_i()}setTimeout(u,1e3)}else{qe([f])}}};u()}else{const a=await mr();if(a.isValid){bi(e,a.pathname,n);const u=document.getElementById("go-to-app");u.removeAttribute("hidden");yi(false)}else{qe([\`Error connecting to Builder.io\`])}}}catch(l){ye("integration failed",{message:"uncaught error",details:String(l),position:JSON.stringify({framework:o,platform:s,nodeVersion:d})});console.error("integrationFailed",l);const a=String(l);if(a.includes("Fetch Error")){_i()}else{qe([a])}}};var bi=(t,e,r)=>{const i=new URL(e,t);if(r){i.hash=\`\${cr}=\${r}\`}const n=document.querySelectorAll(".next-step");for(const o of n){o.setAttribute("href",i.href)}console.debug("App Url",i.href);return i.href};var tn=()=>{return new Promise((t,e)=>{if(globalThis.confetti){return t(globalThis.confetti)}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js";r.onload=()=>t(globalThis.confetti);r.onerror=e;document.head.appendChild(r);r.remove()})};var rn=async()=>{const t={spread:360,ticks:50,gravity:0,decay:.95,startVelocity:30,colors:["19b4f4","a97ff2","fd6b3c","ffffff"]};const e=tn();const r=async()=>{const i=document.getElementById("button-icon");const n=i.getBoundingClientRect();const o=window.scrollX+n.left;const s=window.scrollY+n.top;const d={x:o/window.innerWidth,y:s/window.innerHeight};const p=await e;p({...t,origin:d,scalar:1.2});p({...t,origin:d,scalar:.75})};setTimeout(r,500);setTimeout(r,650);setTimeout(r,800);setTimeout(r,950)};en();})();
</script>
  </body>
</html>
`)}async function tg(e,t){let r=await Fh(e),n=e.getFrameworks();return t.replace(/__LOCAL_APP_ID__/g,r).replace(/__DEV_TOOLS_URL__/g,e.devToolsServerUrl).replace(/__CLIENT_ID__/g,e.getClientId()).replace(/__FRAMEWORK__/g,n.length?n[0].name:"")}var rg=require("node:os");async function ng(e,t){let r=new URL("/cli-auth","https://builder.io");r.searchParams.set("client_id",e.getClientId()),r.searchParams.set("host",await e.getDeviceId()),r.searchParams.set("response_type","code"),r.searchParams.set("cli","true");let n=new URL(qn,e.devToolsServerUrl);n.searchParams.set(xa,(0,rg.platform)()),n.searchParams.set(Sa,process.versions.node);let o=e.getFrameworks();return o.length>0&&(r.searchParams.set(bo,o[0].name),n.searchParams.set(bo,o[0].name)),r.searchParams.set("redirect_url",n.href),r.searchParams.set("preview_url",t),r.href}var KP=require("http");var WP=require("node:os"),Qt=require("node:path"),At=require("node:fs");var rr=H(Aa(),1),Na=require("node:process");var Gc=H(require("node:readline"),1),hg=require("node:stream");function FT({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var $T=FT();function gg(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace($T,"")}function yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dg={exports:{}};(function(e){var t={};e.exports=t,t.eastAsianWidth=function(n){var o=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,i=o;return 55296<=o&&o<=56319&&56320<=s&&s<=57343&&(o&=1023,s&=1023,i=o<<10|s,i+=65536),i==12288||65281<=i&&i<=65376||65504<=i&&i<=65510?"F":i==8361||65377<=i&&i<=65470||65474<=i&&i<=65479||65482<=i&&i<=65487||65490<=i&&i<=65495||65498<=i&&i<=65500||65512<=i&&i<=65518?"H":4352<=i&&i<=4447||4515<=i&&i<=4519||4602<=i&&i<=4607||9001<=i&&i<=9002||11904<=i&&i<=11929||11931<=i&&i<=12019||12032<=i&&i<=12245||12272<=i&&i<=12283||12289<=i&&i<=12350||12353<=i&&i<=12438||12441<=i&&i<=12543||12549<=i&&i<=12589||12593<=i&&i<=12686||12688<=i&&i<=12730||12736<=i&&i<=12771||12784<=i&&i<=12830||12832<=i&&i<=12871||12880<=i&&i<=13054||13056<=i&&i<=19903||19968<=i&&i<=42124||42128<=i&&i<=42182||43360<=i&&i<=43388||44032<=i&&i<=55203||55216<=i&&i<=55238||55243<=i&&i<=55291||63744<=i&&i<=64255||65040<=i&&i<=65049||65072<=i&&i<=65106||65108<=i&&i<=65126||65128<=i&&i<=65131||110592<=i&&i<=110593||127488<=i&&i<=127490||127504<=i&&i<=127546||127552<=i&&i<=127560||127568<=i&&i<=127569||131072<=i&&i<=194367||177984<=i&&i<=196605||196608<=i&&i<=262141?"W":32<=i&&i<=126||162<=i&&i<=163||165<=i&&i<=166||i==172||i==175||10214<=i&&i<=10221||10629<=i&&i<=10630?"Na":i==161||i==164||167<=i&&i<=168||i==170||173<=i&&i<=174||176<=i&&i<=180||182<=i&&i<=186||188<=i&&i<=191||i==198||i==208||215<=i&&i<=216||222<=i&&i<=225||i==230||232<=i&&i<=234||236<=i&&i<=237||i==240||242<=i&&i<=243||247<=i&&i<=250||i==252||i==254||i==257||i==273||i==275||i==283||294<=i&&i<=295||i==299||305<=i&&i<=307||i==312||319<=i&&i<=322||i==324||328<=i&&i<=331||i==333||338<=i&&i<=339||358<=i&&i<=359||i==363||i==462||i==464||i==466||i==468||i==470||i==472||i==474||i==476||i==593||i==609||i==708||i==711||713<=i&&i<=715||i==717||i==720||728<=i&&i<=731||i==733||i==735||768<=i&&i<=879||913<=i&&i<=929||931<=i&&i<=937||945<=i&&i<=961||963<=i&&i<=969||i==1025||1040<=i&&i<=1103||i==1105||i==8208||8211<=i&&i<=8214||8216<=i&&i<=8217||8220<=i&&i<=8221||8224<=i&&i<=8226||8228<=i&&i<=8231||i==8240||8242<=i&&i<=8243||i==8245||i==8251||i==8254||i==8308||i==8319||8321<=i&&i<=8324||i==8364||i==8451||i==8453||i==8457||i==8467||i==8470||8481<=i&&i<=8482||i==8486||i==8491||8531<=i&&i<=8532||8539<=i&&i<=8542||8544<=i&&i<=8555||8560<=i&&i<=8569||i==8585||8592<=i&&i<=8601||8632<=i&&i<=8633||i==8658||i==8660||i==8679||i==8704||8706<=i&&i<=8707||8711<=i&&i<=8712||i==8715||i==8719||i==8721||i==8725||i==8730||8733<=i&&i<=8736||i==8739||i==8741||8743<=i&&i<=8748||i==8750||8756<=i&&i<=8759||8764<=i&&i<=8765||i==8776||i==8780||i==8786||8800<=i&&i<=8801||8804<=i&&i<=8807||8810<=i&&i<=8811||8814<=i&&i<=8815||8834<=i&&i<=8835||8838<=i&&i<=8839||i==8853||i==8857||i==8869||i==8895||i==8978||9312<=i&&i<=9449||9451<=i&&i<=9547||9552<=i&&i<=9587||9600<=i&&i<=9615||9618<=i&&i<=9621||9632<=i&&i<=9633||9635<=i&&i<=9641||9650<=i&&i<=9651||9654<=i&&i<=9655||9660<=i&&i<=9661||9664<=i&&i<=9665||9670<=i&&i<=9672||i==9675||9678<=i&&i<=9681||9698<=i&&i<=9701||i==9711||9733<=i&&i<=9734||i==9737||9742<=i&&i<=9743||9748<=i&&i<=9749||i==9756||i==9758||i==9792||i==9794||9824<=i&&i<=9825||9827<=i&&i<=9829||9831<=i&&i<=9834||9836<=i&&i<=9837||i==9839||9886<=i&&i<=9887||9918<=i&&i<=9919||9924<=i&&i<=9933||9935<=i&&i<=9953||i==9955||9960<=i&&i<=9983||i==10045||i==10071||10102<=i&&i<=10111||11093<=i&&i<=11097||12872<=i&&i<=12879||57344<=i&&i<=63743||65024<=i&&i<=65039||i==65533||127232<=i&&i<=127242||127248<=i&&i<=127277||127280<=i&&i<=127337||127344<=i&&i<=127386||917760<=i&&i<=917999||983040<=i&&i<=1048573||1048576<=i&&i<=1114109?"A":"N"},t.characterLength=function(n){var o=this.eastAsianWidth(n);return o=="F"||o=="W"||o=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.length=function(n){for(var o=r(n),s=0,i=0;i<o.length;i++)s=s+this.characterLength(o[i]);return s},t.slice=function(n,o,s){textLen=t.length(n),o=o||0,s=s||1,o<0&&(o=textLen+o),s<0&&(s=textLen+s);for(var i="",a=0,u=r(n),c=0;c<u.length;c++){var l=u[c],p=t.length(l);if(a>=o-(p==2?1:0))if(a+p<=s)i+=l;else break;a+=p}return i}})(Dg);var kT=Dg.exports,IT=yg(kT),NT=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},OT=yg(NT);function Ni(e,t={}){if(typeof e!="string"||e.length===0||(t={ambiguousIsNarrow:!0,...t},e=gg(e),e.length===0))return 0;e=e.replace(OT(),"  ");let r=t.ambiguousIsNarrow?1:2,n=0;for(let o of e){let s=o.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(IT.eastAsianWidth(o)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var Hc=10,ag=(e=0)=>t=>`\x1B[${t+e}m`,ug=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,cg=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,Me={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Me.modifier);var MT=Object.keys(Me.color),LT=Object.keys(Me.bgColor);[...MT,...LT];function BT(){let e=new Map;for(let[t,r]of Object.entries(Me)){for(let[n,o]of Object.entries(r))Me[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=Me[n],e.set(o[0],o[1]);Object.defineProperty(Me,t,{value:r,enumerable:!1})}return Object.defineProperty(Me,"codes",{value:e,enumerable:!1}),Me.color.close="\x1B[39m",Me.bgColor.close="\x1B[49m",Me.color.ansi=ag(),Me.color.ansi256=ug(),Me.color.ansi16m=cg(),Me.bgColor.ansi=ag(Hc),Me.bgColor.ansi256=ug(Hc),Me.bgColor.ansi16m=cg(Hc),Object.defineProperties(Me,{rgbToAnsi256:{value:(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:t=>Me.rgbToAnsi256(...Me.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,o;if(t>=232)r=((t-232)*10+8)/255,n=r,o=r;else{t-=16;let a=t%36;r=Math.floor(t/36)/5,n=Math.floor(a/6)/5,o=a%6/5}let s=Math.max(r,n,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>Me.ansi256ToAnsi(Me.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>Me.ansi256ToAnsi(Me.hexToAnsi256(t)),enumerable:!1}}),Me}var zT=BT(),Oa=new Set(["\x1B","\x9B"]),jT=39,Wc="\x07",vg="[",UT="]",Cg="m",Zc=`${UT}8;;`,lg=e=>`${Oa.values().next().value}${vg}${e}${Cg}`,pg=e=>`${Oa.values().next().value}${Zc}${e}${Wc}`,VT=e=>e.split(" ").map(t=>Ni(t)),qc=(e,t,r)=>{let n=[...t],o=!1,s=!1,i=Ni(gg(e[e.length-1]));for(let[a,u]of n.entries()){let c=Ni(u);if(i+c<=r?e[e.length-1]+=u:(e.push(u),i=0),Oa.has(u)&&(o=!0,s=n.slice(a+1).join("").startsWith(Zc)),o){s?u===Wc&&(o=!1,s=!1):u===Cg&&(o=!1);continue}i+=c,i===r&&a<n.length-1&&(e.push(""),i=0)}!i&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},HT=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(Ni(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},qT=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return"";let n="",o,s,i=VT(e),a=[""];for(let[c,l]of e.split(" ").entries()){r.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let p=Ni(a[a.length-1]);if(c!==0&&(p>=t&&(r.wordWrap===!1||r.trim===!1)&&(a.push(""),p=0),(p>0||r.trim===!1)&&(a[a.length-1]+=" ",p++)),r.hard&&i[c]>t){let d=t-p,h=1+Math.floor((i[c]-d-1)/t);Math.floor((i[c]-1)/t)<h&&a.push(""),qc(a,l,t);continue}if(p+i[c]>t&&p>0&&i[c]>0){if(r.wordWrap===!1&&p<t){qc(a,l,t);continue}a.push("")}if(p+i[c]>t&&r.wordWrap===!1){qc(a,l,t);continue}a[a.length-1]+=l}r.trim!==!1&&(a=a.map(c=>HT(c)));let u=[...a.join(`
`)];for(let[c,l]of u.entries()){if(n+=l,Oa.has(l)){let{groups:d}=new RegExp(`(?:\\${vg}(?<code>\\d+)m|\\${Zc}(?<uri>.*)${Wc})`).exec(u.slice(c).join(""))||{groups:{}};if(d.code!==void 0){let h=Number.parseFloat(d.code);o=h===jT?void 0:h}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let p=zT.codes.get(Number(o));u[c+1]===`
`?(s&&(n+=pg("")),o&&p&&(n+=lg(p))):l===`
`&&(o&&p&&(n+=lg(o)),s&&(n+=pg(s)))}return n};function dg(e,t,r){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>qT(n,t,r)).join(`
`)}var GT=["up","down","left","right","space","enter","cancel"],ka={actions:new Set(GT),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["","cancel"],["escape","cancel"]])};function wg(e,t){if(typeof e=="string")return ka.aliases.get(e)===t;for(let r of e)if(r!==void 0&&wg(r,t))return!0;return!1}function KT(e,t){if(e===t)return;let r=e.split(`
`),n=t.split(`
`),o=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&o.push(s);return o}var f9=globalThis.process.platform.startsWith("win"),fg=Symbol("clack:cancel");function $a(e,t){let r=e;r.isTTY&&r.setRawMode(t)}var WT=Object.defineProperty,ZT=(e,t,r)=>t in e?WT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qt=(e,t,r)=>(ZT(e,typeof t!="symbol"?t+"":t,r),r),Kc=class{constructor(t,r=!0){qt(this,"input"),qt(this,"output"),qt(this,"_abortSignal"),qt(this,"rl"),qt(this,"opts"),qt(this,"_render"),qt(this,"_track",!1),qt(this,"_prevFrame",""),qt(this,"_subscribers",new Map),qt(this,"_cursor",0),qt(this,"state","initial"),qt(this,"error",""),qt(this,"value");let{input:n=Na.stdin,output:o=Na.stdout,render:s,signal:i,...a}=t;this.opts=a,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=s.bind(this),this._track=r,this._abortSignal=i,this.input=n,this.output=o}unsubscribe(){this._subscribers.clear()}setSubscriber(t,r){let n=this._subscribers.get(t)??[];n.push(r),this._subscribers.set(t,n)}on(t,r){this.setSubscriber(t,{cb:r})}once(t,r){this.setSubscriber(t,{cb:r,once:!0})}emit(t,...r){let n=this._subscribers.get(t)??[],o=[];for(let s of n)s.cb(...r),s.once&&o.push(()=>n.splice(n.indexOf(s),1));for(let s of o)s()}prompt(){return new Promise((t,r)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),t(fg);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let n=new hg.Writable;n._write=(o,s,i)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),i()},this.input.pipe(n),this.rl=Gc.default.createInterface({input:this.input,output:n,tabSize:2,prompt:"",escapeCodeTimeout:50,terminal:!0}),Gc.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),$a(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(rr.cursor.show),this.output.off("resize",this.render),$a(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(rr.cursor.show),this.output.off("resize",this.render),$a(this.input,!1),t(fg)})})}onKeypress(t,r){if(this.state==="error"&&(this.state="active"),r?.name&&(!this._track&&ka.aliases.has(r.name)&&this.emit("cursor",ka.aliases.get(r.name)),ka.actions.has(r.name)&&this.emit("cursor",r.name)),t&&(t.toLowerCase()==="y"||t.toLowerCase()==="n")&&this.emit("confirm",t.toLowerCase()==="y"),t==="	"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),t&&this.emit("key",t.toLowerCase()),r?.name==="return"){if(!this.value&&this.opts.placeholder&&(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder)),this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n instanceof Error?n.message:n,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}wg([t,r?.name,r?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),$a(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let t=dg(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(rr.cursor.move(-999,t*-1))}render(){let t=dg(this._render(this)??"",process.stdout.columns,{hard:!0});if(t!==this._prevFrame){if(this.state==="initial")this.output.write(rr.cursor.hide);else{let r=KT(this._prevFrame,t);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(rr.cursor.move(0,n)),this.output.write(rr.erase.lines(1));let o=t.split(`
`);this.output.write(o[n]),this._prevFrame=t,this.output.write(rr.cursor.move(0,o.length-n-1));return}if(r&&r?.length>1){let n=r[0];this.output.write(rr.cursor.move(0,n)),this.output.write(rr.erase.down());let o=t.split(`
`).slice(n);this.output.write(o.join(`
`)),this._prevFrame=t;return}this.output.write(rr.erase.down())}this.output.write(t),this.state==="initial"&&(this.state="active"),this._prevFrame=t}}};var JT;JT=new WeakMap;var YT=Object.defineProperty,QT=(e,t,r)=>t in e?YT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mg=(e,t,r)=>(QT(e,typeof t!="symbol"?t+"":t,r),r),Ia=class extends Kc{constructor(t){super(t,!1),mg(this,"options"),mg(this,"cursor",0),this.options=t.options,this.cursor=this.options.findIndex(({value:r})=>r===t.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var nr=H(require("node:process"),1),fe=H(Wn(),1),bg=H(Aa(),1);function XT(){return nr.default.platform!=="win32"?nr.default.env.TERM!=="linux":!!nr.default.env.CI||!!nr.default.env.WT_SESSION||!!nr.default.env.TERMINUS_SUBLIME||nr.default.env.ConEmuTask==="{cmd::Cmder}"||nr.default.env.TERM_PROGRAM==="Terminus-Sublime"||nr.default.env.TERM_PROGRAM==="vscode"||nr.default.env.TERM==="xterm-256color"||nr.default.env.TERM==="alacritty"||nr.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var eA=XT(),He=(e,t)=>eA?e:t,tA=He("\u25C6","*"),rA=He("\u25A0","x"),nA=He("\u25B2","x"),xg=He("\u25C7","o"),oA=He("\u250C","T"),vr=He("\u2502","|"),Sg=He("\u2514","\u2014"),iA=He("\u25CF",">"),sA=He("\u25CB"," "),S9=He("\u25FB","[\u2022]"),E9=He("\u25FC","[+]"),_9=He("\u25FB","[ ]"),P9=He("\u25AA","\u2022"),T9=He("\u2500","-"),A9=He("\u256E","+"),R9=He("\u251C","+"),F9=He("\u256F","+"),aA=He("\u25CF","\u2022"),uA=He("\u25C6","*"),cA=He("\u25B2","!"),lA=He("\u25A0","x"),pA=e=>{switch(e){case"initial":case"active":return fe.default.cyan(tA);case"cancel":return fe.default.red(rA);case"error":return fe.default.yellow(nA);case"submit":return fe.default.green(xg)}},dA=e=>{let{cursor:t,options:r,style:n}=e,o=e.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),i=Math.min(s,Math.max(o,5)),a=0;t>=a+i-3?a=Math.max(Math.min(t-i+3,r.length-i),0):t<a+2&&(a=Math.max(t-2,0));let u=i<r.length&&a>0,c=i<r.length&&a+i<r.length;return r.slice(a,a+i).map((l,p,d)=>{let h=p===0&&u,m=p===d.length-1&&c;return h||m?fe.default.dim("..."):n(l,p+a===t)})};var Oi=e=>{let t=(r,n)=>{let o=r.label??String(r.value);switch(n){case"selected":return`${fe.default.dim(o)}`;case"active":return`${fe.default.green(iA)} ${o} ${r.hint?fe.default.dim(`(${r.hint})`):""}`;case"cancelled":return`${fe.default.strikethrough(fe.default.dim(o))}`;default:return`${fe.default.dim(sA)} ${fe.default.dim(o)}`}};return new Ia({options:e.options,initialValue:e.initialValue,render(){let r=`${fe.default.gray(vr)}
${pA(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${r}${fe.default.gray(vr)}  ${t(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${fe.default.gray(vr)}  ${t(this.options[this.cursor],"cancelled")}
${fe.default.gray(vr)}`;default:return`${r}${fe.default.cyan(vr)}  ${dA({cursor:this.cursor,options:this.options,maxItems:e.maxItems,style:(n,o)=>t(n,o?"active":"inactive")}).join(`
${fe.default.cyan(vr)}  `)}
${fe.default.cyan(Sg)}
`}}}).prompt()};var En=(e="")=>{process.stdout.write(`${fe.default.gray(oA)}  ${e}
`)},Ma=(e="")=>{process.stdout.write(`${fe.default.gray(vr)}
${fe.default.gray(Sg)}  ${e}

`)},re={message:(e="",{symbol:t=fe.default.gray(vr)}={})=>{let r=[`${fe.default.gray(vr)}`];if(e){let[n,...o]=e.split(`
`);r.push(`${t}  ${n}`,...o.map(s=>`${fe.default.gray(vr)}  ${s}`))}process.stdout.write(`${r.join(`
`)}
`)},info:e=>{re.message(e,{symbol:fe.default.blue(aA)})},success:e=>{re.message(e,{symbol:fe.default.green(uA)})},step:e=>{re.message(e,{symbol:fe.default.green(xg)})},warn:e=>{re.message(e,{symbol:fe.default.yellow(cA)})},warning:e=>{re.warn(e)},error:e=>{re.message(e,{symbol:fe.default.red(lA)})}},$9=`${fe.default.gray(vr)}  `;var Vn=H(Wn(),1);var Z=H(require("typescript"),1);async function or(e){let t=Eg(e),r=await e.readFile(t);return typeof r=="string"?JSON.parse(r):{}}async function ir(e,t){t=typeof t=="object"&&t!=null?t:{};let r=Eg(e);await e.writeFile(r,JSON.stringify(t??{},null,2))}function Eg(e){let t=e.getAppRootDir();return e.join(t,"node_modules",".builder","builder-cache.json")}async function Ir(e,t,r){let n={envKey:r,envValue:null,file:""};for(let o of t){let s=e.join(e.getAppRootDir(),o),i=await fA(e,s);if(i){let a=i[r];if(typeof a=="string"&&a.length>0&&a!=="YOUR_API_KEY")return n.envValue=a,n.file=s,n}}return n.file=e.join(e.getAppRootDir(),t[t.length-1]),n}async function fA(e,t){let r=await e.readFile(t);return typeof r=="string"?_g(r):null}function _g(e){let t={},r=e.replace(/\r\n?/gm,`
`),n;for(;(n=mA.exec(r))!=null;){let o=n[1],s=n[2]||"";s=s.trim();let i=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),i==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),t[o]=s}return t}var mA=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;async function Nr(e,t,r,n){let o="# https://www.builder.io/c/docs/using-your-api-key",s=await e.readFile(t);try{if(s)if(s.includes(r))if(s.includes(n))e.debug(`"${r}" with "${n}" already set in ${t}`);else return e.debug(`Replace "${r}" in ${t}`),s=s.replace(new RegExp(`${r}=.*`),`${r}=${n}`),await e.writeFile(t,s),"update";else return e.debug(`Append "${r}" to ${t}`),s+=`

${o}
${r}=${n}

`,await e.writeFile(t,s),"update";else return e.debug(`Creating new .env file with "${r}" at ${t}`),s=[o,`${r}=${n}`,""].join(`
`),await e.writeFile(t,s),"create"}catch(i){if(i&&String(i).includes("EACCES"))return e.debug(`Permssion denied, failed to create or modify .env file with "${r}=${n}" at ${t}`),"permission-error";e.Sentry?.captureException(i)}return null}async function Mi(e){return await Ir(e,[".env.local",".env.development.local",".env.production.local",".env.development",".env.production",".env"],Or)}async function Pg(e,t){let r=await Mi(e),n=await Nr(e,r.file,r.envKey,t);return{...r,modifiedType:n}}var Or="NEXT_PUBLIC_BUILDER_API_KEY";function Ro(e,t,r,n,o=!0){let s=t.properties.filter(a=>e.ts.isPropertyAssignment(a)),i=hA(e,t,r);return i>-1?n==null&&o?e.ts.factory.updateObjectLiteralExpression(t,s.filter((a,u)=>u!==i)):(s[i]=e.ts.factory.updatePropertyAssignment(s[i],s[i].name,Li(e,n)),e.ts.factory.updateObjectLiteralExpression(t,s)):(n!=null&&s.push(e.ts.factory.createPropertyAssignment(r,Li(e,n))),e.ts.factory.updateObjectLiteralExpression(t,s))}function hA(e,t,r){return t.properties.findIndex(n=>ye(e,n)===r)}function Bi(e,t){switch(t.kind){case e.ts.SyntaxKind.ArrayLiteralExpression:return yA(e,t);case e.ts.SyntaxKind.ObjectLiteralExpression:return gA(e,t);case e.ts.SyntaxKind.StringLiteral:return t.text;case e.ts.SyntaxKind.NumericLiteral:return Number(t.text);case e.ts.SyntaxKind.NoSubstitutionTemplateLiteral:return t.text;case e.ts.SyntaxKind.TrueKeyword:return!0;case e.ts.SyntaxKind.FalseKeyword:return!1;case e.ts.SyntaxKind.Identifier:switch(t.escapedText){case"undefined":return;case"null":return null;case"String":return String;case"Number":return Number;case"Boolean":return Boolean;case"NaN":return NaN}}}function gA(e,t){let r={};if(t&&e.ts.isObjectLiteralExpression(t)){for(let n of t.properties)if(e.ts.isPropertyAssignment(n)){let o=ye(e,n);o&&(r[o]=Bi(e,n.initializer))}}return r}function yA(e,t){return t&&e.ts.isArrayLiteralExpression(t)?t.elements.map(r=>Bi(e,r)):[]}function ye(e,t){if(t&&e.ts.isPropertyAssignment(t)){let r=t.name;switch(r.kind){case e.ts.SyntaxKind.Identifier:return r.text;case e.ts.SyntaxKind.StringLiteral:case e.ts.SyntaxKind.NumericLiteral:return r.text;case e.ts.SyntaxKind.ComputedPropertyName:let n=r.expression;if(e.ts.isStringLiteral(n)||e.ts.isNumericLiteral(n))return r.expression.text}}}function Li(e,t){return Jc(e,t,new WeakSet)}function Jc(e,t,r){return t===void 0?e.ts.factory.createIdentifier("undefined"):t===null?e.ts.factory.createIdentifier("null"):typeof t=="string"?e.ts.factory.createStringLiteral(t):typeof t=="number"?isNaN(t)?e.ts.factory.createIdentifier("NaN"):e.ts.factory.createNumericLiteral(t):t===!0?e.ts.factory.createTrue():t===!1?e.ts.factory.createFalse():t===String?e.ts.factory.createIdentifier("String"):t===Number?e.ts.factory.createIdentifier("Number"):t===Boolean?e.ts.factory.createIdentifier("Boolean"):Array.isArray(t)?DA(e,t,r):typeof t=="object"?vA(e,t,r):e.ts.factory.createIdentifier(t)}function DA(e,t,r){let n=t.map(o=>Jc(e,o,r));return e.ts.factory.createArrayLiteralExpression(n,!0)}function vA(e,t,r){if(r.has(t))return e.ts.factory.createIdentifier("undefined");r.add(t);let n=Object.keys(t).map(o=>e.ts.factory.createPropertyAssignment(o,Jc(e,t[o],r)));return e.ts.factory.createObjectLiteralExpression(n,!0)}function Jn(e,t,r){let n=[];if(!r)return n;let o=null;if(e.ts.isArrowFunction(r)||e.ts.isFunctionExpression(r)||e.ts.isFunctionDeclaration(r)){let s=r.parameters;if(s.length>0){let i=s[0],a=t.getTypeAtLocation(i);a.aliasTypeArguments&&a.aliasTypeArguments.length>0&&(a=a.aliasTypeArguments[0]),!!(a.flags&e.ts.TypeFlags.Object)&&(o=a.getProperties())}}else if(e.ts.isIdentifier(r)){let s=t.getTypeAtLocation(r),i=s.symbol?.valueDeclaration;if(i&&e.ts.isClassDeclaration(i)){let u=i.heritageClauses?.find(c=>c.token===e.ts.SyntaxKind.ExtendsKeyword)?.types;if(u){for(let c of u)if(t.getSymbolAtLocation(c.expression)?.name==="Component"){if(e.ts.isExpressionWithTypeArguments(c)){let p=c.typeArguments;if(p){let d=p[0];o=t.getTypeFromTypeNode(d).getProperties()}}break}}}if(!o){let a=s.getCallSignatures();if(a.length>0){let u=a[0].getParameters();u.length>0&&(o=t.getTypeOfSymbolAtLocation(u[0],r).getProperties())}}}else if(e.ts.isExportSpecifier(r)){let s=t.getSymbolAtLocation(r.name);if(s){let a=t.getTypeOfSymbolAtLocation(s,r).getCallSignatures();if(a.length>0){let u=a[0].getParameters();u.length>0&&(o=t.getTypeOfSymbolAtLocation(u[0],r).getProperties())}}}if(o)for(let s of o){let i=CA(e,t,s);i&&n.push(i)}return n=n.filter(Ag),n.length>0?n:wA(e,r)}function CA(e,t,r){let n=r.valueDeclaration,o=r.getName();if(n||(n=r.getDeclarations()?.[0]),n&&e.ts.isPropertySignature(n)){if(o!=="children"&&n.getSourceFile().fileName.includes("node_modules/@types/"))return null;let s="string",i;if(n?.type){let u=t.getTypeFromTypeNode(n.type),c=t.typeToString(u),l=Yc(c);l.knownType?s=l.builderType:xA(c)||u.flags&e.ts.TypeFlags.StringLike?s="string":u.flags&e.ts.TypeFlags.NumberLike?s="number":u.flags&e.ts.TypeFlags.IndexedAccess?s="list":u.flags&e.ts.TypeFlags.Object||u.isUnion()&&u.types.every(p=>p.flags&e.ts.TypeFlags.Object)||u.isIntersection()&&u.types.some(p=>p.flags&e.ts.TypeFlags.Object)?s="object":s="string",c!==s&&(i=c)}let a={name:o,type:s,isRegistered:!1};if(i&&n.type){let u=PA(e,t,t.getTypeFromTypeNode(n.type));a.meta=a.meta||{},u&&u.length>0&&a.type==="string"&&u.every(EA)?a.enum=u.map(_A):a.meta.ts=i}return n.questionToken||(a.required=!0),a}return null}function wA(e,t){let r=[],n=e.ts.getJSDocCommentsAndTags(t);for(let o of n)if(!(!e.ts.isJSDoc(o)||!o.tags))for(let s of o.tags){if(!e.ts.isJSDocParameterTag(s)||s.tagName.text!=="param")continue;let a=s.typeExpression?.type;if(!a||!e.ts.isJSDocTypeLiteral(a))continue;let u=a.jsDocPropertyTags;if(u)for(let c of u){if(!e.ts.isJSDocPropertyLikeTag(c))continue;let l=c.name;if(!e.ts.isQualifiedName(l))continue;let p=c.typeExpression;if(!p)continue;let d="";switch(p.type.kind){case e.ts.SyntaxKind.StringKeyword:{d="string";break}case e.ts.SyntaxKind.NumberKeyword:{d="number";break}case e.ts.SyntaxKind.BooleanKeyword:{d="boolean";break}default:continue}let m={name:l.right.text,type:d,isRegistered:!1};r.push(m)}}return r.filter(Ag)}var bA=["ClassicComponent","FunctionComponent","IntrinsicElements","JSX","ReactNode","ReactElement","ReactPortal"];function xA(e){return typeof e!="string"?!1:!!bA.some(t=>e.includes(t))}function Yc(e){return typeof e=="string"&&(e=e.trim(),SA.some(t=>t.value===e))?{builderType:e,knownType:!0}:{builderType:"string",knownType:!1}}var SA=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}];function EA(e){return/^['"].*['"]$/.test(e)}function _A(e){return(e.startsWith('"')||e.startsWith("'"))&&(e.endsWith('"')||e.endsWith("'"))?e.slice(1,-1):e}var PA=(e,t,r)=>{let n=new Set;Tg(e,t,r,n);let o=n.delete("true"),s=n.delete("false");(o||s)&&n.add("boolean");let i=Array.from(n.keys()).sort();if(i.length>1&&(i=i.map(a=>a.indexOf("=>")>=0?`(${a})`:a)),!(i.length>20))return i},TA=(e,t,r)=>{let n=e.ts.TypeFormatFlags.InElementType|e.ts.TypeFormatFlags.NoTruncation;return t.typeToString(r,void 0,n)},Tg=(e,t,r,n)=>{if(r.isUnion())r.types.forEach(o=>{Tg(e,t,o,n)});else if(r.isLiteral()){let o=TA(e,t,r);n.add(o)}};function Ag(e){let t=e?.name;if(typeof t!="string"||t===""||t.startsWith("aria")||t.startsWith("data-"))return!1;if(t.startsWith("on")&&t.length>2){let r=t.charAt(2);if(r.toUpperCase()===r)return!1}return!AA.has(t.toLowerCase())}var AA=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(e=>e.toLowerCase()));function $t(e,t,r){for(let n of r.properties){if(!e.ts.isPropertyAssignment(n))continue;let o=ye(e,n);if(o==="name"&&e.ts.isStringLiteral(n.initializer)){t.name=n.initializer.text;continue}if(o==="description"&&e.ts.isStringLiteral(n.initializer)){t.description=n.initializer.text;continue}if(o==="image"&&e.ts.isStringLiteral(n.initializer)){t.image=n.initializer.text;continue}if(o==="inputs"&&e.ts.isArrayLiteralExpression(n.initializer)){let s=RA(e,n.initializer);Gt(t,s);continue}if(o==="meta"&&e.ts.isObjectLiteralExpression(n.initializer)){let s=Bi(e,n.initializer);s&&typeof s=="object"&&(t.meta=s);continue}}return t}function RA(e,t){let r=[];for(let n of t.elements)e.ts.isObjectLiteralExpression(n)&&r.push(FA(e,n));return r}function FA(e,t){let r=Bi(e,t),n=LA(r);return n.isRegistered=!0,n}function Qe(e,t,r){let n=kA(r);return t=Ro(e,t,"name",n.name,!1),t=Ro(e,t,"description",n.description),t=Ro(e,t,"image",n.image),t=Ro(e,t,"meta",n.meta),t=$A(e,t,n),BA(e,t)}function $A(e,t,r){let n=null,o=t.properties.filter(a=>e.ts.isPropertyAssignment(a)&&e.ts.isIdentifier(a.name)),s=o.findIndex(a=>e.ts.isIdentifier(a.name)&&a.name.text==="inputs"),i=[...r.inputs??[]];if(s>-1){if(i.length===0)return Ro(e,t,"inputs",null);let a=o[s];e.ts.isPropertyAssignment(a)&&e.ts.isArrayLiteralExpression(a.initializer)&&(n=a.initializer)}return i.length===0?t:(n=NA(e,n||e.ts.factory.createArrayLiteralExpression(),i),s>-1?o[s]=e.ts.factory.updatePropertyAssignment(o[s],o[s].name,n):o.push(e.ts.factory.createPropertyAssignment("inputs",n)),e.ts.factory.updateObjectLiteralExpression(t,o))}function kA(e){return{name:e.name,description:e.description,image:e.image,inputs:(e.inputs||[]).filter(r=>r.isRegistered).map(IA),...e.meta?{meta:{...e.meta}}:{}}}function IA(e){let t={name:e.name,type:e.type};return(xt(e.defaultValue)||Fi(e.defaultValue)||xo(e.defaultValue))&&(t.defaultValue=e.defaultValue),xt(e.friendlyName)&&(t.friendlyName=e.friendlyName),xt(e.helperText)&&(t.helperText=e.helperText),e.required===!0&&(t.required=!0),Array.isArray(e.enum)&&(t.enum=e.enum),e.hideFromUI===!0&&(t.hideFromUI=!0),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(t.meta=e.meta),t}function NA(e,t,r){let n=t.elements.filter(o=>{if(!e.ts.isObjectLiteralExpression(o))return!1;let s=o.properties.find(a=>ye(e,a)==="name");if(!s)return!1;let i=s.initializer;return e.ts.isStringLiteral(i)?r.some(a=>a.name===i.text):!1});for(let o of r)n=OA(e,n,o);return n.sort((o,s)=>{let i=o.properties.find(d=>ye(e,d)==="name"),a=s.properties.find(d=>ye(e,d)==="name"),u=i?.initializer,c=a?.initializer,l=u&&e.ts.isStringLiteral(u)?u.text:"zz",p=c&&e.ts.isStringLiteral(c)?c.text:"zz";return l.toLowerCase().localeCompare(p.toLowerCase())}),e.ts.factory.updateArrayLiteralExpression(t,n)}function OA(e,t,r){let n=t.findIndex(o=>o.properties.some(s=>{let i=ye(e,s);return e.ts.isPropertyAssignment(s)&&i==="name"&&e.ts.isStringLiteral(s.initializer)&&s.initializer.text===r.name}));if(n>-1)t[n]=Rg(e,t[n],r);else{let o=Rg(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("name",e.ts.factory.createStringLiteral(r.name))],!0),r);t.push(o)}return t}function Rg(e,t,r){let n=t.properties.filter(s=>e.ts.isPropertyAssignment(s)),o=Object.keys(r).filter(s=>s!=="isRegistered");for(let s of o)n=MA(e,n,r,s);return n=zA(e,n.filter(s=>{let i=ye(e,s);return o.includes(i)})),e.ts.factory.updateObjectLiteralExpression(t,n)}function MA(e,t,r,n){let o=t.findIndex(s=>e.ts.isIdentifier(s.name)&&s.name.text===n);return o>-1?t[o]=e.ts.factory.updatePropertyAssignment(t[o],t[o].name,Li(e,r[n])):t.push(e.ts.factory.createPropertyAssignment(n,Li(e,r[n]))),t}function Gt(e,t){for(let r of t){let n=e.inputs.findIndex(o=>o.name===r.name);n>-1?(r.isRegistered||!e.inputs[n].isRegistered)&&(e.inputs[n]=r):e.inputs.push(r)}e.acceptsChildren=Qc(e)}function LA(e){let t=Yc(e.type),r={name:e.name.trim(),type:t.builderType};return xt(e.friendlyName)&&e.friendlyName.trim()!==e.name.trim()&&(r.friendlyName=e.friendlyName),(xt(e.defaultValue)||Fi(e.defaultValue)||xo(e.defaultValue))&&(r.defaultValue=e.defaultValue),xt(e.helperText)&&(r.helperText=e.helperText),xo(e.required)&&(r.required=e.required),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(r.meta=e.meta),Array.isArray(e.enum)&&e.enum.length>0&&(r.enum=e.enum),e.hideFromUI===!0&&(r.hideFromUI=!0),Xc(r)}function Qc(e){let t=e.inputs.some(n=>n.name==="children"),r=e.inputs.some(n=>n.meta?.ts==="ReactNode");return!!(t||r||e.acceptsChildren===!0)}function Xc(e){if(e.name==="children"&&(e.hideFromUI=!0,delete e.required),e.type==="object"&&e.defaultValue==null&&(e.hideFromUI=!0),e.type==="list"&&e.defaultValue==null&&(e.hideFromUI=!0),e.meta){let t=e.meta.ts;typeof t=="string"&&(t=t.trim(),t.endsWith("ReactNode")&&(t="ReactNode"),e.meta.ts=t,t==="ReactNode"&&(e.hideFromUI=!0))}return e}function BA(e,t){let r=[...t.properties].sort((n,o)=>{let s=ye(e,n)||"zz",i=ye(e,o)||"zz";if(s==="inputs")return 1;let a=Fg.indexOf(s),u=Fg.indexOf(i);return a>-1?u>-1&&a>u?1:-1:u>-1?a>-1&&u<a?-1:1:s.localeCompare(i)});return e.ts.factory.updateObjectLiteralExpression(t,r)}var Fg=["component","name","description"];function zA(e,t){return[...t].sort((n,o)=>{let s=ye(e,n)||"zz",i=ye(e,o)||"zz",a=$g.indexOf(s),u=$g.indexOf(i);return a>-1?u>-1&&a>u?1:-1:u>-1?a>-1&&u<a?-1:1:s.localeCompare(i)})}var $g=["name","type"];function Fo(e,t){for(let r of t.properties){if(!e.ts.isPropertyAssignment(r)||!e.ts.isIdentifier(r.name))continue;if(ye(e,r)==="canHaveChildren"){let{initializer:o}=r;return o.kind===e.ts.SyntaxKind.TrueKeyword}}return!1}function kg(e,t){let r=`Builder.registerComponent(
`;if(e.appDir)t.acceptsChildren?r+=`  withChildren(${t.importName}),
`:r+=`  ${t.importName},
`;else{let o=t.externalImportPath?t.externalImportPath:ae(e,e.registryPath,t.filePath);t.exportName==="default"?t.acceptsChildren?r+=`  withChildren(dynamic(() => import(${JSON.stringify(o)}))),
`:r+=`  dynamic(() => import(${JSON.stringify(o)})),
`:t.acceptsChildren?r+=`  withChildren(dynamic(async () => (await import(${JSON.stringify(o)})).${t.exportName})),
`:r+=`  dynamic(async () => (await import(${JSON.stringify(o)})).${t.exportName}),
`}r+=`  {
    name: "${t.name}",
  }
`,r+=");";let n=Ea(e,r);return el(e,n,t)}function el(e,t,r){if(!e.ts.isExpressionStatement(t))return t;let n=t.expression;if(!e.ts.isCallExpression(n))return t;let o=[...n.arguments];if(o.length<2)return t;r.acceptsChildren?e.ts.isCallExpression(o[0])&&e.ts.isIdentifier(o[0].expression)&&o[0].expression.text==="withChildren"||(o[0]=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[o[0]])):e.ts.isCallExpression(o[0])&&e.ts.isIdentifier(o[0].expression)&&o[0].expression.text==="withChildren"&&(o[0]=o[0].arguments[0]);let s=o[1];return e.ts.isObjectLiteralExpression(s)?(o[1]=Qe(e,s,r),e.ts.factory.updateExpressionStatement(t,e.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,o))):t}function ce(e,t,r,n="esm"){return Array.isArray(r.namedImports)&&r.namedImports.forEach(o=>{t=jA(e,t,o,r.importPath,!!r.isTypeOnly,n)}),typeof r.defaultImport=="string"&&(t=UA(e,t,r.defaultImport,r.importPath,n)),t}function jA(e,t,r,n,o,s){return s==="cjs"?Ng(e,t,null,r,n):Ig(e,t,null,r,n,o)}function UA(e,t,r,n,o){return o==="cjs"?Ng(e,t,r,null,n):Ig(e,t,r,null,n,!1)}function Ig(e,t,r,n,o,s){let i=[...t.statements],a=0,u=!1,c=!1;for(let h=0;h<i.length;h++){let m=i[h];if(!e.ts.isImportDeclaration(m)||(a=h,!m.moduleSpecifier||!e.ts.isStringLiteral(m.moduleSpecifier))||m.moduleSpecifier.text!==o||!!m.importClause?.isTypeOnly!==s)continue;let f=[],g=m.importClause?.namedBindings;if(g&&e.ts.isNamedImports(g)&&g.elements&&f.push(...g.elements),typeof n=="string"){if(f.some(b=>b.name.text===n))return t;f.push(e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(n))),f.sort((b,w)=>b.name.text.localeCompare(w.name.text)),u=!0}let y=m.importClause?m.importClause.name:void 0;if(typeof r=="string"){if(y&&y.text===r)return t;y=e.ts.factory.createIdentifier(r),c=!0}if(u||c)return i[h]=e.ts.factory.updateImportDeclaration(m,void 0,e.ts.factory.createImportClause(s,y,e.ts.factory.createNamedImports(f)),m.moduleSpecifier,void 0),e.ts.factory.updateSourceFile(t,i)}let l,p;typeof r=="string"&&(l=e.ts.factory.createIdentifier(r)),typeof n=="string"&&(p=e.ts.factory.createNamedImports([e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(n))]));let d=e.ts.factory.createImportDeclaration(void 0,e.ts.factory.createImportClause(s,l,p),e.ts.factory.createStringLiteral(o));return i.splice(a,0,d),e.ts.factory.updateSourceFile(t,i)}function Ng(e,t,r,n,o){let s=[...t.statements],i=0;for(let a=0;a<s.length;a++){let u=s[a];if(e.ts.isVariableStatement(u))for(let c=0;c<u.declarationList.declarations.length;c++){let l=[...u.declarationList.declarations],p=l[c],d=p.initializer;if(!d||!e.ts.isCallExpression(d))continue;let h=d.expression;if(!e.ts.isIdentifier(h)||h.text!=="require"||d.arguments.length!==1)continue;let m=d.arguments[0];if(e.ts.isStringLiteral(m)&&(i=a,m.text===o)){if(e.ts.isIdentifier(p.name)&&typeof r=="string")return p.name.text===r?t:(l[c]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createIdentifier(r),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(u,u.modifiers,e.ts.factory.updateVariableDeclarationList(u.declarationList,l)),e.ts.factory.updateSourceFile(t,s));if(e.ts.isObjectBindingPattern(p.name)&&typeof n=="string"){let f=[...p.name.elements];return f.some(y=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)?!1:y.name.text===n)?t:(f.push(e.ts.factory.createBindingElement(void 0,void 0,n)),f.sort((y,b)=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)||!e.ts.isBindingElement(b)||!e.ts.isIdentifier(b.name)?0:y.name.text.localeCompare(b.name.text)),l[c]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createObjectBindingPattern(f),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(u,u.modifiers,e.ts.factory.updateVariableDeclarationList(u.declarationList,l)),e.ts.factory.updateSourceFile(t,s))}}}}if(typeof r=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(r,void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(o)]))],e.ts.NodeFlags.Const));return s.splice(i,0,a),e.ts.factory.updateSourceFile(t,s)}if(typeof n=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(e.ts.factory.createObjectBindingPattern([e.ts.factory.createBindingElement(void 0,void 0,n)]),void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(o)]))],e.ts.NodeFlags.Const));return s.splice(i,0,a),e.ts.factory.updateSourceFile(t,s)}return t}function Yn(e,t,r="esm"){return r==="cjs"?HA(e,t):VA(e,t)}function VA(e,t){let r=[];for(let n of t.statements){if(e.ts.isExportDeclaration(n)){if(n.exportClause&&e.ts.isNamedExports(n.exportClause)){for(let o of n.exportClause.elements)if(n.moduleSpecifier&&r.push({isDefaultExport:!1,statement:n,node:o}),e.ts.isIdentifier(o.name)){let s=o.name.text;for(let i of t.statements)if(e.ts.isVariableStatement(i))for(let a of i.declarationList.declarations)e.ts.isIdentifier(a.name)&&a.name.text===s&&r.push({isDefaultExport:!1,statement:i,node:i});else e.ts.isFunctionDeclaration(i)&&i.name&&i.name.text===s&&r.push({isDefaultExport:!1,statement:i,node:i})}}else!n.exportClause&&n.moduleSpecifier&&r.push({isDefaultExport:!1,statement:n,node:n});continue}if(e.ts.isExportAssignment(n)){let o=n.flags===e.ts.NodeFlags.None,s=n.expression;if(e.ts.isIdentifier(s)){let i=s.text;for(let a of t.statements){if(e.ts.isVariableStatement(a))for(let u of a.declarationList.declarations)e.ts.isIdentifier(u.name)&&u.name.text===i&&r.push({isDefaultExport:o,statement:a,node:a});e.ts.isFunctionDeclaration(a)&&a.name?.text===i&&r.push({isDefaultExport:o,statement:a,node:a})}}else(e.ts.isArrowFunction(s)||e.ts.isCallExpression(s)||e.ts.isFunctionDeclaration(s)||e.ts.isObjectLiteralExpression(s))&&r.push({isDefaultExport:o,statement:n,node:s});continue}if((e.ts.isVariableStatement(n)||e.ts.isFunctionDeclaration(n))&&n.modifiers&&n.modifiers.some(o=>o.kind===e.ts.SyntaxKind.ExportKeyword)){r.push({isDefaultExport:n.modifiers.some(o=>o.kind===e.ts.SyntaxKind.DefaultKeyword),statement:n,node:n});continue}}return r}function HA(e,t){let r=[];for(let n of t.statements)if(e.ts.isExpressionStatement(n)&&e.ts.isBinaryExpression(n.expression)&&e.ts.isPropertyAccessExpression(n.expression.left)){let o=n.expression.left,s=n.expression.right;if(!e.ts.isIdentifier(o.expression))continue;if(o.expression.text==="module"&&o.name.text==="exports"){if(e.ts.isIdentifier(s)){let i=s.text;for(let a of t.statements)if(e.ts.isVariableStatement(a))for(let u of a.declarationList.declarations)e.ts.isIdentifier(u.name)&&u.name.text===i&&r.push({isDefaultExport:!0,statement:a,node:a});else e.ts.isFunctionDeclaration(a)&&a.name&&a.name.text===i&&r.push({isDefaultExport:!0,statement:a,node:a})}else r.push({isDefaultExport:!0,statement:n,node:s});continue}}return r}function qA(e,t,r){for(let n of t.statements)if(e.ts.isImportDeclaration(n)&&n.importClause){if(n.importClause.namedBindings&&e.ts.isNamedImports(n.importClause.namedBindings)){for(let o of n.importClause.namedBindings.elements)if(e.ts.isIdentifier(o.name)&&o.name.text===r&&e.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"named"}}if(n.importClause.name&&n.importClause.name.text===r&&e.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"default"}}return null}async function Mr(e,t,r,n){let o=qA(e,r,n);if(o){let s=await zi(e,e.normalize(e.resolve(e.dirname(t),o.importPath))),i=e.relative(e.getAppRootDir(),s);return{displayFilePath:ge(e,s),filePath:s,relFilePath:i,importPath:o.importPath,exportType:o.exportType}}return null}function $o(e,t,r){for(let n=0;n<t.statements.length;n++){let o=t.statements[n];if(e.ts.isVariableStatement(o)){for(let s of o.declarationList.declarations)if(e.ts.isIdentifier(s.name)&&s.name.text===r)return{statement:o,statementIndex:n}}}return null}function We(e,t,r){let n=$o(e,t,r);if(n&&n.statement.declarationList.declarations.length>0){let o=n.statement.declarationList.declarations[0];if(o.initializer&&e.ts.isArrayLiteralExpression(o.initializer))return{statement:n.statement,statementIndex:n.statementIndex,variableDeclaration:o,arrayLiteralExp:o.initializer}}return null}function La(e,t){if(t){if(GA(e,t))return!0;let r=!1;if(t.forEachChild(n=>{La(e,n)&&(r=!0)}),r)return!0}return!1}function GA(e,t){return e.ts.isJsxElement(t)||e.ts.isJsxOpeningElement(t)||e.ts.isJsxOpeningFragment(t)||e.ts.isJsxSelfClosingElement(t)||e.ts.isJsxFragment(t)||e.ts.isJsxChild(t)}async function zi(e,t){let r=e.extname(t).toLowerCase();if(r===""||!tl.includes(r)){for(let n of tl){let o=t+n;if(await e.exists(o))return o}for(let n of tl){let o=e.join(t,"index"+n);if(await e.exists(o))return o}}return t}var tl=[".tsx",".jsx",".ts",".js"];function ko(e,t,r){if(!r||!t)return;let n=t.getSymbolAtLocation(r);if(!n)return;let o=n.valueDeclaration;if(!o)return;let s=o.getSourceFile().fileName,i=KA(e,s);return i?[{name:i}]:void 0}function KA(e,t){if(typeof t=="string"){t=e.normalize(Dr(t));let r=t.split("/"),n=r.lastIndexOf("node_modules");if(n>-1){let o=r.slice(n+1),s=o[0];if(s)return s.startsWith("@")&&o[1]&&(s+="/"+o[1]),s}}}function sr(e){let t=[];for(let r of e)if(r.dependencies)for(let n of r.dependencies)t.some(o=>o.name===n.name)||t.push({...n});return t.sort((r,n)=>r.name.localeCompare(n.name))}function Og(e,t,r="esm"){return r==="cjs"?JA(e,t):ZA(e,t)}var WA=/^(@\w|\w)/;function ZA(e,t){let r=[];for(let n of t.statements)if(e.ts.isImportDeclaration(n)&&e.ts.isLiteralExpression(n.moduleSpecifier)){if(!WA.test(n.moduleSpecifier.text)||n.importClause?.isTypeOnly)continue;if(n.importClause&&n.importClause.namedBindings&&e.ts.isNamedImports(n.importClause.namedBindings))for(let o of n.importClause.namedBindings.elements)o.isTypeOnly||r.push({isDefaultExport:!1,statement:n,node:o.name});n.importClause&&n.importClause.name&&r.push({isDefaultExport:!0,statement:n,node:n.importClause.name})}return r}function JA(e,t){return[]}async function Io(e,t){if(!t.some(i=>!i.isRegistered))return t;let n=await Ye(e,t.map(i=>i.filePath)),o=n.getTypeChecker();return await Promise.all(t.map(async i=>{let a=n.getSourceFile(i.filePath);if(a){let c=(await _n(e,o,i.filePath,a,!1)).find(l=>l.cmpInfo.id===i.id);c&&(i.inputs=Jn(e,o,c.node.fnNode))}return i}))}async function No(e,t,r,n){if(t.node.fnNode){let{sourceFile:o,typeChecker:s}=await Eo(e,t.cmpInfo.filePath,r),a=(await _n(e,s,t.cmpInfo.filePath,o,n)).find(u=>u.cmpInfo.id===t.cmpInfo.id);if(!a)throw new Error(`createComponentInputs() Could not find component ${t.cmpInfo.name} in ${t.cmpInfo.filePath}`);return Jn(e,s,a.node.fnNode)}return[]}async function Lg(e,t,r){let n=e.extname(t).toLowerCase();if(n===".tsx"||n===".jsx"||n===".ts"||n===".js"){let o=await e.readFile(t);if(o)return YA(e,t,o,r)}return null}function YA(e,t,r,n=!1){let o=se(e,r);return _n(e,null,t,o,n)}async function _n(e,t,r,n,o){let s=[];for(let a of n.statements)if(e.ts.isExpressionStatement(a)&&e.ts.isStringLiteral(a.expression)&&a.expression.text==="use server")return s;let i=Yn(e,n);return o&&i.push(...Og(e,n)),r=e.normalize(r),await Promise.all(i.map(async a=>{let u=await QA(e,t,r,a);s.push(...u)})),s}async function QA(e,t,r,n){let o=[],s=e.relative(e.getAppRootDir(),r),i=Ee(e,r);if(e.ts.isVariableStatement(n.node)){for(let a of n.node.declarationList.declarations){if(!e.ts.isIdentifier(a.name)||!So(a.name.text))continue;let u=sn(e,t,a.initializer);if(u){let c=u.name||a.name.text,l=n.isDefaultExport?"default":c,p=n.isDefaultExport?"default":"named";o.push({cmpInfo:{id:await we(e,r,l),displayFilePath:ge(e,r),name:Se(c),inputs:[],exportName:l,exportType:p,importName:c,filePath:r,relFilePath:s,importPath:i,dependencies:u.deps,framework:"react"},node:u})}}return o}if(e.ts.isArrowFunction(n.node)){let a=sn(e,t,n.node);if(a){let u=tr(e,r),c=n.isDefaultExport?"default":u,l=n.isDefaultExport?"default":"named";o.push({cmpInfo:{id:await we(e,r,c),displayFilePath:ge(e,r),name:u,inputs:[],exportName:c,exportType:l,importName:Kn(e,r),filePath:r,relFilePath:s,importPath:i,dependencies:a.deps,framework:"react"},node:a})}return o}if(e.ts.isFunctionExpression(n.node)||e.ts.isFunctionDeclaration(n.node)){let a=n.node.name?.text;if(a&&!So(a))return o;let u=sn(e,t,n.node);if(u){let c=u.name||tr(e,r),l=n.isDefaultExport||!u.name?"default":u.name,p=n.isDefaultExport?"default":"named";o.push({cmpInfo:{id:await we(e,r,l),displayFilePath:ge(e,r),name:c,inputs:[],exportName:l,exportType:p,importName:u.name||Kn(e,r),filePath:r,relFilePath:s,importPath:i,dependencies:u.deps,framework:"react"},node:u})}return o}if((e.ts.isExportSpecifier(n.node)||e.ts.isIdentifier(n.node))&&So(n.node.getText())){let a,u=sn(e,t,n.node);if(u){let c=u.name||tr(e,r),l=n.isDefaultExport||!u.name?"default":u.name,p=n.isDefaultExport?"default":"named",d=XA(e,n.node)?.moduleSpecifier??eR(e,n.node)?.moduleSpecifier;if(d&&e.ts.isStringLiteral(d)){let h=t?.getSymbolAtLocation(d);if(h&&h.declarations&&h.declarations.length>0){let m=h.declarations[0];(!e.ts.isSourceFile(m)||e.ts.isSourceFile(m)&&m.fileName.includes("node_modules"))&&(a=d.text)}}o.push({cmpInfo:{id:await we(e,r,l,a),displayFilePath:ge(e,r),name:c,inputs:[],exportName:l,exportType:p,importName:u.name||Kn(e,r),filePath:r,relFilePath:s,importPath:a||i,externalImportPath:a,dependencies:u.deps,framework:"react"},node:u})}return o}if(e.ts.isExportDeclaration(n.node)&&n.node.exportClause===void 0){let a=n.node.moduleSpecifier;if(a&&e.ts.isStringLiteral(a)){let u=await rR(e,t,r,a);o.push(...u)}return o}return o}function XA(e,t){for(;t;){if(e.ts.isExportDeclaration(t))return t;t=t.parent}return null}function eR(e,t){for(;t;){if(e.ts.isImportDeclaration(t))return t;t=t.parent}return null}function sn(e,t,r){if(!r)return null;if(e.ts.isArrowFunction(r))return La(e,r.body)?{name:"",fnNode:r,deps:ko(e,t,r)}:null;if(e.ts.isFunctionExpression(r)||e.ts.isFunctionDeclaration(r))return La(e,r.body)?{name:r.name?.text||"",fnNode:r,deps:ko(e,t,r)}:null;if(e.ts.isCallExpression(r)){let n=r.expression;if(e.ts.isPropertyAccessExpression(n)){let o=r.arguments;if(o.length===0)return null;let s=n.expression;if(!e.ts.isIdentifier(s)||s.text!=="React")return null;let i=n.name;return!e.ts.isIdentifier(i)||i.text!=="forwardRef"?null:sn(e,t,o[0])}else if(e.ts.isIdentifier(n)&&(n.text==="observer"||n.text==="forwardRef")){let o=r.arguments;return o.length===0?null:sn(e,t,o[0])}return null}if(!t)return null;if(e.ts.isPropertyAccessExpression(r)){let n=r.expression,o=r.name;if(!e.ts.isIdentifier(n)||!e.ts.isIdentifier(o)||!So(o.text))return null;let i=t.getTypeAtLocation(o).getCallSignatures();if(i.length>0&&i[0].getParameters().length>0)return{name:"",fnNode:o,deps:ko(e,t,o)}}if(e.ts.isExportSpecifier(r)){let n=r.name;return{name:n.text||"",fnNode:n,deps:ko(e,t,n)}}if(e.ts.isIdentifier(r))return{name:r.text||"",fnNode:r,deps:ko(e,t,r)};if(e.ts.isExpressionStatement(r)){let n=r.expression;if(e.ts.isAsExpression(n)&&e.ts.isIdentifier(n.type)&&n.type.text==="default")return sn(e,t,n.expression)}if(e.ts.isVariableStatement(r)){for(let n of r.declarationList.declarations)if(n.initializer&&e.ts.isAsExpression(n.initializer)){let o=n.initializer;if(e.ts.isIdentifier(o.type)&&o.type.text==="default"){let s=sn(e,t,o.expression);if(s&&e.ts.isIdentifier(n.name))return{name:n.name.text,fnNode:s.fnNode,deps:s.deps}}}}return null}async function Bg(e,t){let r=[],n=t.getSourceFiles(),o=t.getTypeChecker();return await Promise.all(n.map(async s=>{let i=e.normalize(s.fileName);if(_a(e,tR,s.fileName)||i===e.reactConfigPath||i===e.builderComponentPath)return;let a=await _n(e,o,i,s,i===e.registryPath);r.push(...a)})),r.sort((s,i)=>s.cmpInfo.name.localeCompare(i.cmpInfo.name))}var tR=new Set(["node_modules","dist"]);async function rR(e,t,r,n){let o=[],s=n.text;if(!t)return o;try{let i=t.getSymbolAtLocation(n);if(!i)return o;let a=t.getExportsOfModule(i);for(let u of a){let c=u.valueDeclaration||u.declarations?.[0];if(!c)continue;let l=u.name;if(!So(l)&&l!=="default"||!zg(e,t,c))continue;let p=sn(e,t,c);if(p){let d=u.name,h=d==="default"?"default":"named",m=Se(d),f=d==="default"?Kn(e,r):d;o.push({cmpInfo:{id:await we(e,r,d,s),displayFilePath:ge(e,r),name:m,inputs:[],exportName:d,exportType:h,importName:f,filePath:r,relFilePath:e.relative(e.getAppRootDir(),r),importPath:s,externalImportPath:s,dependencies:p.deps,framework:"react"},node:p})}}}catch(i){e.Sentry?.captureException(new Error(`Error processing module ${s}:`,{cause:i}),{extra:{modulePath:s,filePath:r}})}return o}function zg(e,t,r){if(e.ts.isInterfaceDeclaration(r)||e.ts.isTypeAliasDeclaration(r))return!1;if(e.ts.isExportSpecifier(r)){let n=t.getSymbolAtLocation(r.name);if(n){let s=t.getAliasedSymbol(n).declarations?.[0];if(s)return zg(e,t,s)}return!1}if(e.ts.isFunctionDeclaration(r)||e.ts.isArrowFunction(r)||e.ts.isFunctionExpression(r)){let n=t.getSignatureFromDeclaration(r);if(n){let o=t.getReturnTypeOfSignature(n);return Mg(o,t)}}return e.ts.isClassDeclaration(r)?r.heritageClauses?.some(o=>o.types.some(s=>s.expression.getText()==="React.Component"||s.expression.getText()==="Component"))??!1:e.ts.isVariableDeclaration(r)?t.getTypeAtLocation(r).getCallSignatures().some(s=>Mg(t.getReturnTypeOfSignature(s),t)):!1}function Mg(e,t){let r=t.typeToString(e);return r==="JSX.Element"||r==="Element"||r.includes("ReactElement")||r.includes("React.ReactElement")||r.includes("ReactNode")}async function jg(e,t){let r=[],n=t.getSourceFiles(),o=t.getTypeChecker();return await Promise.all(n.map(async s=>{let i=e.basename(s.fileName);if(e.appDir&&nR.has(i)||e.dirname(s.fileName).includes("node_modules"))return;let a=e.normalize(s.fileName);if(a===e.nextConfigPath||a===e.builderComponentPath)return;let u=await _n(e,o,a,s,a===e.registryPath||er(a));r.push(...u)})),r.sort((s,i)=>s.cmpInfo.name.localeCompare(i.cmpInfo.name))}var nR=new Set(["default.tsx","default.ts","default.jsx","default.js","error.tsx","error.ts","error.jsx","error.js","layout.tsx","layout.ts","layout.jsx","layout.js","loading.tsx","loading.ts","loading.jsx","loading.js","not-found.tsx","not-found.ts","not-found.jsx","not-found.js","page.tsx","page.ts","page.jsx","page.js","route.tsx","route.ts","route.jsx","route.js","template.tsx","template.ts","template.jsx","template.js"]);function Lr(e,t){let r=[],n=[],o=[],s=[];for(let i of t.statements){if(e.ts.isImportDeclaration(i)){if(e.ts.isStringLiteral(i.moduleSpecifier)){let u=i.moduleSpecifier.text;if(!u.startsWith(".")&&!u.startsWith("/")){r.push(i);continue}}let a=i.importClause;if(a){if(a.namedBindings){n.push(i);continue}if(a.name){n.push(i);continue}}o.push(i);continue}s.push(i)}return e.ts.factory.updateSourceFile(t,[...rl(e,r),...rl(e,n),...rl(e,o),...s])}function Cr(e){let t=e.split(`
`).map(n=>n.trimEnd());e="";let r=!1;for(let n=t.length-1;n>=0;n--){let o=t[n];!r&&o.startsWith("import ")&&(r=!0,o=o+`
`),/^builder.init(.*)$/.test(o)&&(o=o+`
`),t[n-1]&&!t[n-1].includes("*/")&&(o.trim().startsWith("Builder.registerComponent")&&(o=`
`+o),o.trim().startsWith("/**")&&(o=`
`+o),o.trim().startsWith("module.exports")&&(o=`
`+o),o.trim().startsWith("export ")&&(o=`
`+o)),e=o+`
`+e}return e.trim()+`
`}function rl(e,t){return t.sort((r,n)=>{let o=Ug(e,r),s=Ug(e,n);return o.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())})}function Ug(e,t){let r=t.importClause;if(r){let n=r.namedBindings;if(n&&e.ts.isNamedImports(n)&&n.elements.length>0)return n.elements[0].name.text;if(r.name)return r.name.text}return t.moduleSpecifier&&e.ts.isStringLiteral(t.moduleSpecifier)?t.moduleSpecifier.text:""}function Hg(e){return typeof e=="string"&&!e.includes("'use client'")&&!e.includes(`"use client"'`)&&(e=`"use client"
${e}`),e}function qg(e,t){let r=t.statements.filter(n=>!(e.ts.isExpressionStatement(n)&&e.ts.isStringLiteral(n.expression)&&e.ts.isStringLiteral(n.expression)&&n.expression.text==="use client"));return e.ts.factory.updateSourceFile(t,r)}function Br(e,t){return t.sort((r,n)=>{if(e.ts.isObjectLiteralExpression(r)&&e.ts.isObjectLiteralExpression(n)){let o=Vg(e,r),s=Vg(e,n);return o.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())}return 1})}function Vg(e,t){let r=t.properties.find(n=>ye(e,n)==="name");return r&&e.ts.isPropertyAssignment(r)&&e.ts.isStringLiteral(r.initializer)?r.initializer.text:"zzzz"}async function Gg(e){let t=await e.readFile(e.registryPath);return t?oR(e,t):{components:[],sourceFile:se(e,"")}}async function oR(e,t){let r=se(e,t);return e.sdkVersion===q.gen2?sR(e,r):iR(e,r)}async function iR(e,t){let r=[];for(let n=0;n<t.statements.length;n++){let o=t.statements[n];if(!e.ts.isExpressionStatement(o))continue;let s=o.expression;if(!e.ts.isCallExpression(s))continue;let i=s.expression;if(!e.ts.isPropertyAccessExpression(i))continue;let a=i.expression;if(!e.ts.isIdentifier(a)||a.text!=="Builder"||i.name.text!=="registerComponent")continue;let c=s.arguments;if(c.length<2)continue;let l=c[1];if(!e.ts.isObjectLiteralExpression(l))continue;let p=c[0];if(e.ts.isCallExpression(p)){let d=e.ts.isIdentifier(p.expression)&&p.expression.text;if(d==="withChildren"){let m=il(e,p.arguments[0]);if(e.ts.isCallExpression(m)){let f=await nl(e,n,m,l,!0);f&&r.push(f)}else{let f=m;if(e.ts.isIdentifier(f)){let g=await ol(e,t,n,f,l,!0);g&&r.push(g)}}continue}if(d==="dynamic"){let m=await nl(e,n,p,l,!1);m&&r.push(m);continue}let h=il(e,p.arguments[0]);if(e.ts.isCallExpression(h)&&e.ts.isIdentifier(h.expression)&&h.expression.text==="dynamic"){let m=await nl(e,n,h,l,!1);m&&r.push(m);continue}if(e.ts.isIdentifier(h)){let m=await ol(e,t,n,h,l,!1);m&&r.push(m);continue}continue}if(e.ts.isIdentifier(p)){let d=await ol(e,t,n,p,l,!1);d&&r.push(d);continue}}return{sourceFile:t,components:Rt(r)}}function il(e,t){return e.ts.isCallExpression(t)?(e.ts.isIdentifier(t.expression)&&t.expression.text)==="dynamic"?t:il(e,t.arguments[0]):t}async function nl(e,t,r,n,o){let s={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:o,framework:"react"},i=r.arguments;if(i.length===0)return null;let a=i[0];if(!e.ts.isArrowFunction(a))return null;let u=a.body;if(e.ts.isCallExpression(u)){if(u.expression.kind!==e.ts.SyntaxKind.ImportKeyword||u.arguments.length!==1)return null;let l=u.arguments[0];if(!e.ts.isStringLiteral(l))return null;let p=l.text,d=await Oo(e,p);s.filePath=d,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(d)?s.importPath=Ee(e,s.filePath):(s.externalImportPath=p,s.importPath=s.externalImportPath),s.name=tr(e,s.filePath),s.importName="default",s.exportName="default",s.exportType="default"}else if(e.ts.isPropertyAccessExpression(u)){let c=u.expression;if(!e.ts.isParenthesizedExpression(c))return null;let l=c.expression;if(!e.ts.isAwaitExpression(l))return null;let p=l.expression;if(!e.ts.isCallExpression(p)||p.expression.kind!==e.ts.SyntaxKind.ImportKeyword||p.arguments.length!==1)return null;let h=p.arguments[0];if(!e.ts.isStringLiteral(h)||!e.ts.isIdentifier(u.name))return null;let m=h.text,f=await Oo(e,m);s.filePath=f,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(f)?s.importPath=Ee(e,s.filePath):(s.externalImportPath=m,s.importPath=s.externalImportPath),s.name=Se(u.name.text),s.importName=u.name.text,s.exportName=u.name.text,s.exportType="named"}else return null;return s=$t(e,s,n),s.displayFilePath=ge(e,s.filePath),s.filePath&&s.exportName&&(s.id=await we(e,s.filePath,s.exportName,s.externalImportPath)),s}async function ol(e,t,r,n,o,s){let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:s,framework:"react"},a=t.statements.filter(c=>e.ts.isImportDeclaration(c)),u=a.find(c=>c.importClause&&c.importClause.name?.text===n.text);if(u){let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let l=await Oo(e,c.text);i.filePath=l,i.relFilePath=e.relative(e.getAppRootDir(),i.filePath),await e.exists(l)?i.importPath=Ee(e,i.filePath):(i.externalImportPath=c.text,i.importPath=i.externalImportPath),i.name=tr(e,i.filePath),i.importName=n.text,i.exportName="default",i.exportType="default"}else{let c=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(h=>h.name.text===n.text));if(!c)return null;let l=c.moduleSpecifier;if(!e.ts.isStringLiteral(l))return null;let p=await Oo(e,l.text);i.filePath=p,i.relFilePath=e.relative(e.getAppRootDir(),i.filePath),await e.exists(p)?i.importPath=Ee(e,i.filePath):(i.externalImportPath=l.text,i.importPath=i.externalImportPath),i.name=Se(n.text),i.importName=n.text,i.exportName=n.text,i.exportType="named"}return i=$t(e,i,o),i.displayFilePath=ge(e,i.filePath),i.filePath&&i.exportName&&(i.id=await we(e,i.filePath,i.exportName,i.externalImportPath)),i}function Oo(e,t){return zi(e,e.normalize(e.resolve(e.dirname(e.registryPath),t)))}function Kg(e,t,r){let n=!1,o=0,s=[...t.statements];for(let c=0;c<s.length;c++){let l=s[c];if(e.ts.isImportDeclaration(l)){o=c;continue}if(!e.ts.isExpressionStatement(l))continue;let p=l.expression;if(!e.ts.isCallExpression(p))continue;let d=p.expression;if(!e.ts.isPropertyAccessExpression(d))continue;let h=d.expression;if(!e.ts.isIdentifier(h)||h.text!=="builder")continue;if(d.name.text=="init"){n=!0;break}else continue}if(n)return t;let i=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("process"),e.ts.factory.createIdentifier("env")),e.ts.factory.createIdentifier(Or)),a=r?e.ts.factory.createNonNullExpression(i):i,u=e.ts.factory.createExpressionStatement(e.ts.factory.createCallExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("builder"),e.ts.factory.createIdentifier("init")),void 0,[a]));return s.splice(o+1,0,u),e.ts.factory.updateSourceFile(t,s)}async function sR(e,t){let r=[],n=We(e,t,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(o,s)=>{let i=await sl(e,t,o);i&&(i.nodeIndex=s,r.push(i))})),{sourceFile:t,components:Rt(r)}}async function sl(e,t,r){if(!e.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};Fo(e,r)&&(n.acceptsChildren=!0);for(let s of r.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(ye(e,s)==="component"){let a,{initializer:u}=s;if(e.ts.isCallExpression(u)&&(e.ts.isIdentifier(u.expression)&&u.expression.text)==="dynamic"){let h=u.arguments;if(h.length===0)return null;let m=h[0];if(!e.ts.isArrowFunction(m))return null;let f=m.body;if(e.ts.isCallExpression(f)){if(f.expression.kind!==e.ts.SyntaxKind.ImportKeyword||f.arguments.length!==1)return null;let y=f.arguments[0];if(!e.ts.isStringLiteral(y))return null;let b=y.text,w=await Oo(e,b);n.filePath=w,n.relFilePath=e.relative(e.getAppRootDir(),n.filePath),await e.exists(w)?n.importPath=Ee(e,n.filePath):(n.externalImportPath=b,n.importPath=n.externalImportPath),n.name=tr(e,n.filePath),n.importName="default",n.exportName="default",n.exportType="default"}else if(e.ts.isPropertyAccessExpression(f)){let g=f.expression;if(!e.ts.isParenthesizedExpression(g))return null;let y=g.expression;if(!e.ts.isAwaitExpression(y))return null;let b=y.expression;if(!e.ts.isCallExpression(b)||b.expression.kind!==e.ts.SyntaxKind.ImportKeyword||b.arguments.length!==1)return null;let T=b.arguments[0];if(!e.ts.isStringLiteral(T)||!e.ts.isIdentifier(f.name))return null;let E=T.text,R=await Oo(e,E);n.filePath=R,n.relFilePath=e.relative(e.getAppRootDir(),n.filePath),await e.exists(R)?n.importPath=Ee(e,n.filePath):(n.externalImportPath=E,n.importPath=n.externalImportPath),n.name=Se(f.name.text),n.importName=f.name.text,n.exportName=f.name.text,n.exportType="named"}else return null;return n=$t(e,n,r),n.displayFilePath=ge(e,n.filePath),n.filePath&&n.exportName&&(n.id=await we(e,n.filePath,n.exportName,n.externalImportPath)),n}if(e.ts.isIdentifier(u)&&(a=u.text),!a)continue;n.name===""&&(n.name=Se(a)),n.importName=a;let c=await Mr(e,e.registryPath,t,a);if(!c)continue;n.filePath=c.filePath,n.relFilePath=c.relFilePath,await e.exists(c.filePath)?n.importPath=Ee(e,c.filePath):(n.externalImportPath=c.importPath,n.importPath=n.externalImportPath),n.importPath=Ee(e,c.filePath),n.displayFilePath=c.displayFilePath,n.exportType=c.exportType;let l=t.statements.filter(d=>e.ts.isImportDeclaration(d)),p=l.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=l.find(m=>!m.importClause||!m.importClause.namedBindings||!e.ts.isNamedImports(m.importClause.namedBindings)?!1:m.importClause.namedBindings.elements.some(f=>f.name.text===a));if(!d)return null;let h=d.moduleSpecifier;if(!e.ts.isStringLiteral(h))return null;n.exportName=a}continue}}return n=$t(e,n,r),n.filePath&&n.exportName&&(n.id=await we(e,n.filePath,n.exportName,n.externalImportPath)),n}function zr(e,t){let r=[...t.statements],n=!1;for(let o=t.statements.length-1;o>=0;o--){let s=t.statements[o];if(e.ts.isImportDeclaration(s)&&s.importClause){let i=!1,a=s.importClause.namedBindings;if(a&&e.ts.isNamedImports(a)&&a.elements){let u=[...a.elements];for(let c=u.length-1;c>=0;c--){let l=u[c];if(e.ts.isImportSpecifier(l)){let p=l.name;if(p&&e.ts.isIdentifier(p)){let d=p.text;Wg(e,t,d)||u.splice(c,1)}}}if(u.length===0)i=!0;else if(a.elements.length!==u.length){let c=e.ts.factory.updateImportClause(s.importClause,!1,s.importClause.name,e.ts.factory.createNamedImports(u)),l=e.ts.factory.updateImportDeclaration(s,void 0,c,s.moduleSpecifier,void 0);r[o]=l,n=!0}}else if(s.importClause.name&&e.ts.isIdentifier(s.importClause.name)){let u=s.importClause.name.text;Wg(e,t,u)||(i=!0)}i&&(r.splice(o,1),n=!0)}}return n?e.ts.factory.updateSourceFile(t,r):t}function Wg(e,t,r){let n=!1;function o(s){if(!e.ts.isImportDeclaration(s)){if(e.ts.isIdentifier(s)&&s.text===r){n=!0;return}e.ts.forEachChild(s,o)}}return e.ts.forEachChild(t,o),n}function jr(e,t,r,n,o,s,i){let a=null,u=null,c=null,l=-1;t=Ht(t),r=Ht(r);let p=t.find(h=>h.id===e),d=r.find(h=>h.id===e);if(n)d||(a={...Ht(p),inputs:Ht(p.inputs).map(h=>(h.isRegistered=!0,h))},l=r.length,r.push(a));else if(typeof d?.nodeIndex=="number"&&d.nodeIndex>-1){if(o)l=d.nodeIndex,u=Ht(d),r=r.filter(h=>h.id!==e);else if(s!=null)aR(d,s),l=d.nodeIndex,c=d;else if(i!=null){let h=d.inputs.find(m=>m.name===i.name);h&&(i.registerInput===!1?h.isRegistered=!1:(uR(h,i),h.isRegistered=!0),c=d,l=d.nodeIndex)}}return{addCmpToRegistry:a,removeCmpFromRegistry:u,updateRegisteredCmp:c,nodeIndex:l,components:wr(t,r)}}function wr(e,t){let r=Rt([...t.map(n=>(n.isRegistered=!0,n)),...e.filter(n=>!t.some(o=>o.id===n.id)).map(n=>(n.isRegistered=!1,n))]);return r.forEach(n=>{n.inputs=n.inputs.map(Xc),n.inputs.sort((i,a)=>i.name.toLowerCase().localeCompare(a.name.toLowerCase()));let o=t.find(i=>i.id===n.id);o&&(o.acceptsChildren=Qc(n));let s=e.find(i=>i.id===n.id&&i.externalImportPath);s&&(n.filePath=s.filePath,n.relFilePath=s.relFilePath)}),r}function aR(e,t){xt(t.name)?e.name=t.name:t.name===null&&(e.name=e.importName),xt(t.description)?e.description=t.description:t.description===null&&delete e.description,xt(t.image)?e.image=t.image:t.image===null&&delete e.image}function uR(e,t){xt(t.type)&&(e.type=t.type),xt(t.friendlyName)?e.friendlyName=t.friendlyName:t.friendlyName===null&&delete e.friendlyName,xt(t.defaultValue)||Fi(t.defaultValue)||xo(t.defaultValue)?e.defaultValue=t.defaultValue:t.defaultValue===null&&delete e.defaultValue,xt(t.helperText)?e.helperText=t.helperText:t.helperText===null&&delete e.helperText,t.required===!0?e.required=t.required:(t.required===null||t.required===!1)&&delete e.required}async function Pn(e){let t=new Set,r=async o=>{let s=await e.readdir(o);await Promise.all(s.map(async i=>{if(i.startsWith(".")||i==="node_modules")return;let a=e.join(o,i),u=e.extname(i).toLowerCase();if(u===".tsx"||u===".jsx"||u===".ts"||u===".js"){t.add(a);return}(await e.stat(a)).isDirectory()&&await r(a)}))};return await r(e.getAppRootDir()),await Ye(e,[...t])}function Ur(e,t,r){return $o(e,t,r.variableName)?t:cR(e,t,r)}function cR(e,t,r){let n=typeof r.arrayType=="string"?e.ts.factory.createArrayTypeNode(e.ts.factory.createTypeReferenceNode(r.arrayType,void 0)):void 0,o=e.ts.factory.createArrayLiteralExpression([]),s=e.ts.factory.createVariableDeclaration(r.variableName,void 0,n,o),i=e.ts.factory.createVariableDeclarationList([s],e.ts.NodeFlags.Const),a=e.ts.factory.createModifier(e.ts.SyntaxKind.ExportKeyword),u=e.ts.factory.createVariableStatement([a],i),c=[...t.statements,u];return e.ts.factory.updateSourceFile(t,c)}async function Vr(e,t,r,n,o,s,i,a){let u=await Pn(e),[c,l,p,d]=await Promise.all([jg(e,u),Gg(e),St(e),Mi(e)]),h=c.map(w=>w.cmpInfo),m=l.components,f={components:wr(h,m),registryPath:e.registryPath,registryDisplayPath:ge(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:sr(h),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return f.components=await Io(e,f.components),f;let g=!1,y=l.sourceFile,b=Array.isArray(t)?t:typeof t=="string"?[t]:[];if(b.length>0){let w=b.map(R=>{let $=c.find(I=>I.cmpInfo.id===R);if(!$)throw new Error(`Component ${R} not found`);return $}),T=Array.from(new Set(w.map(R=>R.cmpInfo.filePath))),E=await Ye(e,T);for(let R of w){let $=f.components.find(v=>v.id===R.cmpInfo.id),I=await No(e,R,E,e.registryPath===R.cmpInfo.filePath||er(R.cmpInfo.filePath));Gt($,I);let k=h.findIndex(v=>v.id===R.cmpInfo.id);h[k].inputs=I;let F=jr(R.cmpInfo.id,h,m,r,n,o,s);if(e.sdkVersion===q.gen2){let{elements:v,elmIndex:z,statementIndex:V,statement:G,variableDeclaration:x}=await dR(e,y,R);if(F.addCmpToRegistry)v.push(pR(e,F.addCmpToRegistry)),g=!0;else if(F.removeCmpFromRegistry)v.splice(z,1),g=!0;else if(F.updateRegisteredCmp){let _=Qe(e,v[z],F.updateRegisteredCmp);v[z]=e.ts.factory.updateObjectLiteralExpression(_,[Jg(e,F.updateRegisteredCmp),..._.properties.slice(1)]),g=!0}if(g&&i){let _=[...y.statements];_[V]=e.ts.factory.updateVariableStatement(G,G.modifiers,e.ts.factory.updateVariableDeclarationList(G.declarationList,[e.ts.factory.updateVariableDeclaration(x,x.name,x.exclamationToken,x.type,e.ts.factory.createArrayLiteralExpression(Br(e,v)))])),y=e.ts.factory.updateSourceFile(y,_),y=Zg(e,F,y),y=ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-react",isTypeOnly:!0}),y=Ur(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),f.components=F.components,m=F.components.filter(je=>je.isRegistered)}}else{let v=[...y.statements];F.addCmpToRegistry?(v.push(kg(e,F.addCmpToRegistry)),g=!0):F.removeCmpFromRegistry?(v.splice(F.nodeIndex,1),g=!0):F.updateRegisteredCmp&&(v[F.nodeIndex]=el(e,v[F.nodeIndex],F.updateRegisteredCmp),g=!0),g&&i&&(y=e.ts.factory.updateSourceFile(y,v),y=ce(e,y,{namedImports:["Builder","builder"],importPath:"@builder.io/react"}),y=Kg(e,y,p),y=Zg(e,F,y),$?.acceptsChildren&&(y=ce(e,y,{namedImports:["withChildren"],importPath:"@builder.io/react"})),f.components=F.components,m=F.components.filter(z=>z.isRegistered))}}}if(g&&i){y=zr(e,y),y=Lr(e,y),e.appDir&&(y=qg(e,y));let w=et(e,y);w=Cr(w),e.appDir&&(w=Hg(w)),w=await e.formatCode(e.registryPath,w),await e.writeFile(e.registryPath,w)}return f}function Jg(e,t){let r=e.ts.factory.createIdentifier(t.importName);return e.appDir?e.ts.factory.createPropertyAssignment("component",r):e.ts.factory.createPropertyAssignment("component",fR(e,t))}function lR(e){return e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())}function pR(e,t){return Qe(e,e.ts.factory.createObjectLiteralExpression([Jg(e,t),...t.acceptsChildren?[lR(e)]:[]],!0),t)}async function dR(e,t,r){let n=We(e,t,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let o=n.arrayLiteralExp.elements.filter(i=>e.ts.isObjectLiteralExpression(i)),s=-1;for(let i=0;i<o.length;i++)if((await sl(e,t,o[i]))?.id===r.cmpInfo.id){s=i;break}return{...n,elements:o,elmIndex:s}}function Zg(e,t,r){if(e.appDir){let n=t.addCmpToRegistry||t.updateRegisteredCmp;if(n){let o=n.externalImportPath?n.externalImportPath:ae(e,e.registryPath,n.filePath);n.exportType==="default"?r=ce(e,r,{defaultImport:n.importName,importPath:o}):n.exportType==="named"&&(r=ce(e,r,{namedImports:[n.importName],importPath:o}))}}else r=ce(e,r,{defaultImport:"dynamic",importPath:"next/dynamic"});return r}function fR(e,t){let r=t.externalImportPath?t.externalImportPath:ae(e,e.registryPath,t.filePath),n=t.exportName!=="default",o;n?o=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createAwaitExpression(e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(r)])),e.ts.factory.createIdentifier(t.exportName)):o=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(r)]);let s=e.ts.factory.createArrowFunction(n?[e.ts.factory.createModifier(e.ts.SyntaxKind.AsyncKeyword)]:void 0,void 0,[],void 0,e.ts.factory.createToken(e.ts.SyntaxKind.EqualsGreaterThanToken),o);return e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("dynamic"),void 0,[s])}async function Qg(e){let t=[],r=await DR(e,t);return await ny(e,t,r),e.appDir?(e.debug(`ensure builder setup for next.js app ${e.appDir}`),await hR(e,e.appDir,t)):e.pagesDir&&(e.debug(`ensure builder setup for next.js pages ${e.pagesDir}`),await gR(e,e.pagesDir,t)),t}async function Xg(e){let t=[];return await ny(e,t),e.appDir?(e.debug(`ensure figma-imports setup for next.js app ${e.appDir}`),await mR(e,e.appDir,t)):e.pagesDir&&(e.debug(`ensure figma-imports setup for next.js pages ${e.pagesDir}`),await yR(e,e.pagesDir,t)),t}async function mR(e,t,r){let n=`page.${e.typescriptEnabled?"tsx":"jsx"}`,o=e.join(t,"figma-imports",n);if(!await e.exists(o)){let s=await e.formatCode(o,ty({sys:e,routePath:o,modelName:"figma-imports"}));await e.writeFile(o,s),r.push({filePath:o,modifiedType:"create"})}if(!await e.exists(e.builderComponentPath)){let s=await e.formatCode(e.builderComponentPath,ey(e));await e.writeFile(e.builderComponentPath,s),r.push({filePath:e.builderComponentPath,modifiedType:"create"})}}async function hR(e,t,r){let n=`page.${e.typescriptEnabled?"tsx":"jsx"}`,o=e.join(t,"[...page]",n);if(!await e.exists(o)){let s=await e.formatCode(o,ty({sys:e,routePath:o,modelName:"page"}));await e.writeFile(o,s),r.push({filePath:o,modifiedType:"create"})}if(!await e.exists(e.builderComponentPath)){let s=await e.formatCode(e.builderComponentPath,ey(e));await e.writeFile(e.builderComponentPath,s),r.push({filePath:e.builderComponentPath,modifiedType:"create"})}}function ey(e){let t=e.typescriptEnabled;return e.sdkVersion===q.gen2?`
  "use client";
  import { ${t?"BuilderContent, ":""} isPreviewing, Content } from "@builder.io/sdk-react";
  import DefaultErrorPage from "next/error";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(ae(e,e.builderComponentPath,e.registryPath))};
  ${t?`
interface BuilderPageProps {
      content: BuilderContent | null;
      model: string;
      }`:""}

  // Builder Public API Key set in .env file
  const builderApiKey = process.env.${Or}${t?"!":""};

  export function RenderBuilderContent({ content, model }${t?": BuilderPageProps":""}) {
    // Call the isPreviewing hook to determine if
    // the page is being previewed in Builder
    // If "content" has a value or the page is being previewed in Builder,
    // render the BuilderComponent with the specified content and model props.
    if (content || isPreviewing()) {
      return <Content
        content={content}
        apiKey={builderApiKey}
        model={model}
        customComponents={CUSTOM_COMPONENTS}
      />;
    }
    // If the "content" is falsy and the page is
    // not being previewed in Builder, render the
    // DefaultErrorPage with a 404.
    return <DefaultErrorPage statusCode={404} />;
  }
  `.trimStart():`
"use client";
${t?'import { ComponentProps } from "react";':""}
import { BuilderComponent, useIsPreviewing } from "@builder.io/react";
import { ${t?"BuilderContent, ":""}builder } from '@builder.io/sdk';
import DefaultErrorPage from "next/error";
import ${JSON.stringify(ae(e,e.builderComponentPath,e.registryPath))};
${t?`
type BuilderPageProps = ComponentProps<typeof BuilderComponent>;`:""}

// Builder Public API Key set in .env file
builder.init(process.env.${Or}${t?"!":""});

export function RenderBuilderContent({ content, model }${t?": BuilderPageProps":""}) {
  // Call the useIsPreviewing hook to determine if
  // the page is being previewed in Builder
  const isPreviewing = useIsPreviewing();
  // If "content" has a value or the page is being previewed in Builder,
  // render the BuilderComponent with the specified content and model props.
  if (content || isPreviewing) {
    return <BuilderComponent content={content} model={model} />;
  }
  // If the "content" is falsy and the page is
  // not being previewed in Builder, render the
  // DefaultErrorPage with a 404.
  return <DefaultErrorPage statusCode={404} />;
}
`.trimStart()}function Yg(e){return e.features.asyncParams?`
interface PageProps {
      params: Promise<{
        page: string[];
      }>;
    }`:`
interface PageProps {
      params: {
        page: string[];
      };
    }`}function ty({sys:e,routePath:t,modelName:r}){let n=e.typescriptEnabled,o=ae(e,t,e.builderComponentPath);return e.sdkVersion===q.gen2?`
import { fetchOneEntry } from "@builder.io/sdk-react";
import { RenderBuilderContent } from ${JSON.stringify(o)};

// Builder Public API Key set in .env file
const PUBLIC_API_KEY = process.env.${Or}${n?"!":""};

${n?Yg(e):""}

export default async function Page(props${n?": PageProps":""}) {
  const builderModelName = "${r}";

  // Use the page path specified in the URL to fetch the content
  const urlPath = "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || "");

  const content = await fetchOneEntry({
   // Get the page content from Builder with the specified options
    apiKey: PUBLIC_API_KEY,
    model: builderModelName,
    userAttributes: { urlPath },
  });

  return (
    <>
      {/* Render the Builder page */}
      <RenderBuilderContent content={content} model={builderModelName} />
    </>
  );
}
`.trimStart():`
import { builder } from "@builder.io/sdk";
import { RenderBuilderContent } from ${JSON.stringify(o)};

// Builder Public API Key set in .env file
builder.init(process.env.${Or}${n?"!":""});
${n?Yg(e):""}

export default async function Page(props${n?": PageProps":""}) {
  const builderModelName = "${r}";

  const content = await builder
    // Get the page content from Builder with the specified options
    .get(builderModelName, {
      userAttributes: {
        // Use the page path specified in the URL to fetch the content
        urlPath: "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || ""),
      },
    })
    // Convert the result to a promise
    .toPromise();

  return (
    <>
      {/* Render the Builder page */}
      <RenderBuilderContent content={content} model={builderModelName} />
    </>
  );
}
`.trimStart()}async function gR(e,t,r){let n=`[...page].${e.typescriptEnabled?"tsx":"jsx"}`,o=e.join(t,n);if(!await e.exists(o)){let s=await e.formatCode(o,ry({sys:e,routePath:o,modelName:"page"}));await e.writeFile(o,s),r.push({filePath:o,modifiedType:"create"})}}async function yR(e,t,r){let n=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,o=e.join(t,n);if(!await e.exists(o)){let s=await e.formatCode(o,ry({sys:e,routePath:o,modelName:"figma-imports"}));await e.writeFile(o,s),r.push({filePath:o,modifiedType:"create"})}}function ry({sys:e,routePath:t,modelName:r}){let n=e.typescriptEnabled;return e.sdkVersion===q.gen2?`
import React from "react";
import { useRouter } from "next/router";
${n?'import type { BuilderContent } from "@builder.io/sdk-react";':""}
import {
  Content,
  fetchEntries,
  fetchOneEntry,
  isPreviewing,
} from "@builder.io/sdk-react";
import DefaultErrorPage from "next/error";
import Head from "next/head";
${n?'import { GetStaticProps } from "next";':""}
import { CUSTOM_COMPONENTS } from ${JSON.stringify(ae(e,e.builderComponentPath,e.registryPath))};

const BUILDER_API_KEY = process.env.${Or}${n?"!":""};

// Define a function that fetches the Builder
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  const urlPath =
    "/" +
    (Array.isArray(params?.page) ? params.page.join("/") : params?.page || "");

  // Fetch the builder content for the given page
  const page = await fetchOneEntry({
    apiKey: BUILDER_API_KEY,
    model: "${r}",
    userAttributes: { urlPath },
  });

  return {
    // Return the page content as props
    props: { page },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${r==="page"?`
// Define a function that generates the
// static paths for all pages in Builder
export async function getStaticPaths() {
  // Get a list of all pages in Builder
  const pages = await fetchEntries({
    apiKey: BUILDER_API_KEY,
    model: "page",
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });
  // Generate the static paths for all pages in Builder
  return {
    paths: pages.map((page) => \`\${page.data?.url}\`),
    fallback: "blocking",
  };
}
`:""}

// Define the Page component
export default function Page(props${n?": { page: BuilderContent | null }":""}) {
  const router = useRouter();
  const canShowContent = props.page || isPreviewing(router.asPath);

  // If the page content is not available
  // and not in preview/editing mode, show a 404 error page
  if (!canShowContent) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the BuilderComponent with the page content
  return (
    <>
      <Head>
        <title>{props.page?.data?.title}</title>
      </Head>
      {/* Render the Builder page */}
      <Content
        model="${r}"
        content={props.page}
        apiKey={BUILDER_API_KEY}
        customComponents={CUSTOM_COMPONENTS}
      />
    </>
  );
}

    `:`
import React from "react";
import { useRouter } from "next/router";
import { BuilderComponent, builder, useIsPreviewing } from "@builder.io/react";
import DefaultErrorPage from "next/error";
import Head from "next/head";${n?`
import { BuilderContent } from "@builder.io/sdk";`:""}${n?`
import { GetStaticProps } from "next";`:""}
import ${JSON.stringify(ae(e,t,e.registryPath))};

builder.init(process.env.${Or}${n?"!":""});

// Define a function that fetches the Builder
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  // Fetch the builder content for the given page
  const page = await builder
    .get("${r}", {
      userAttributes: {
        urlPath: "/" + ((params?.page${n?" as string[]":""})?.join("/") || ""),
      },
    })
    .toPromise();

  // Return the page content as props
  return {
    props: {
      page: page || null,
    },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${r==="page"?`// Define a function that generates the
// static paths for all pages in Builder
export async function getStaticPaths() {
  // Get a list of all pages in Builder
  const pages = await builder.getAll("page", {
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });

  // Generate the static paths for all pages in Builder
  return {
    paths: pages.map((page) => String(page.data?.url)).filter(url => url !== '/'),
    fallback: 'blocking',
  };
}`:""}

// Define the Page component
export default function Page({ page }${n?": { page: BuilderContent | null }":""}) {
  const router = useRouter();
  const isPreviewing = useIsPreviewing();

  // If the page content is not available
  // and not in preview mode, show a 404 error page
  if (!page && !isPreviewing) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the BuilderComponent with the page content
  return (
    <>
      <Head>
        <title>{page?.data?.title}</title>
      </Head>
      {/* Render the Builder page */}
      <BuilderComponent model="${r}" content={page || undefined} />
    </>
  );
}
`.trimStart()}async function DR(e,t){let n=e.typescriptEnabled?"tsx":"jsx",o=e.join(e.componentsDir,"Counter"),s=e.join(o,`Counter.${n}`),i=e.join(o,"styles.module.css"),{component:a,styles:u}=vR(e);if(!await e.exists(s)){let c=await e.formatCode(s,a);await e.writeFile(s,c),t.push({filePath:s,modifiedType:"create"})}return await e.exists(i)||(await e.writeFile(i,u),t.push({filePath:i,modifiedType:"create"})),s}function vR(e){let t=e.typescriptEnabled,r=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${t?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${t?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:r,styles:n}}async function ny(e,t,r){if(!await e.exists(e.registryPath)){if(e.sdkVersion===q.gen2){let s=CR(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");t.push({filePath:e.registryPath,modifiedType:"create"})}if(!r)return;let o=(await Vr(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===r);o&&await Vr(e,o.id,!0,!1,null,null,!0,!1)}function CR(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-react";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function Mo(e){let t=await Sn(e,e.getRepoRootDir());if(t&&typeof t=="object"){let r=new Set(Object.keys({...t.dependencies,...t.devDependencies}));if(r.has("@builder.io/sdk-react"))return q.gen2;if(r.has("@builder.io/react"))return q.gen1}return null}async function oy(e){let t=await wR(e);return{builderPageOptions:async()=>({templateContentId:"3de2f13211234071a4b19a17b4fbc5a7",pathname:"/builder-demo",title:"Builder + Next.js Demo Page"}),ensureBuilderSetup:()=>Qg(t),ensureFigmaImportPage:()=>Xg(t),getRegistryPath:()=>t.registryPath,getRegistry:n=>Vr(t,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{t.addExternalPackage(n)},loadComponent:async n=>{let o=await Vr(t,n.cmpId,!1,!1,null,null,!1,!1);return{...o,component:o.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Vr(t,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Vr(t,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Vr(t,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Vr(t,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Mi(t),setPublicApiKey:n=>Pg(t,n.publicApiKey),getDependencies:n=>n.sdkVersion===q.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>or(t),setCache:n=>ir(t,n)}}async function wR(e){let t=e.getAppRootDir(),r=e.join(t,"src"),n=await bR(e),o=await St(e),s=e.getFrameworks().find(c=>c.name==="next"),i={asyncParams:s?.version?.major!==void 0&&s.version.major>=15},a={},u={...e,addExternalPackage:c=>{a[e.join(t,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>a[c]??e.readFileSync(c),existsSync:c=>!!a[c]||e.existsSync(c),readdirSync:c=>{let l=e.readdirSync(c);return c===t?[...l,...Object.keys(a).map(p=>p.slice(t.length+1))]:l},readdir:async c=>{let l=await e.readdir(c);return c===t?[...l,...Object.keys(a).map(p=>p.slice(t.length+1))]:l},appDir:null,pagesDir:null,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",nextConfigPath:n,typescriptEnabled:o,features:i};if(e.sdkVersion?u.sdkVersion=e.sdkVersion:u.sdkVersion=await Mo(u),await e.exists(r)){u.srcDir=r,u.componentsDir=e.join(r,"components");let c=e.join(r,"app");await e.exists(c)&&(u.appDir=c);let l=e.join(r,"pages");await e.exists(l)&&(u.pagesDir=l),u.registryPath=await Ft(e,r)}else u.componentsDir=e.join(t,"components"),u.registryPath=await Ft(e,t);if(u.builderComponentPath=e.join(u.componentsDir,`builder.${o?"tsx":"jsx"}`),!u.appDir){let c=e.join(t,"app");await e.exists(c)&&(u.appDir=c)}if(!u.pagesDir){let c=e.join(t,"pages");await e.exists(c)&&(u.pagesDir=c)}if(!u.appDir&&!u.pagesDir&&!e.ignoreMissingConfig)throw new Error(`Could not find Next.js "app" or "pages" directory. Searched in "${t}".`);return u}async function bR(e){let t=e.join(e.getAppRootDir(),"next.config.ts");if(await e.exists(t))return t;let r=e.join(e.getAppRootDir(),"next.config.mjs");if(await e.exists(r))return r;let n=e.join(e.getAppRootDir(),"next.config.js");if(await e.exists(n))return n;throw new Error(`Could not find Next.js config file. Searched for "next.config.ts", "next.config.mjs" and "next.config.js" in "${e.getAppRootDir()}".`)}async function ji(e){return await Ir(e,[".env"],sy)}async function iy(e,t){xR(t);let r=await ji(e),n=await Nr(e,r.file,r.envKey,t);return{...r,modifiedType:n}}function xR(e){typeof process<"u"&&(process.env[sy]=e)}var sy="PUBLIC_BUILDER_API_KEY";function ay(e,t,r){if(r.length===0)return e;let n=e.split(`
`),o=n.findIndex(a=>a.includes(r));if(o===-1||n.some(a=>a.includes(t[0])))return e;let i=["/**",...t.map(a=>` * ${a.trim()}`)," */"];return n.splice(o,0,...i),n.join(`
`)}async function cy(e,t){let r=[],n=t.getSourceFiles(),o=t.getTypeChecker();return await Promise.all(n.map(async s=>{let i=e.basename(s.fileName);if(i.startsWith(".")||_R.has(i))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let u=await Ba(e,o,a,s);r.push(...u)})),r}async function ly(e,t){if(e.extname(t).toLowerCase()===".tsx"){let n=await e.readFile(t);if(n)return SR(e,t,n)}return null}function SR(e,t,r){let n=se(e,r);return Ba(e,null,t,n)}async function Ba(e,t,r,n){r=e.normalize(r);let o=[],s=Yn(e,n);return await Promise.all(s.map(async i=>{let a=await ER(e,t,r,i);a&&o.push(a)})),o}async function ER(e,t,r,n){let o=e.relative(e.getAppRootDir(),r),s=Ee(e,r);if(e.ts.isVariableStatement(n.node))for(let i of n.node.declarationList.declarations){let a=uy(e,i.initializer);if(a&&e.ts.isIdentifier(i.name)){let u=i.name.text;return{cmpInfo:{id:await we(e,r,u),displayFilePath:ge(e,r),name:Se(u),inputs:[],exportName:n.isDefaultExport?"default":u,exportType:n.isDefaultExport?"default":"named",importName:u,filePath:r,relFilePath:o,importPath:s,framework:"qwik"},node:a}}}else if(e.ts.isCallExpression(n.node)){let i=uy(e,n.node);if(i)return{cmpInfo:{id:await we(e,r,"default"),displayFilePath:ge(e,r),name:tr(e,r),inputs:[],exportName:"default",exportType:"default",importName:Kn(e,r),filePath:r,relFilePath:o,importPath:s,framework:"qwik"},node:i}}return null}function uy(e,t){if(t&&e.ts.isCallExpression(t)&&e.ts.isIdentifier(t.expression)&&t.expression.text==="component$"&&t.arguments.length>0){let r=t.arguments[0];if(e.ts.isArrowFunction(r)||e.ts.isFunctionExpression(r))return{callExpression:t,fnNode:r}}return null}var _R=new Set(["node_modules","layout.tsx","404.tsx","router-head.tsx"]);async function py(e,t){let r=t.node.fnNode;if((e.ts.isArrowFunction(r)||e.ts.isFunctionExpression(r))&&r.parameters.length>0){let{sourceFile:o,typeChecker:s}=await Eo(e,t.cmpInfo.filePath,null);if(!(await Ba(e,s,t.cmpInfo.filePath,o)).find(u=>u.cmpInfo.id===t.cmpInfo.id))throw new Error(`createComponentInputs() Could not find component ${t.cmpInfo.name} in ${t.cmpInfo.filePath}`);return Jn(e,s,r)}return[]}async function dy(e){return al(e)}async function al(e){let t=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,PR),t.push({filePath:e.registryPath,modifiedType:"create"})),t}var PR=`import type { RegisteredComponent } from "@builder.io/sdk-qwik";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];
`;async function fy(e){await al(e);let t=await e.readFile(e.registryPath);return t?TR(e,t):{components:[],sourceFile:se(e,"")}}async function TR(e,t){let r=se(e,t);return AR(e,r)}async function AR(e,t){let r=[],n=We(e,t,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(o,s)=>{let i=await ul(e,t,o);i&&(i.nodeIndex=s,r.push(i))})),{sourceFile:t,components:Rt(r)}}async function ul(e,t,r){if(!e.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],framework:"qwik"};for(let o of r.properties){if(!e.ts.isPropertyAssignment(o)||!e.ts.isIdentifier(o.name))continue;if(ye(e,o)==="component"&&e.ts.isIdentifier(o.initializer)){let i=o.initializer.text;n.name===""&&(n.name=Se(i)),n.importName=i;let a=await Mr(e,e.registryPath,t,i);if(!a)continue;n.filePath=a.filePath,n.relFilePath=a.relFilePath,n.importPath=Ee(e,a.filePath),n.displayFilePath=a.displayFilePath,n.exportType=a.exportType;let u=await ly(e,a.filePath);if(u&&u.length>0)if(u.length===1)n.exportName=u[0].cmpInfo.exportName;else{let c=u.find(l=>l.cmpInfo.exportName===i);c&&(n.exportName=c.cmpInfo.exportName)}continue}}return n=$t(e,n,r),n.filePath&&n.exportName&&(n.id=await we(e,n.filePath,n.exportName)),n}async function my(e){let t=new Set,r=async o=>{let s=await e.readdir(o);await Promise.all(s.map(async i=>{if(i.startsWith(".")||i==="node_modules")return;let a=e.join(o,i),u=e.extname(i).toLowerCase();if(u===".tsx"||u===".ts"){t.add(a);return}(await e.stat(a)).isDirectory()&&await r(a)}))};return await r(e.getAppRootDir()),await Ye(e,[...t])}async function Qn(e,t,r,n,o,s,i,a){let u=await my(e),[c,l,p]=await Promise.all([cy(e,u),fy(e),ji(e)]),d=c.map(f=>f.cmpInfo),h=l.components,m={components:wr(d,h),registryPath:e.registryPath,registryDisplayPath:ge(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:sr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return m;if(t!=null){let f=c.find(F=>F.cmpInfo.id===t);if(!f)throw new Error(`Component ${t} not found`);let g=l.sourceFile,y=m.components.find(F=>F.id===t),b=await py(e,f);Gt(y,b),t=Array.isArray(t)?t[0]:t;let w=jr(t,d,h,r,n,o,s),{elements:T,elmIndex:E,statementIndex:R,statement:$,variableDeclaration:I}=await FR(e,g,f),k=!1;if(w.addCmpToRegistry?(T.push(RR(e,w.addCmpToRegistry)),k=!0):w.removeCmpFromRegistry?(T.splice(E,1),k=!0):w.updateRegisteredCmp&&(T[E]=Qe(e,T[E],w.updateRegisteredCmp),k=!0),k&&i){let F=[...g.statements];F[R]=e.ts.factory.updateVariableStatement($,$.modifiers,e.ts.factory.updateVariableDeclarationList($.declarationList,[e.ts.factory.updateVariableDeclaration(I,I.name,I.exclamationToken,I.type,e.ts.factory.createArrayLiteralExpression(Br(e,T)))])),g=e.ts.factory.updateSourceFile(g,F),y.exportType==="named"?g=ce(e,g,{namedImports:[y.importName],importPath:ae(e,e.registryPath,y.filePath)}):g=ce(e,g,{defaultImport:y.importName,importPath:ae(e,e.registryPath,y.filePath)}),g=ce(e,g,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-qwik",isTypeOnly:!0}),g=Ur(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g=zr(e,g),g=Lr(e,g);let v=et(e,g);v=Cr(v),v=ay(v,$R,"CUSTOM_COMPONENTS"),v=await e.formatCode(e.registryPath,v),await e.writeFile(e.registryPath,v)}m.components=w.components}return m}function RR(e,t){return Qe(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(t.importName))],!0),t)}async function FR(e,t,r){let n=We(e,t,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let o=n.arrayLiteralExp.elements.filter(i=>e.ts.isObjectLiteralExpression(i)),s=-1;for(let i=0;i<o.length;i++)if((await ul(e,t,o[i]))?.id===r.cmpInfo.id){s=i;break}return{...n,elements:o,elmIndex:s}}var $R=["This array is used to integrate custom components within Builder.","https://www.builder.io/c/docs/custom-components-intro","",'These components will be found the "Custom Components"',"section of Builder's visual editor.",'You can also turn on "components only mode" to limit',"editing to only these components.","https://www.builder.io/c/docs/guides/components-only-mode"];async function hy(e){let t=await kR(e);return{builderPageOptions:async()=>({templateContentId:"dc70f1d979ad416d8fd357137eb9ddfb",pathname:"/",title:"Builder + Qwik Demo Page"}),ensureBuilderSetup:()=>dy(t),ensureFigmaImportPage:async()=>[],getRegistryPath:()=>t.registryPath,getRegistry:n=>Qn(t,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{},loadComponent:async n=>{let o=await Qn(t,n.cmpId,!1,!1,null,null,!1,!1);return{...o,component:o.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Qn(t,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Qn(t,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Qn(t,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Qn(t,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>ji(t),setPublicApiKey:n=>iy(t,n.publicApiKey),getDependencies:n=>[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-qwik"}],getDevRunCommand:()=>"dev",getCache:()=>or(t),setCache:n=>ir(t,n)}}async function kR(e){let t=await $i(e,e.getAppRootDir(),"components");if(!t)throw new Error(`Could not find components directory within project: ${e.getAppRootDir()}`);let r=await Ft(e,t),n=e.join(e.getAppRootDir(),".env");return{...e,componentsDir:t,registryPath:r,envPath:n}}async function Ui(e){return await Ir(e,[".env"],Vi)}async function gy(e,t){let r=await Ui(e),n=await Nr(e,r.file,r.envKey,t);return{...r,modifiedType:n}}var Vi="PUBLIC_BUILDER_KEY";var IR=new Set(["dist","node_modules"]);async function yy(e,t){let r=[],n=t.getSourceFiles(),o=t.getTypeChecker(),s=e.join(e.getAppRootDir(),"build");return await Promise.all(n.map(async i=>{let a=e.basename(i.fileName);if(a.startsWith(".")||a==="node_modules"||_a(e,IR,i.fileName)||NR.has(a)||a.includes("$."))return;let u=e.normalize(i.fileName);if(u===e.remixConfigPath||u===s)return;let c=await _n(e,o,u,i,u===e.registryPath);r.push(...c)})),r}var NR=new Set(["root.tsx","root.ts","root.jsx","root.js","_index.tsx","_index.jsx","_index.ts","_index.js"]);async function Dy(e){await za(e);let t=await e.readFile(e.registryPath);return t?OR(e,t):{components:[],sourceFile:se(e,"")}}async function OR(e,t){let r=se(e,t);return MR(e,r)}async function MR(e,t){let r=[],n=We(e,t,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(o,s)=>{let i=await cl(e,t,o);i&&(i.nodeIndex=s,r.push(i))})),{sourceFile:t,components:Rt(r)}}async function cl(e,t,r){if(!e.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};e.sdkVersion===q.gen2&&Fo(e,r)&&(n.acceptsChildren=!0);for(let o of r.properties){if(!e.ts.isPropertyAssignment(o)||!e.ts.isIdentifier(o.name))continue;if(ye(e,o)==="component"){let i,{initializer:a}=o;if(e.ts.isIdentifier(a))i=a.text;else if(e.ts.isCallExpression(a)){(e.ts.isIdentifier(a.expression)&&a.expression.text)==="withChildren"&&(n.acceptsChildren=!0);let l=a.arguments[0];e.ts.isIdentifier(l)&&(i=l.text)}if(!i)continue;n.name===""&&(n.name=Se(i)),n.importName=i;let u=await Mr(e,e.registryPath,t,i);if(!u)continue;if(n.filePath=u.filePath,n.relFilePath=u.relFilePath,await e.exists(u.filePath)?n.importPath=Ee(e,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType,n.externalImportPath)n.exportName=i;else{let c=await Lg(e,u.filePath,e.registryPath===u.filePath||er(u.filePath));if(c&&c.length>0)if(c.length===1)n.exportName=c[0].cmpInfo.exportName;else{let l=c.find(p=>p.cmpInfo.exportName===i);l&&(n.exportName=l.cmpInfo.exportName)}}continue}}return n=$t(e,n,r),n.filePath&&n.exportName&&(n.id=await we(e,n.filePath,n.exportName,n.externalImportPath)),n}async function Hr(e,t,r,n,o,s,i,a){let u=await Pn(e),[c,l,p]=await Promise.all([yy(e,u),Dy(e),Ui(e)]),d=c.map(b=>b.cmpInfo),h=l.components,m={components:wr(d,h),registryPath:e.registryPath,registryDisplayPath:ge(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:sr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return m.components=await Io(e,m.components),m;let f=!1,g=l.sourceFile,y=Array.isArray(t)?t:typeof t=="string"?[t]:[];if(y.length>0){let b=y.map(E=>{let R=c.find($=>$.cmpInfo.id===E);if(!R)throw new Error(`Component ${E} not found`);return R}),w=Array.from(new Set(b.map(E=>E.cmpInfo.filePath))),T=await Ye(e,w);for(let E of b){let R=m.components.find(x=>x.id===E.cmpInfo.id),$=await No(e,E,T,e.registryPath===E.cmpInfo.filePath||er(E.cmpInfo.filePath));Gt(R,$);let I=d.findIndex(x=>x.id===E.cmpInfo.id);d[I].inputs=$;let k=jr(E.cmpInfo.id,d,h,r,n,o,s),{elements:F,elmIndex:v,statementIndex:z,statement:V,variableDeclaration:G}=await BR(e,g,E);if(k.addCmpToRegistry)F.push(LR(e,k.addCmpToRegistry)),f=!0;else if(k.removeCmpFromRegistry)F.splice(v,1),f=!0;else if(k.updateRegisteredCmp){let x=Qe(e,F[v],k.updateRegisteredCmp);F[v]=e.ts.factory.updateObjectLiteralExpression(x,[vy(e,k.updateRegisteredCmp),...x.properties.slice(1)]),f=!0}if(f&&i){let x=[...g.statements];x[z]=e.ts.factory.updateVariableStatement(V,V.modifiers,e.ts.factory.updateVariableDeclarationList(V.declarationList,[e.ts.factory.updateVariableDeclaration(G,G.name,G.exclamationToken,G.type,e.ts.factory.createArrayLiteralExpression(Br(e,F)))])),g=e.ts.factory.updateSourceFile(g,x),R.exportType==="named"?g=ce(e,g,{namedImports:[R.importName],importPath:R.externalImportPath?R.externalImportPath:ae(e,e.registryPath,R.filePath)}):g=ce(e,g,{defaultImport:R.importName,importPath:R.externalImportPath?R.externalImportPath:ae(e,e.registryPath,R.filePath)});let _=e.sdkVersion===q.gen2?"@builder.io/sdk-react":"@builder.io/react";g=ce(e,g,{namedImports:["RegisteredComponent"],importPath:_,isTypeOnly:!0}),R.acceptsChildren&&e.sdkVersion!==q.gen2&&(g=ce(e,g,{namedImports:["withChildren"],importPath:"@builder.io/react"})),g=Ur(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=k.components,h=k.components.filter(je=>je.isRegistered)}}}if(f&&i){g=zr(e,g),g=Lr(e,g);let b=et(e,g);b=Cr(b),b=await e.formatCode(e.registryPath,b),await e.writeFile(e.registryPath,b)}return m}function vy(e,t){if(e.sdkVersion===q.gen2)return e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(t.importName));let r=e.ts.factory.createIdentifier(t.importName),n=t.acceptsChildren?e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[r]):r;return e.ts.factory.createPropertyAssignment("component",n)}function LR(e,t){return Qe(e,e.ts.factory.createObjectLiteralExpression([vy(e,t),...t.acceptsChildren&&e.sdkVersion===q.gen2?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),t)}async function BR(e,t,r){let n=We(e,t,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let o=n.arrayLiteralExp.elements.filter(i=>e.ts.isObjectLiteralExpression(i)),s=-1;for(let i=0;i<o.length;i++)if((await cl(e,t,o[i]))?.id===r.cmpInfo.id){s=i;break}return{...n,elements:o,elmIndex:s}}async function Cy(e){let t=[],r=await UR(e,t);return t.push(...await za(e)),await HR(e,r),await jR(e,t),t}async function wy(e){let t=[];return t.push(...await za(e)),await zR(e,t),t}async function zR(e,t){let r=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureFigmaImportRoute, hasLocaleParam"),r=`($locale).${r}`);let n=e.join(e.routesDir,r),o=await e.exists(n);e.debug(`remixEnsureFigmaImportRoute, hasRoute: ${o}`);let s=await e.formatCode(n,by({sys:e,routePath:n,modelName:"figma-imports"}));await e.writeFile(n,s),t.push({filePath:n,modifiedType:o?"update":"create"})}async function jR(e,t){let r=`$.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureAppRoute, hasLocaleParam"),r=`($locale).${r}`),e.sdkVersion===q.gen2&&(r=`($slug)._index.${e.typescriptEnabled?"tsx":"jsx"}`);let n=e.join(e.routesDir,r),o=await e.exists(n);e.debug(`remixEnsureAppRoute, hasRoute: ${o}`);let s=await e.formatCode(n,by({sys:e,routePath:n,modelName:"page"}));await e.writeFile(n,s),t.push({filePath:n,modifiedType:o?"update":"create"})}function by({sys:e,routePath:t,modelName:r}){let n=e.typescriptEnabled,o=ae(e,t,e.registryPath),s="",i="";n&&(s="import type { LoaderArgs } from '@remix-run/server-runtime';",i=": LoaderArgs");let a=`process.env.${Vi}`,u="";return e.getFrameworks().some(c=>c.name==="@shopify/remix-oxygen")&&(a=`context.env.${Vi}`,u=", context"),n&&(a+="!"),e.sdkVersion===q.gen2?`

import {
  Content,
  fetchOneEntry,
  getBuilderSearchParams,
  isPreviewing,
} from "@builder.io/sdk-react";
${n?'import type { LoaderFunctionArgs } from "@remix-run/node";':""}
import { useLoaderData } from "@remix-run/react";
import { fetch as webFetch } from "@remix-run/web-fetch";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(o)};

export const loader = async ({ params, request${u} }${n?": LoaderFunctionArgs":""}) => {
  const builderApiKey = ${a};
  const url = new URL(request.url);
  const urlPath = \`/\${params["slug"] || ""}\`;

  const page = await fetchOneEntry({
    model: "${r}",
    apiKey: builderApiKey,
    options: getBuilderSearchParams(url.searchParams),
    userAttributes: { urlPath },
    fetch: webFetch,
  });

  if (!page && !isPreviewing(url.search)) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText: "Page not found in Builder.io",
    });
  }

  return { page, builderApiKey };
};

// Define and render the page.
export default function Page() {
  const { page, builderApiKey } = useLoaderData${n?"<typeof loader>":""}();
  // Render the page content from Builder.io
  return (
    <Content
      model="${r}"
      apiKey={builderApiKey}
      content={page}
      customComponents={CUSTOM_COMPONENTS}
    />
  );
}
    `:`
import { BuilderComponent, builder } from "@builder.io/react";
import { useLoaderData } from "@remix-run/react";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(o)};
${s}

// Fetch contents of the page
export const loader = async ({ params, request, context }${i}) => {
  // Initialize the Builder client and pass in your Public API Key
  const builderApiKey = ${a};
  builder.init(builderApiKey);

  // Fetch data content from Builder.io based on the URL path
  const page = await builder
    .get("${r}", {
      userAttributes: {
        urlPath: "/" + params["*"],
      },
      locale: params.locale,
    })
    .toPromise();

  // Verify the user is previewing or editing in Builder
  const isPreviewing = new URL(request.url).searchParams.has("builder.preview");

  // If the page is not found and the user is not previewing, throw a 404.
  // The CatchBoundary component will catch the error
  if (!page && !isPreviewing) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText:
        "We couldn't find this page, please check your url path and if the page is published on Builder.io.",
    });
  }

  return { page, builderApiKey };
};

// Define and render the page.
export default function Page() {
  // Use the useLoaderData hook to get the Page data from "loader" above.
  const { page, builderApiKey } = useLoaderData${n?"<typeof loader>":""}();

  // Render the page content from Builder.io
  return (
    <BuilderComponent
      customComponents={CUSTOM_COMPONENTS}
      apiKey={builderApiKey}
      model="${r}"
      content={page}
    />
  );
}

${n?`
declare global {
  interface Env {
    ${Vi}: string;
  }
}
`:""}
`}async function UR(e,t){let n=e.typescriptEnabled?"tsx":"jsx",o=e.join(e.componentsDir,"Counter"),s=e.join(o,`Counter.${n}`),i=e.join(o,"styles.module.css"),{component:a,styles:u}=VR(e),c=await e.exists(s);if(e.debug(`remixEnsureCounterComponent, hasCounterCmp: ${c}`),!c){let p=await e.formatCode(s,a);await e.writeFile(s,p),t.push({filePath:s,modifiedType:"create"})}let l=await e.exists(i);return e.debug(`remixEnsureCounterComponent, hasCounterStyles: ${l}`),l||(await e.writeFile(i,u),t.push({filePath:i,modifiedType:"create"})),s}function VR(e){let t=e.typescriptEnabled,r=`
import { useState } from "react";
import styles from "./styles.module.css";
${t?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${t?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
  color: #1c6bd1;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:r,styles:n}}async function HR(e,t){let n=(await Hr(e,null,!1,!1,null,null,!1,!1)).components.find(o=>o.filePath===t);n&&await Hr(e,n.id,!0,!1,null,null,!0,!1)}async function za(e){let t=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,qR(e)),t.push({filePath:e.registryPath,modifiedType:"create"})),t}function qR(e){let t=e.sdkVersion===q.gen2;return e.typescriptEnabled?`import type { RegisteredComponent } from ${t?'"@builder.io/sdk-react"':'"@builder.io/react"'};

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function xy(e){let t=await GR(e);return{builderPageOptions:async()=>{let n="/builder-demo",o=t.hasLocaleParam?`/en-us${n}`:void 0;return{templateContentId:"a5c9eef7909d4fc99554264a17de22c9",pathname:n,localePathname:o,title:"Builder + Remix Demo Page"}},ensureBuilderSetup:()=>Cy(t),ensureFigmaImportPage:()=>wy(t),getRegistryPath:()=>t.registryPath,getRegistry:n=>Hr(t,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{t.addExternalPackage(n)},loadComponent:async n=>{let o=await Hr(t,n.cmpId,!1,!1,null,null,!1,!1);return{...o,component:o.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Hr(t,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Hr(t,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Hr(t,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Hr(t,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ui(t),setPublicApiKey:n=>gy(t,n.publicApiKey),getDependencies:n=>n.sdkVersion===q.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>or(t),setCache:n=>ir(t,n)}}async function GR(e){let t=await WR(e),r=e.getAppRootDir(),n=await ZR(e),o=e.dirname(n),s=e.join(o,"components"),i=await St(e),a=await Ft(e,o),u={},c={...e,registryPath:a,remixConfigPath:t,typescriptEnabled:i,appDir:o,componentsDir:s,routesDir:n,hasLocaleParam:await KR(e,n),addExternalPackage:l=>{u[e.join(r,l,"index.ts")]=`export * from "${l}";`},readFileSync:l=>u[l]??e.readFileSync(l),existsSync:l=>!!u[l]||e.existsSync(l),readdirSync:l=>{let p=e.readdirSync(l);return l===r?[...p,...Object.keys(u).map(d=>d.slice(r.length+1))]:p},readdir:async l=>{let p=await e.readdir(l);return l===r?[...p,...Object.keys(u).map(d=>d.slice(r.length+1))]:p}};return e.sdkVersion?c.sdkVersion=e.sdkVersion:c.sdkVersion=await Mo(c),c}async function KR(e,t){return(await e.readdir(t)).some(n=>n.startsWith("($locale)."))}async function WR(e){let t=["remix.config.ts","remix.config.js","vite.config.ts","vite.config.js"];for(let r of t){let n=e.join(e.getAppRootDir(),r);if(await e.exists(n))return n}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find Remix config file. Searched for ${t.join(", ")} in "${e.getAppRootDir()}".`)}async function ZR(e){let t=await $i(e,e.getAppRootDir(),"routes");if(t)return t;throw new Error(`Could not find Remix "routes" directory in "${e.getAppRootDir()}". Please ensure this command is ran from within your Remix project's directory.`)}async function Hi(e){let t=[".env"],r=e.configType==="vite"?qi:ja;return await Ir(e,t,r)}async function Sy(e,t){let r=await Hi(e),n=await Nr(e,r.file,r.envKey,t);return{...r,modifiedType:n}}var qi="VITE_PUBLIC_BUILDER_KEY",ja="PUBLIC_BUILDER_KEY";function Ey(e,t){let r=`Builder.registerComponent(
`;r+=`  ${t.importName},
`,r+=`  {
    name: "${t.name}",
  }
`,r+=");";let n=Ea(e,r);return ll(e,n,t)}function ll(e,t,r){if(!e.ts.isExpressionStatement(t))return t;let n=t.expression;if(!e.ts.isCallExpression(n))return t;let o=[...n.arguments];if(o.length<2)return t;let s=o[1];return e.ts.isObjectLiteralExpression(s)?(o[1]=Qe(e,s,r),e.ts.factory.updateExpressionStatement(t,e.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,o))):t}async function _y(e){let t=await e.readFile(e.registryPath);return t?JR(e,t):{components:[],sourceFile:se(e,"")}}async function JR(e,t){let r=se(e,t);return e.sdkVersion===q.gen2?XR(e,r):YR(e,r)}async function YR(e,t){let r=[];for(let n=0;n<t.statements.length;n++){let o=t.statements[n];if(!e.ts.isExpressionStatement(o))continue;let s=o.expression;if(!e.ts.isCallExpression(s))continue;let i=s.expression;if(!e.ts.isPropertyAccessExpression(i))continue;let a=i.expression;if(!e.ts.isIdentifier(a)||a.text!=="Builder"||i.name.text!=="registerComponent")continue;let c=s.arguments;if(c.length<2)continue;let l=c[1];if(!e.ts.isObjectLiteralExpression(l))continue;let p=c[0];if(e.ts.isIdentifier(p)){let d=await QR(e,t,n,p,l,!1);d&&r.push(d);continue}}return{sourceFile:t,components:Rt(r)}}async function QR(e,t,r,n,o,s){let i={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:s,framework:"react"},a=t.statements.filter(c=>e.ts.isImportDeclaration(c)),u=a.find(c=>c.importClause&&c.importClause.name?.text===n.text);if(u){let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;i.filePath=await pl(e,c.text),i.relFilePath=e.relative(e.getAppRootDir(),i.filePath),i.importPath=Ee(e,i.filePath),i.name=tr(e,i.filePath),i.importName=n.text,i.exportName="default",i.exportType="default"}else{let c=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(h=>h.name.text===n.text));if(!c)return null;let l=c.moduleSpecifier;if(!e.ts.isStringLiteral(l))return null;let p=await pl(e,l.text);i.filePath=await pl(e,l.text),i.relFilePath=e.relative(e.getAppRootDir(),i.filePath),await e.exists(p)?i.importPath=Ee(e,i.filePath):(i.externalImportPath=l.text,i.importPath=i.externalImportPath),i.name=Se(n.text),i.importName=n.text,i.exportName=n.text,i.exportType="named"}return i=$t(e,i,o),i.displayFilePath=ge(e,i.filePath),i.filePath&&i.exportName&&(i.id=await we(e,i.filePath,i.exportName,i.externalImportPath)),i}function pl(e,t){return zi(e,e.normalize(e.resolve(e.dirname(e.registryPath),t)))}async function XR(e,t){let r=[],n=We(e,t,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(o,s)=>{let i=await dl(e,t,o);i&&(i.nodeIndex=s,r.push(i))})),{sourceFile:t,components:Rt(r)}}async function dl(e,t,r){if(!e.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};Fo(e,r)&&(n.acceptsChildren=!0);for(let s of r.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(ye(e,s)==="component"){let a,{initializer:u}=s;if(e.ts.isIdentifier(u)&&(a=u.text),!a)continue;n.name===""&&(n.name=Se(a)),n.importName=a;let c=await Mr(e,e.registryPath,t,a);if(!c)continue;n.filePath=c.filePath,n.relFilePath=c.relFilePath,await e.exists(c.filePath)?n.importPath=Ee(e,c.filePath):(n.externalImportPath=c.importPath,n.importPath=n.externalImportPath),n.displayFilePath=c.displayFilePath,n.exportType=c.exportType;let l=t.statements.filter(d=>e.ts.isImportDeclaration(d)),p=l.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=l.find(m=>!m.importClause||!m.importClause.namedBindings||!e.ts.isNamedImports(m.importClause.namedBindings)?!1:m.importClause.namedBindings.elements.some(f=>f.name.text===a));if(!d)return null;let h=d.moduleSpecifier;if(!e.ts.isStringLiteral(h))return null;n.exportName=a}continue}}return n=$t(e,n,r),n.filePath&&n.exportName&&(n.id=await we(e,n.filePath,n.exportName,n.externalImportPath)),n}async function qr(e,t,r,n,o,s,i,a){let u=await Pn(e),[c,l,p,d]=await Promise.all([Bg(e,u),_y(e),St(e),Hi(e)]),h=c.map(w=>w.cmpInfo),m=l.components,f={components:wr(h,m),registryPath:e.registryPath,registryDisplayPath:ge(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:sr(h),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return f.components=await Io(e,f.components),f;let g=!1,y=l.sourceFile,b=Array.isArray(t)?t:typeof t=="string"?[t]:[];if(b.length>0){let w=b.map(R=>{let $=c.find(I=>I.cmpInfo.id===R);if(!$)throw new Error(`Component ${R} not found`);return $}),T=Array.from(new Set(w.map(R=>R.cmpInfo.filePath))),E=await Ye(e,T);for(let R of w){let $=f.components.find(v=>v.id===R.cmpInfo.id),I=await No(e,R,E,e.registryPath===R.cmpInfo.filePath||er(R.cmpInfo.filePath));Gt($,I);let k=h.findIndex(v=>v.id===R.cmpInfo.id);h[k].inputs=I;let F=jr(R.cmpInfo.id,h,m,r,n,o,s);if(e.sdkVersion===q.gen2){let{elements:v,elmIndex:z,statementIndex:V,statement:G,variableDeclaration:x}=await eF(e,y,R);if(F.addCmpToRegistry)v.push(tF(e,F.addCmpToRegistry)),g=!0;else if(F.removeCmpFromRegistry)v.splice(z,1),g=!0;else if(F.updateRegisteredCmp){let _=Qe(e,v[z],F.updateRegisteredCmp),je=e.ts.factory.createIdentifier(F.updateRegisteredCmp.importName);v[z]=e.ts.factory.updateObjectLiteralExpression(_,[e.ts.factory.createPropertyAssignment("component",je),..._.properties.slice(1)]),g=!0}if(g&&i){let _=[...y.statements];_[V]=e.ts.factory.updateVariableStatement(G,G.modifiers,e.ts.factory.updateVariableDeclarationList(G.declarationList,[e.ts.factory.updateVariableDeclaration(x,x.name,x.exclamationToken,x.type,e.ts.factory.createArrayLiteralExpression(Br(e,v)))])),y=e.ts.factory.updateSourceFile(y,_),y=Py(e,F,y),y=ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-react",isTypeOnly:!0}),y=Ur(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),f.components=F.components,m=F.components.filter(je=>je.isRegistered)}}else{let v=[...y.statements];F.addCmpToRegistry?(v.push(Ey(e,F.addCmpToRegistry)),g=!0):F.removeCmpFromRegistry?(v.splice(F.nodeIndex,1),g=!0):F.updateRegisteredCmp&&(v[F.nodeIndex]=ll(e,v[F.nodeIndex],F.updateRegisteredCmp),g=!0),g&&i&&(y=e.ts.factory.updateSourceFile(y,v),y=ce(e,y,{namedImports:["Builder","builder"],importPath:"@builder.io/react"}),y=Py(e,F,y),$?.acceptsChildren&&(y=ce(e,y,{namedImports:["withChildren"],importPath:"@builder.io/react"})),f.components=F.components,m=F.components.filter(z=>z.isRegistered))}}}if(g&&i){y=zr(e,y),y=Lr(e,y);let w=et(e,y);w=Cr(w),w=await e.formatCode(e.registryPath,w),await e.writeFile(e.registryPath,w)}return f}async function eF(e,t,r){let n=We(e,t,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let o=n.arrayLiteralExp.elements.filter(i=>e.ts.isObjectLiteralExpression(i)),s=-1;for(let i=0;i<o.length;i++)if((await dl(e,t,o[i]))?.id===r.cmpInfo.id){s=i;break}return{...n,elements:o,elmIndex:s}}function tF(e,t){let r=e.ts.factory.createIdentifier(t.importName);return Qe(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",r),...t.acceptsChildren?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),t)}function Py(e,t,r){let n=t.addCmpToRegistry||t.updateRegisteredCmp;if(n){let o=n.externalImportPath?n.externalImportPath:ae(e,e.registryPath,n.filePath);n.exportType==="default"?r=ce(e,r,{defaultImport:n.importName,importPath:o}):n.exportType==="named"&&(r=ce(e,r,{namedImports:[n.importName],importPath:o}))}return r}async function Ty(e){let t=[],r=await rF(e,t);if(await Fy(e,t,r),!await e.exists(e.builderComponentPath)){let n=await e.formatCode(e.builderComponentPath,Ry(e,e.builderComponentPath));await e.writeFile(e.builderComponentPath,n),t.push({filePath:e.builderComponentPath,modifiedType:"create"})}return t}async function Ay(e){let t=[];await Fy(e,t);let r=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(e.componentsDir,r);if(!await e.exists(n)){let o=await e.formatCode(n,Ry(e,n,"figma-imports"));await e.writeFile(n,o),t.push({filePath:n,modifiedType:"create"})}return t}function Ry(e,t,r="page"){let n=e.typescriptEnabled;return e.sdkVersion===q.gen2?`
  import React from "react";
  import {
      Content,
      fetchOneEntry,
      getBuilderSearchParams,
      isPreviewing,
    ${n?"type BuilderContent,":""}
    } from "@builder.io/sdk-react";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(ae(e,t,e.registryPath))};

  // Builder Public API Key set in .env file
  const BUILDER_API_KEY = ${e.configType==="vite"?`import.meta.env.${qi};`:`${ja};`}
  const MODEL_NAME = "${r}";

  export default function BuilderPage() {
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState${n?"<BuilderContent | null>":""}(null);

  // get the page content from Builder
  React.useEffect(() => {
    fetchOneEntry({
      model: MODEL_NAME,
      apiKey: BUILDER_API_KEY,
      userAttributes: {
        urlPath: window.location.pathname,
      },
      options: getBuilderSearchParams(new URL(location.href).searchParams),
    })
      .then((content) => {
        if (content) {
          setContent(content);
        }
        setNotFound(!content);
      })
      .catch((err) => {
        console.log("Oops: ", err);
      });
  }, []);

  // If no page is found, return
  // a 404 page from your code.
  if (notFound && !isPreviewing()) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
  <>
    {/* Render the Builder page */}
    <Content
      content={content}
      model={MODEL_NAME}
      apiKey={BUILDER_API_KEY}
      customComponents={CUSTOM_COMPONENTS}
    />
  </>
  );
}
    `:`
import React from "react";
import { BuilderComponent, builder, useIsPreviewing } from "@builder.io/react"; 
import ${JSON.stringify(ae(e,t,e.registryPath))};

// Builder Public API Key set in .env file
${e.configType==="vite"?`builder.init(import.meta.env.${qi}${n?"!":""})`:`builder.init("${ja}")`}

export default function BuilderPage() {
  const isPreviewingInBuilder = useIsPreviewing();
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState(null);

  // get the page content from Builder
  React.useEffect(() => {
    async function fetchContent() {
      const content = await builder
        .get("${r}", {
          url: window.location.pathname,
        })
        .promise();

      setContent(content);
      setNotFound(!content);

      // if the page title is found, 
      // set the document title
      if (content?.data.title) {
        document.title = content.data.title;
      }
    }
    fetchContent();
  }, []);
  
  if (content === null) {
    return;
  }
  // If no page is found, return 
  // a 404 page from your code.
  if (notFound && !isPreviewingInBuilder) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
    <>
      {/* Render the Builder page */}
      <BuilderComponent model="${r}" content={content} />
    </>
  );
}
`.trimStart()}async function Fy(e,t,r){if(!await e.exists(e.registryPath)){if(e.sdkVersion===q.gen2){let s=oF(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");t.push({filePath:e.registryPath,modifiedType:"create"})}if(!r)return;let o=(await qr(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===r);o&&await qr(e,o.id,!0,!1,null,null,!0,!1)}async function rF(e,t){let n=e.typescriptEnabled?"tsx":"jsx",o=e.join(e.componentsDir,"Counter"),s=e.join(o,`Counter.${n}`),i=e.join(o,"styles.module.css"),{component:a,styles:u}=nF(e);if(!await e.exists(s)){let c=await e.formatCode(s,a);await e.writeFile(s,c),t.push({filePath:s,modifiedType:"create"})}return await e.exists(i)||(await e.writeFile(i,u),t.push({filePath:i,modifiedType:"create"})),s}function nF(e){let t=e.typescriptEnabled,r=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${t?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${t?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:r,styles:n}}function oF(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-react";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function fl(e){let t=await iF(e);return{builderPageOptions:async()=>({templateContentId:"2e36438034894a8abf279ea9e6d3596f",pathname:"/builder-demo",title:"Builder + React Demo Page"}),ensureBuilderSetup:()=>Ty(t),ensureFigmaImportPage:()=>Ay(t),getRegistryPath:()=>t.registryPath,getRegistry:n=>qr(t,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{t.addExternalPackage(n)},loadComponent:async n=>{let o=await qr(t,n.cmpId,!1,!1,null,null,!1,!1);return{...o,component:o.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>qr(t,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>qr(t,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>qr(t,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>qr(t,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Hi(t),setPublicApiKey:n=>Sy(t,n.publicApiKey),getDependencies:n=>n.sdkVersion===q.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>or(t),setCache:n=>ir(t,n)}}async function iF(e){let t=await sF(e),r=e.getAppRootDir(),n=e.join(r,"src"),o=await St(e),s={},i={...e,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",reactConfigPath:t,typescriptEnabled:o,configType:"",addExternalPackage:a=>{s[e.join(r,a,"index.ts")]=`export * from "${a}";`},readFileSync:a=>s[a]??e.readFileSync(a),existsSync:a=>!!s[a]||e.existsSync(a),readdirSync:a=>{let u=e.readdirSync(a);return a===r?[...u,...Object.keys(s).map(c=>c.slice(r.length+1))]:u},readdir:async a=>{let u=await e.readdir(a);return a===r?[...u,...Object.keys(s).map(c=>c.slice(r.length+1))]:u}};return e.sdkVersion?i.sdkVersion=e.sdkVersion:i.sdkVersion=await Mo(i),t.includes("webpack.config")&&(i.configType="webpack"),t.includes("vite.config")&&(i.configType="vite"),await e.exists(n)?(i.srcDir=n,i.componentsDir=e.join(n,"components"),i.registryPath=await Ft(e,n),i.builderComponentPath=e.join(i.srcDir,`builder-page.${o?"tsx":"jsx"}`)):(i.componentsDir=e.join(r,"components"),i.registryPath=await Ft(e,r),i.builderComponentPath=e.join(r,`builder-page.${o?"tsx":"jsx"}`)),i}async function sF(e){let t=["vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts"];for(let r of t){let n=e.join(e.getAppRootDir(),r);if(await e.exists(n))return n}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find React config file. Searched for ${t.join(", ")} in "${e.getAppRootDir()}".`)}async function Gi(e){return await aF(e,["environment.ts"],Ua)}async function $y(e,t){let r=await Gi(e),n=await pF(e,r.file,r.envKey,t);return{...r,modifiedType:n}}async function aF(e,t,r){let n={envKey:r,envValue:null,file:""};for(let o of t){let s=e.join(e.getAppRootDir(),"src","environments",o),i=await uF(e,s);if(typeof i=="string"&&i.length>0&&i!=="YOUR_API_KEY")return n.envValue=i,n.file=s,n}return n.file=e.join(e.getAppRootDir(),"src","environments",t[t.length-1]),n}async function uF(e,t){let r=await e.readFile(t);return r?cF(e,r):""}function cF(e,t){let r=se(e,t),n="",s=$o(e,r,"environment");if(s&&s.statement.declarationList.declarations.length>0){let a=s.statement.declarationList.declarations[0].initializer;a&&e.ts.isObjectLiteralExpression(a)&&a.properties.forEach(u=>{e.ts.isPropertyAssignment(u)&&e.ts.isIdentifier(u.name)&&u.name.text===Ua&&e.ts.isStringLiteral(u.initializer)&&(n=u.initializer.text)})}return n}async function lF(e,t,r,n){let o=se(e,t),i=$o(e,o,"environment");if(i&&i.statement.declarationList.declarations.length>0){let a=i.statement.declarationList,u=a.declarations[0],c=u.initializer;if(c&&e.ts.isObjectLiteralExpression(c)){let l=e.ts.factory.createPropertyAssignment(e.ts.factory.createIdentifier(r),e.ts.factory.createStringLiteral(n)),p=e.ts.factory.createNodeArray([...c.properties,l]),d=e.ts.factory.updateObjectLiteralExpression(c,p),h=e.ts.factory.updateVariableDeclaration(u,u.name,u.exclamationToken,u.type,d),m=e.ts.factory.updateVariableDeclarationList(a,[h]);return e.ts.factory.updateVariableStatement(i.statement,i.statement.modifiers,m)}return null}return null}async function pF(e,t,r,n){let o=await e.readFile(t);if(o)if(o.includes(r))e.debug(`"${r}" already set in ${t}`);else{e.debug(`Add "${r}" to ${t}`);let s=await lF(e,o,r,n);if(s){let i=et(e,s),a=await e.formatCode(t,i);await e.writeFile(t,a)}return"update"}else{e.debug(`Creating new env file with "${r}" at ${t}`);let s=`
    // https://www.builder.io/c/docs/using-your-api-key
    export const environment = {
      production: false,
      builderApiKey: "${n}",
    };
    `.trimStart(),i=await e.formatCode(t,s);return await e.writeFile(t,i),"create"}return null}var Ua="builderApiKey";async function Iy(e,t){let r=[],n=t.getSourceFiles(),o=t.getTypeChecker();return await Promise.all(n.map(async s=>{let i=e.basename(s.fileName);if(mF(e,s.fileName)||i.startsWith(".")||i==="node_modules"||dF.has(i))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let u=await Va(e,o,a,s);r.push(...u)})),r.sort((s,i)=>s.cmpInfo.name.localeCompare(i.cmpInfo.name))}var dF=new Set([]),fF=new Set(["node_modules"]);function mF(e,t){for(let r of fF)if(e.dirname(t).includes(r))return!0;return!1}async function Ny(e,t){let r=e.extname(t).toLowerCase();if(r===".tsx"||r===".jsx"||r===".ts"||r===".js"){let n=await e.readFile(t);if(n)return hF(e,t,n)}return null}function hF(e,t,r){let n=se(e,r);return Va(e,null,t,n)}async function Va(e,t,r,n){let o=[],s={};r=e.normalize(r);let i=n.statements.filter(l=>e.ts.isClassDeclaration(l)&&CF(e,l)),a=n.statements.find(l=>e.ts.isImportDeclaration(l)&&e.ts.isStringLiteral(l.moduleSpecifier)&&l.moduleSpecifier.text==="@angular/core");if(a&&e.ts.isImportDeclaration(a)){let l=a.importClause?.namedBindings;if(l&&e.ts.isNamedImports(l)){let p=l.elements.find(d=>(d.propertyName??d.name).text==="input");p&&(s.inputSignalImportName=p.name.text)}}let u=await yF(e,t,r,n),c=wF(e,n);return await Promise.all(i.map(async l=>{let p=await gF(e,t,r,l,c,s);o.push(...p)})),o.push(...u),o}async function ml(e,t,r){if(t.node.fnNode){let{sourceFile:n,typeChecker:o}=await Eo(e,t.cmpInfo.filePath,r),i=(await Va(e,o,t.cmpInfo.filePath,n)).find(a=>a.cmpInfo.id===t.cmpInfo.id);if(!i)throw new Error(`Could not find component ${t.cmpInfo.name} in ${t.cmpInfo.filePath}`);return i.cmpInfo.inputs}return[]}async function Oy(e,t,r){let n=await Ye(e,r.map(i=>i.filePath)),o=n.getTypeChecker();return await Promise.all(r.filter(i=>!(i.name.endsWith("Page")||i.name.endsWith("Module")||i.name==="AppComponent")).map(async i=>{if(!i.isRegistered){let a=n.getSourceFile(i.filePath);if(a){let c=(await Va(e,o,i.filePath,a)).find(l=>l.cmpInfo.id===i.id);if(c){i.inputs=Jn(e,o,c.node.fnNode);let l=t.find(p=>p.cmpInfo.id===i.id);if(l){let p=await ml(e,l,n);Gt(i,p)}}}}return i}))}async function gF(e,t,r,n,o,s){let i=[],a=e.relative(e.getAppRootDir(),r),u=Ee(e,r),c=n.name?.text;if(!c)return i;let l=!1;n.modifiers&&(l=n.modifiers.some(m=>m.kind===e.ts.SyntaxKind.DefaultKeyword));let p=l?"default":c,d=l?"default":"named",h=[];return n.members.forEach(m=>{if(e.ts.isPropertyDeclaration(m)||e.ts.isGetAccessor(m)||e.ts.isSetAccessor(m)){let y=(e.ts.getDecorators(m)??[]).find(w=>DF(e,w))!==void 0&&e.ts.isIdentifier(m.name),b=s?.inputSignalImportName!==void 0&&e.ts.isIdentifier(m.name)&&vF(e,m,s.inputSignalImportName);if(y||b){let w="any";if(e.ts.isSetAccessor(m))w=ky(e,m.parameters[0].type);else if(m.type&&t){let E=t.getTypeAtLocation(m.type);w=t.typeToString(E)}else w=ky(e,m.type);let T={name:m.name.text,type:o[w]?"string":w};o[w]&&(T.enum=o[w]),h.push(T)}}}),i.push({cmpInfo:{id:await we(e,r,c),displayFilePath:ge(e,r),name:Se(c),inputs:h,exportName:p,exportType:d,importName:c,filePath:r,relFilePath:a,importPath:u,meta:{...xF(e,n)},framework:"angular"},node:{name:c,fnNode:n,deps:void 0}}),i}async function yF(e,t,r,n){let o=[],s=e.relative(e.getAppRootDir(),r),i=Ee(e,r);for(let a of n.statements)if(e.ts.isExportDeclaration(a)&&a.exportClause&&e.ts.isNamedExports(a.exportClause))for(let u of a.exportClause.elements){let c=u.name?.text;if(!c)continue;let l=c,p="named",d=[];if(t){let f=t.getSymbolAtLocation(u.name);if(f){let g=t.getDeclaredTypeOfSymbol(f);t.getPropertiesOfType(g).forEach(b=>{let w=b.getDeclarations();w&&w.forEach(T=>{if(e.ts.isPropertyDeclaration(T)){let E=t.getTypeAtLocation(T),R={name:b.getName(),type:bF(e,t,E)};d.push(R)}})})}}let h=e.ts.isExportSpecifier(u)&&u.parent?u.parent.parent:void 0,m;if(h){let f=h.moduleSpecifier;if(f&&e.ts.isStringLiteral(f)){let g=t?.getSymbolAtLocation(f);if(g&&g.declarations&&g.declarations.length>0){let y=g.declarations[0];(!e.ts.isSourceFile(y)||e.ts.isSourceFile(y)&&y.fileName.includes("node_modules"))&&(m=f.text)}}}o.push({cmpInfo:{id:await we(e,r,c,m),displayFilePath:ge(e,r),name:Se(c),inputs:d,exportName:l,exportType:p,importName:c,filePath:r,relFilePath:s,importPath:m||i,externalImportPath:m,framework:"angular"},node:{name:c,fnNode:u,deps:void 0}})}else if(e.ts.isExportDeclaration(a)&&!a.exportClause&&a.moduleSpecifier&&e.ts.isStringLiteral(a.moduleSpecifier)){let u=a.moduleSpecifier.text;if(t)try{let c=t.getSymbolAtLocation(a.moduleSpecifier);if(c&&c.exports){let l=t.getExportsOfModule(c);for(let p of l)if(p.flags&e.ts.SymbolFlags.Class){let d=p.getName();if(d.startsWith("_"))continue;o.push({cmpInfo:{id:await we(e,r,d,u),displayFilePath:ge(e,r),name:Se(d),inputs:[],exportName:d,exportType:"named",importName:d,filePath:r,relFilePath:s,importPath:u,externalImportPath:u,framework:"angular"},node:{name:d,fnNode:a,deps:void 0}})}}}catch(c){console.warn(`Error processing star export from ${u}:`,c)}}return o}function DF(e,t){return My(e,t,"Input")}function vF(e,t,r){return e.ts.isPropertyDeclaration(t)&&t.initializer!==void 0&&e.ts.isCallExpression(t.initializer)&&e.ts.isIdentifier(t.initializer.expression)&&t.initializer.expression.text===r}function My(e,t,r){if(e.ts.isCallExpression(t.expression)){let n=t.expression;if(e.ts.isIdentifier(n.expression))return n.expression?.text===r}return!1}function CF(e,t){return!!e.ts.getDecorators(t)?.some(o=>e.ts.isCallExpression(o.expression)&&e.ts.isIdentifier(o.expression.expression)&&o.expression.expression.text==="Component")}function ky(e,t){if(!t)return"any";let r="any";switch(t.kind){case e.ts.SyntaxKind.StringKeyword:r="string";break;case e.ts.SyntaxKind.NumberKeyword:r="number";break;case e.ts.SyntaxKind.BooleanKeyword:r="boolean";break;case e.ts.SyntaxKind.TypeReference:e.ts.isTypeReferenceNode(t)&&e.ts.isIdentifier(t.typeName)&&(r=t.typeName.text);break}return r.includes("|")?"string":r}function wF(e,t){let r={};return e.ts.forEachChild(t,n=>{e.ts.isTypeAliasDeclaration(n)&&e.ts.isUnionTypeNode(n.type)&&n.type.types.every(o=>e.ts.isLiteralTypeNode(o)&&e.ts.isStringLiteral(o.literal))&&(r[n.name.text]=n.type.types.map(o=>o.literal.text))}),r}function bF(e,t,r){let n=t.typeToString(r);if(n==="any"){let o=r.getSymbol();if(o){let s=o.getDeclarations();if(s&&s.length>0){let i=s[0];if(e.ts.isVariableDeclaration(i)){let a=i.type;a&&(n=t.typeToString(t.getTypeAtLocation(a)))}}}}return n}function xF(e,t){let{getDecorators:r,isCallExpression:n,isIdentifier:o,isObjectLiteralExpression:s,isPropertyAssignment:i,isStringLiteral:a,SyntaxKind:u}=e.ts,c,l;return r(t)?.forEach(d=>{if(My(e,d,"Component")){let{expression:h}=d;if(n(h)){let[m]=h.arguments;s(m)&&m.properties.forEach(f=>{i(f)&&o(f.name)&&(f.name.escapedText==="selector"&&a(f.initializer)&&(c=f.initializer.text),f.name.escapedText==="standalone"&&(l=f.initializer.kind===u.TrueKeyword))})}}}),{selector:c,standalone:l}}async function Ha(e,t,r){let n=e.typescriptEnabled?".ts":".js",o=`app.module${n}`,s=e.join(e.appDir,o),i=await e.readFile(s);if(!i){e.Sentry?.captureException(new Error(`Unable to read app.module.${n} at ${s}`),{extra:{appModuleCode:i,appModulePath:s}});return}let a=await SF(e,s,t,r,i);if(!a){e.Sentry?.captureException(new Error(`Unable to update app.module.${n} at ${s}`),{extra:{appModuleCode:i,appModulePath:s}});return}return await e.writeFile(s,a),s}async function SF(e,t,r,n,o){let s=o,i=se(e,o),a=ae(e,t,n);i=ce(e,i,{namedImports:[r],importPath:a}),i=ce(e,i,{namedImports:["Content"],importPath:"@builder.io/sdk-angular"});let u=[];for(let c of i.statements)if(e.ts.isClassDeclaration(c)&&c.name?.text==="AppModule"){let l=EF(e,r,c);u.push(l)}else u.push(c);return i=e.ts.factory.updateSourceFile(i,u),s=et(e,i),s}function EF(e,t,r){let n=e.ts.getDecorators(r);if(n){for(let o of n)if(e.ts.isCallExpression(o.expression)&&e.ts.isIdentifier(o.expression.expression)&&o.expression.expression.text==="NgModule"){let s=o.expression.arguments;if(s.length===1&&e.ts.isObjectLiteralExpression(s[0])){let i=Ly(e,s[0],"declarations",t);if(i){let a=Ly(e,i,"imports","Content");if(a&&(i=a),i){let u=e.ts.factory.updateDecorator(o,e.ts.factory.updateCallExpression(o.expression,o.expression.expression,o.expression.typeArguments,[i])),l=[...n.map(p=>p===o?u:p),...e.ts.getModifiers(r)||[]];return e.ts.factory.updateClassDeclaration(r,l,r.name,r.typeParameters,r.heritageClauses,r.members)}}}}}return r}function Ly(e,t,r,n){let o=[...t.properties],s=o.findIndex(a=>ye(e,a)===r);if(s>-1){let a=o[s];if(e.ts.isPropertyAssignment(a)&&a.initializer&&e.ts.isArrayLiteralExpression(a.initializer)){let u=By(e,a.initializer,n);return u?(o[s]=e.ts.factory.updatePropertyAssignment(a,a.name,u),e.ts.factory.updateObjectLiteralExpression(t,o)):null}return null}let i=By(e,e.ts.factory.createArrayLiteralExpression([],!0),n);return i?e.ts.factory.updateObjectLiteralExpression(t,[...o,e.ts.factory.createPropertyAssignment(r,i)]):null}function By(e,t,r){return t.elements.some(o=>e.ts.isIdentifier(o)?o.text===r:!1)?null:e.ts.factory.updateArrayLiteralExpression(t,[...t.elements,e.ts.factory.createIdentifier(r)])}async function hl(e,t,r,n){let s=`app.routes${e.typescriptEnabled?".ts":".js"}`,i=e.join(e.appDir,s);try{if(e.magicast){let a=await e.magicast.loadFile(i);Object.keys(a.exports).length===0&&(a.exports.routes=[]);let c=Object.keys(a.exports)[0],l=a.exports[c];if(l.find(d=>d.path===t))return;let p=e.magicast.builders.raw("{}");if(p.path=t,p.component=e.magicast.builders.raw(r),l.push(p),a.imports.$items.find(d=>d.imported===r))return;a.imports.$append({imported:r,from:n}),await e.magicast.writeFile(a,i)}}catch(a){let u=null;try{u=e.readFileSync(i)}catch(c){e.Sentry?.captureException(c,{level:"warning"})}e.Sentry?.captureException(a,{extra:{content:u,appRoutesPath:i,componentName:r,componentPath:n}})}}var Yy=H(Jy(),1);async function Qy(e){let t=e.ts.findConfigFile(e.getAppRootDir(),e.existsSync);if(t){let r=await e.readFile(t);if(!r)return;let n=Yy.default.parse(r);if(!n||typeof n!="object"||Array.isArray(n))return;let o=n.compilerOptions;if(!o||typeof o!="object"||Array.isArray(o))return;let s=o.paths;(!s||typeof s!="object"||Array.isArray(s))&&(o.paths={},s=o.paths),Object.assign(o.paths,{"~/*":["./src/*"]}),await e.writeFile(t,JSON.stringify(n,null,2))}}async function Xy(e){let t=[],r=await OF(e,t);t.push(...await Za(e)),await IF(e,r);let n="BuilderPage";if(!await e.exists(e.builderPageComponentPath)){let o=await e.formatCode(e.builderPageComponentPath,tD(e,n,e.builderPageComponentPath,"builder-page","page",!0));await e.writeFile(e.builderPageComponentPath,o),t.push({filePath:e.builderPageComponentPath,modifiedType:"create"})}if(e.hasAppModule){await Ha(e,"Counter",r);let o=await Ha(e,n,e.builderPageComponentPath);o&&t.push({filePath:o,modifiedType:"update"})}return await hl(e,"**",n,"./components/builder-page.component"),t}async function eD(e){let t=[];t.push(...await Za(e));let r="FigmaImportsPage",n="figma-imports.component",o=e.join(e.componentsDir,`${n}.${e.typescriptEnabled?"ts":"js"}`);if(!await e.exists(o)){let s=await e.formatCode(o,tD(e,r,o,"figma-imports","figma-imports",!1));await e.writeFile(o,s),t.push({filePath:o,modifiedType:"create"})}if(e.hasAppModule){let s=await Ha(e,r,o);s&&t.push({filePath:s,modifiedType:"update"})}return await hl(e,"figma-imports",r,`./components/${n}`),await Qy(e),t}async function Za(e){let t=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,NF(e)),t.push({filePath:e.registryPath,modifiedType:"create"})),t}async function IF(e,t){let n=(await Gr(e,null,!1,!1,null,null,!1,!1)).components.find(o=>o.filePath===t);n&&await Gr(e,n.id,!0,!1,null,null,!0,!1)}function tD(e,t,r,n,o,s){let i=!e.hasAppModule,a=ae(e,r,e.registryPath),u=e.join(e.getAppRootDir(),"src","environments","environment.ts"),c=ae(e,r,u),l=s?`    <ng-container *ngIf="content || isPreviewing; else notFound">
      <builder-content
        [model]="model"
        [content]="content"
        [apiKey]="apiKey"
        [customComponents]="customComponents"
      ></builder-content>
    </ng-container>

    <ng-template #notFound>
      <div>404 - Content not found</div>
    </ng-template>`:`    <builder-content
      [model]="model"
      [content]="content"
      [apiKey]="apiKey"
      [customComponents]="customComponents"
    ></builder-content>`;return`
import { Component, Input } from '@angular/core';
import { fetchOneEntry, type BuilderContent${s?", isPreviewing":""} } from '@builder.io/sdk-angular';
${i?"import { Content } from '@builder.io/sdk-angular';":""}
${i?"import { CommonModule } from '@angular/common';":""}
import { environment } from ${JSON.stringify(c)};
import { CUSTOM_COMPONENTS } from ${JSON.stringify(a)};

@Component({
  selector: 'app-${n}',
  ${i?"standalone: true,":""}
  ${i?"imports: [Content, CommonModule],":""}
  template: \`
${l}
  \`,
})
export class ${t} {
  
  ${s?`isPreviewing = isPreviewing();
`:""}
  @Input() model = '${o}';

  apiKey = environment.${Ua};
  ${e.typescriptEnabled?`
  content: BuilderContent | null = null;
`:`
  content = null;
`}

  customComponents = CUSTOM_COMPONENTS;

  async ngOnInit() {
    const urlPath = window.location.pathname || '/';

    const builderContent = await fetchOneEntry({
      model: this.model,
      apiKey: this.apiKey,
      userAttributes: {
        urlPath,
      },
    });

    if (!builderContent) {
      return;
    }

    this.content = builderContent;
  }
}

  `.trimStart()}function NF(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-angular";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function OF(e,t){let n=e.typescriptEnabled?"ts":"js",o=e.join(e.componentsDir,`counter.component.${n}`),s=await e.exists(o);e.debug(`angularEnsureCounterComponent, hasCounterCmp: ${s}`);let i=MF(e);if(!s){let a=await e.formatCode(o,i);await e.writeFile(o,a),t.push({filePath:o,modifiedType:"create"})}return o}function MF(e){return`
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-counter',
  ${e.hasAppModule?"":"standalone: true,"}
  template: \`
    <div class="counter">
      <button class="btn" (click)="decrement()">-</button>
      <span class="count">{{ count }}</span>
      <button class="btn" (click)="increment()">+</button>
    </div>
  \`,
  styles: [
    \`
      .counter {
        margin: 32px auto;
        display: flex;
        width: 100%;
        max-width: 190px;
      }

      .btn {
        width: 42px;
        font-size: 32px;
        font-weight: bold;
        background-color: #1c6bd1;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        line-height: 1.4;
      }

      .btn:hover {
        opacity: 0.8;
      }

      .count {
        flex: 1;
        font-size: 42px;
        text-align: center;
        margin: 0 8px;
      }
    \`,
  ],
})
export class Counter {
  @Input() initialCount: number = 99;
  count: number;

  constructor() {
    this.count = this.initialCount;
  }

  ngOnInit(): void {
    this.count = this.initialCount;
  }

  increment(): void {
    this.count += 1;
  }

  decrement(): void {
    this.count -= 1;
  }
}

`.trimStart()}async function rD(e){await Za(e);let t=await e.readFile(e.registryPath);return t?LF(e,t):{components:[],sourceFile:se(e,"")}}async function LF(e,t){let r=se(e,t);return BF(e,r)}async function BF(e,t){let r=[],n=We(e,t,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(o,s)=>{let i=await Sl(e,t,o);i&&(i.nodeIndex=s,r.push(i))})),{sourceFile:t,components:Rt(r)}}async function Sl(e,t,r){if(!e.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],framework:"angular"};for(let o of r.properties){if(!e.ts.isPropertyAssignment(o)||!e.ts.isIdentifier(o.name))continue;if(ye(e,o)==="component"){let i,{initializer:a}=o;if(e.ts.isIdentifier(a))i=a.text;else if(e.ts.isCallExpression(a)){let c=a.arguments[0];e.ts.isIdentifier(c)&&(i=c.text)}if(!i)continue;n.name===""&&(n.name=Se(i)),n.importName=i;let u=await Mr(e,e.registryPath,t,i);if(!u)continue;if(n.filePath=u.filePath,n.relFilePath=u.relFilePath,await e.exists(u.filePath)?n.importPath=Ee(e,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType,n.externalImportPath)n.exportName=i;else{let c=await Ny(e,u.filePath);if(c&&c.length>0)if(c.length===1)n.exportName=c[0].cmpInfo.exportName;else{let l=c.find(p=>p.cmpInfo.exportName===i);l&&(n.exportName=l.cmpInfo.exportName)}}continue}}return n=$t(e,n,r),n.filePath&&n.exportName&&(n.id=await we(e,n.filePath,n.exportName,n.externalImportPath)),n}async function Gr(e,t,r,n,o,s,i,a){let u=await Pn(e),[c,l,p]=await Promise.all([Iy(e,u),rD(e),Gi(e)]),d=c.map(b=>b.cmpInfo),h=l.components,m={components:wr(d,h),registryPath:e.registryPath,registryDisplayPath:ge(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:sr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return m.components=await Oy(e,c,m.components),m;let f=!1,g=l.sourceFile,y=Array.isArray(t)?t:typeof t=="string"?[t]:[];if(y.length>0){let b=y.map(E=>{let R=c.find($=>$.cmpInfo.id===E);if(!R)throw new Error(`Component ${E} not found`);return R}),w=Array.from(new Set(b.map(E=>E.cmpInfo.filePath))),T=await Ye(e,w);for(let E of b){let R=m.components.find(x=>x.id===E.cmpInfo.id),$=await ml(e,E,T);Gt(R,$);let I=d.findIndex(x=>x.id===E.cmpInfo.id);d[I].inputs=$;let k=jr(E.cmpInfo.id,d,h,r,n,o,s),{elements:F,elmIndex:v,statementIndex:z,statement:V,variableDeclaration:G}=await jF(e,g,E);if(k.addCmpToRegistry)F.push(zF(e,k.addCmpToRegistry)),f=!0;else if(k.removeCmpFromRegistry)F.splice(v,1),f=!0;else if(k.updateRegisteredCmp){let x=Qe(e,F[v],k.updateRegisteredCmp);F[v]=e.ts.factory.updateObjectLiteralExpression(x,[nD(e,k.updateRegisteredCmp),...x.properties.slice(1)]),f=!0}if(f&&i){let x=[...g.statements];x[z]=e.ts.factory.updateVariableStatement(V,V.modifiers,e.ts.factory.updateVariableDeclarationList(V.declarationList,[e.ts.factory.updateVariableDeclaration(G,G.name,G.exclamationToken,G.type,e.ts.factory.createArrayLiteralExpression(Br(e,F)))])),g=e.ts.factory.updateSourceFile(g,x),R.exportType==="named"?g=ce(e,g,{namedImports:[R.importName],importPath:R.externalImportPath?R.externalImportPath:ae(e,e.registryPath,R.filePath)}):g=ce(e,g,{defaultImport:R.importName,importPath:R.externalImportPath?R.externalImportPath:ae(e,e.registryPath,R.filePath)}),g=ce(e,g,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-angular",isTypeOnly:!0}),g=Ur(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=k.components,h=k.components.filter(_=>_.isRegistered)}}}if(f&&i){g=zr(e,g),g=Lr(e,g);let b=et(e,g);b=Cr(b),b=await e.formatCode(e.registryPath,b),await e.writeFile(e.registryPath,b)}return m}function nD(e,t){let r=e.ts.factory.createIdentifier(t.importName);return e.ts.factory.createPropertyAssignment("component",r)}function zF(e,t){return Qe(e,e.ts.factory.createObjectLiteralExpression([nD(e,t)],!0),t)}async function jF(e,t,r){let n=We(e,t,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let o=n.arrayLiteralExp.elements.filter(i=>e.ts.isObjectLiteralExpression(i)),s=-1;for(let i=0;i<o.length;i++)if((await Sl(e,t,o[i]))?.id===r.cmpInfo.id){s=i;break}return{...n,elements:o,elmIndex:s}}async function oD(e){let t=await UF(e);return{builderPageOptions:async()=>({templateContentId:"f0b8016ac92e474699293211a268ebaa",pathname:"/builder-demo",title:"Builder + Angular Demo Page"}),ensureBuilderSetup:()=>Xy(t),ensureFigmaImportPage:()=>eD(t),getRegistryPath:()=>t.registryPath,getRegistry:n=>Gr(t,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{t.addExternalPackage(n)},loadComponent:async n=>{let o=await Gr(t,n.cmpId,!1,!1,null,null,!1,!1);return{...o,component:o.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Gr(t,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Gr(t,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Gr(t,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Gr(t,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Gi(t),setPublicApiKey:n=>$y(t,n.publicApiKey),getDependencies:n=>[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-angular"},{name:"concurrently"}],getDevRunCommand:()=>"builder-dev",getCache:()=>or(t),setCache:n=>ir(t,n)}}async function UF(e){let t=await VF(e),r=e.getAppRootDir(),n=e.join(r,"src"),o=await St(e),s=e.join(n,"app"),i=await Ft(e,s),a={},u={...e,srcDir:"",appDir:"",componentsDir:"",registryPath:i,angularConfigPath:t,typescriptEnabled:o,builderPageComponentPath:"",hasAppModule:!1,addExternalPackage:p=>{a[e.join(r,p,"index.ts")]=`export * from "${p}";`},readFileSync:p=>a[p]??e.readFileSync(p),existsSync:p=>!!a[p]||e.existsSync(p),readdirSync:p=>{let d=e.readdirSync(p);return p===r?[...d,...Object.keys(a).map(h=>h.slice(r.length+1))]:d},readdir:async p=>{let d=await e.readdir(p);return p===r?[...d,...Object.keys(a).map(h=>h.slice(r.length+1))]:d}};if(!await e.exists(n))throw new Error(`Could not find src directory. Searched for src in "${e.getAppRootDir()}".`);u.srcDir=n,u.appDir=s,u.componentsDir=e.join(u.appDir,"components"),u.builderPageComponentPath=e.join(u.componentsDir,`builder-page.component.${o?"ts":"js"}`);let c=`app.module.${o?"ts":"js"}`,l=e.join(u.appDir,c);return await e.exists(l)&&(u.hasAppModule=!0),u}async function VF(e){let t=e.join(e.getAppRootDir(),"angular.json");if(await e.exists(t))return t;let r=e.join(e.getAppRootDir(),"project.json");if(await e.exists(r))return r;if(e.ignoreMissingConfig)return"";throw new Error(`Could not find Angular config file. Searched for angular.json & project.json in "${e.getAppRootDir()}".`)}async function Zi(e){let t=e.configType==="vite"?HF:qF;return await Ir(e,[".env"],t)}async function iD(e,t){let r=await Zi(e),n=await Nr(e,r.file,r.envKey,t);return{...r,modifiedType:n}}var HF="VITE_PUBLIC_BUILDER_KEY",qF="PUBLIC_BUILDER_KEY";async function aD(e,t,r){try{let n=await e.readFile(t);if(!n)return null;let o=e.relative(e.getAppRootDir(),t),s=t.split("/").pop()?.replace(".vue","")||"UnknownComponent",i=ZF(s),a=KF(n,r),u=GF(n);return{id:JF(t),name:i,filePath:o,relFilePath:o,inputs:a,framework:"vue",exportType:"default",exportName:"default",importName:i,importPath:o,vueApiType:u}}catch(n){return console.warn(`Failed to parse Vue component ${t}:`,n),null}}function GF(e){return/<script[^>]*\s+setup[^>]*>/.test(e)?"composition-setup":/import\s+\{[^}]*\b(ref|reactive|computed|watch|onMounted|defineComponent)\b[^}]*\}\s+from\s+['"]vue['"]/.test(e)||/setup\s*\([^)]*\)\s*\{/.test(e)?"composition":"options"}function KF(e,t){if(!t)return[];let r=[],n=[/defineProps<\s*\{([^}]+)\}\s*>\s*\(\s*\)/g,/defineProps\s*\(\s*\{([^}]+)\}\s*\)/g,/defineProps\s*\(\s*\[([^\]]+)\]\s*\)/g];for(let u of n){let c;for(;(c=u.exec(e))!==null;){let l=c[1];l.includes(":")?r.push(...El(l)):r.push(...sD(l))}}let o=/props\s*:\s*(\{[^}]+\}|\[[^\]]+\])/g,s;for(;(s=o.exec(e))!==null;){let u=s[1];if(u.startsWith("{")){let c=u.slice(1,-1);r.push(...El(c))}else{let c=u.slice(1,-1);r.push(...sD(c))}}let i=/setup\s*\(\s*props\s*(?::\s*\{([^}]+)\})?\s*[,)]?/g,a;for(;(a=i.exec(e))!==null;)a[1]&&r.push(...El(a[1]));return WF(r)}function El(e){let t=[],r=/(\w+)\s*:\s*([^,;]+)/g,n;for(;(n=r.exec(e))!==null;){let[,i,a]=n;t.push({name:i.trim(),type:_l(a.trim()),required:!a.includes("?")&&!a.includes("undefined")})}let o=/(\w+)\s*:\s*\{([^}]+)\}/g;for(;(n=o.exec(e))!==null;){let[,i,a]=n,u=a.match(/type\s*:\s*(\w+)/),c=a.match(/required\s*:\s*(true|false)/),l=a.match(/default\s*:\s*([^,}]+)/);t.push({name:i.trim(),type:u?_l(u[1]):"any",required:c?c[1]==="true":!1,defaultValue:l?l[1].trim():void 0})}let s=/(\w+)\s*:\s*(\w+)(?=\s*[,}])/g;for(;(n=s.exec(e))!==null;){let[,i,a]=n;t.some(u=>u.name===i.trim())||t.push({name:i.trim(),type:_l(a.trim()),required:!1})}return t}function sD(e){let t=[],r=e.split(",").map(n=>n.trim().replace(/['"]/g,"")).filter(n=>n.length>0);for(let n of r)t.push({name:n,type:"any",required:!1});return t}function _l(e){let t={String:"string",Number:"number",Boolean:"boolean",Array:"any[]",Object:"object",Function:"function",Date:"Date",Symbol:"symbol",string:"string",number:"number",boolean:"boolean",object:"object",function:"function"},r=e.replace(/\s*\|\s*undefined/g,"").replace(/\?$/,"");return t[r]||r||"any"}function WF(e){let t=new Set;return e.filter(r=>t.has(r.name)?!1:(t.add(r.name),!0))}function ZF(e){return e.replace(/[-_\s]+(.)?/g,(t,r)=>r?r.toUpperCase():"").replace(/^(.)/,(t,r)=>r?r.toUpperCase():"")}function JF(e){return e.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()}async function to(e,t){let r=await YF(e,t.readAllInputTypes),n=await Zi(e);return{components:r,registryPath:e.registryPath,registryDisplayPath:e.relative(e.getAppRootDir(),e.registryPath),frameworks:e.getFrameworks(),dependencies:sr(r),publicApiKey:n.envValue??void 0,devToolsVersion:e.version}}async function YF(e,t){let r=[],n=await QF(e,e.getAppRootDir());for(let o of n){let s=await aD(e,o,t);s&&r.push(s)}return r}async function QF(e,t){let r=[],n=async s=>{try{let i=await e.readdir(s);for(let a of i){let u=e.join(s,a);(await e.stat(u)).isDirectory()?!a.startsWith(".")&&a!=="node_modules"&&a!=="dist"&&a!=="build"&&a!==".nuxt"&&a!==".output"&&await n(u):a.endsWith(".vue")&&r.push(u)}}catch{}};await n(t);let o=["components","pages","layouts"];for(let s of o){let i=e.join(t,s);try{(await e.stat(i)).isDirectory()&&await n(i)}catch{}}return r}async function uD(e){let t={errors:[]};try{await lD(e)}catch(r){t.errors.push(r instanceof Error?r.message:String(r))}return t}async function cD(e){let t=[];t.push(...await lD(e));let n=e.join(e.componentsDir,"FigmaImports.vue");if(!await e.exists(n)){let o=await e.formatCode(n,XF(e,n,"figma-imports"));await e.writeFile(n,o),t.push({filePath:n,modifiedType:"create"})}return t}async function lD(e){let t=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,t$(e)),t.push({filePath:e.registryPath,modifiedType:"create"})),t}function XF(e,t,r="page"){let n=ae(e,t,e.registryPath),o=e.typescriptEnabled;return e.isNuxt?`<template>
  <div>
    <div v-if="pending">Loading...</div>
    <div v-else-if="error">Error loading content</div>
    <div v-else-if="!data && !$preview">404 - Content not found</div>
    <Content
      v-else
      :model="model"
      :content="data"
      :api-key="apiKey"
      :custom-components="customComponents"
    />
  </div>
</template>

<script${o?' lang="ts"':""} setup>
import { Content } from '@builder.io/sdk-vue'
import { CUSTOM_COMPONENTS } from '${n}'

const model = '${r}'
const apiKey = useRuntimeConfig().public.builderApiKey

const customComponents = CUSTOM_COMPONENTS

const { data, pending, error } = await useFetch(\`https://cdn.builder.io/api/v3/content/\${model}\`, {
  query: {
    apiKey,
    'userAttributes.urlPath': useRoute().path,
  }
})
</script>`:`<template>
  <div>
    <div v-if="loading">Loading...</div>
    <div v-else-if="!content && !isPreviewing">404 - Content not found</div>
    <Content
      v-else
      :model="model"
      :content="content"
      :api-key="apiKey"
      :custom-components="customComponents"
    />
  </div>
</template>

<script${o?' lang="ts"':""}>
import { defineComponent, ref, onMounted } from 'vue'
import { Content, fetchOneEntry, isPreviewing } from '@builder.io/sdk-vue'
import { CUSTOM_COMPONENTS } from '${n}'

export default defineComponent({
  name: 'FigmaImports',
  components: {
    Content
  },
  setup() {
    const model = '${r}'
    const apiKey = ${e$(e)}
    const content = ref${o?"<any>":""}(null)
    const loading = ref(true)
    const customComponents = CUSTOM_COMPONENTS

    onMounted(async () => {
      try {
        const builderContent = await fetchOneEntry({
          model,
          apiKey,
          userAttributes: {
            urlPath: window.location.pathname,
          },
        })

        content.value = builderContent
      } catch (error) {
        console.error('Error fetching content:', error)
      } finally {
        loading.value = false
      }
    })

    return {
      model,
      apiKey,
      content,
      loading,
      customComponents,
      isPreviewing: isPreviewing()
    }
  }
})
</script>`}function e$(e){return e.isNuxt?"useRuntimeConfig().public.builderApiKey":e.configType==="vite"?"import.meta.env.VITE_BUILDER_API_KEY":"process.env.VUE_APP_BUILDER_API_KEY"}function t$(e){return`import type { RegisteredComponent } from "@builder.io/sdk-vue";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
  // Add your Vue components here
  // Example:
  // {
  //   component: MyComponent,
  //   name: 'MyComponent',
  //   inputs: [
  //     {
  //       name: 'title',
  //       type: 'string',
  //       defaultValue: 'Hello World'
  //     }
  //   ]
  // }
];
`}async function pD(e){let t=await r$(e);return{builderPageOptions:async()=>({templateContentId:"vue-demo-template-id",pathname:"/builder-demo",title:"Builder + Vue Demo Page"}),ensureBuilderSetup:async()=>(await uD(t)).errors.length>0?[]:[],ensureFigmaImportPage:()=>cD(t),getRegistryPath:()=>t.registryPath,getRegistry:n=>to(t,{readAllInputTypes:!!n?.readAllInputTypes}),addExternalPackage:n=>{t.addExternalPackage(n)},loadComponent:async n=>{let o=await to(t,{readAllInputTypes:!1}),s=o.components.find(i=>i.id===n.cmpId);return{...o,component:s}},registerComponent:async n=>to(t,{readAllInputTypes:!1}),setRegisteredComponentInfo:async n=>to(t,{readAllInputTypes:!1}),setRegisteredComponentInput:async n=>to(t,{readAllInputTypes:!1}),unregisterComponent:async n=>to(t,{readAllInputTypes:!1}),getPublicApiKey:()=>Zi(t),setPublicApiKey:n=>iD(t,n.publicApiKey),getDependencies:n=>n.sdkVersion===q.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-vue"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/vue"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>or(t),setCache:n=>ir(t,n)}}async function r$(e){let t=await n$(e),r=e.getAppRootDir(),n=e.join(r,"src"),o=await St(e),s={},i={...e,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",vueConfigPath:t,typescriptEnabled:o,configType:"",isNuxt:await o$(e),addExternalPackage:c=>{s[e.join(r,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>s[c]??e.readFileSync(c),existsSync:c=>!!s[c]||e.existsSync(c),readdirSync:c=>{let l=e.readdirSync(c);return c===r?[...l,...Object.keys(s).map(p=>p.slice(r.length+1))]:l},readdir:async c=>{let l=await e.readdir(c);return c===r?[...l,...Object.keys(s).map(p=>p.slice(r.length+1))]:l}};t.includes("webpack.config")&&(i.configType="webpack"),(t.includes("vite.config")||t.includes("nuxt.config"))&&(i.configType="vite");let a=await e.exists(n);i.srcDir=a?n:null;let u=[e.join(r,"components"),e.join(r,"src","components"),e.join(r,"app","components")];for(let c of u)if(await e.exists(c)){i.componentsDir=c;break}return i.componentsDir||(i.componentsDir=a?e.join(n,"components"):e.join(r,"components")),i.registryPath=await Ft(e,i.componentsDir),i}async function n$(e){let t=["nuxt.config.ts","nuxt.config.js","vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts","vue.config.js","vue.config.ts"];for(let r of t){let n=e.join(e.getAppRootDir(),r);if(await e.exists(n))return n}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find Vue config file. Searched for ${t.join(", ")} in "${e.getAppRootDir()}".`)}async function o$(e){let t=["nuxt.config.ts","nuxt.config.js"];for(let r of t){let n=e.join(e.getAppRootDir(),r);if(await e.exists(n))return!0}try{let r=e.join(e.getAppRootDir(),"package.json");if(await e.exists(r)){let n=JSON.parse(await e.readFile(r)||"{}"),o={...n.dependencies,...n.devDependencies};return!!(o.nuxt||o["@nuxt/kit"]||o.nuxt3)}}catch{}return!1}var Xa=H(SD(),1);async function ED(e,t){let n={components:(await t.getRegistry()).components.filter(s=>s.isRegistered).map(s=>{let i={filePath:Dr(e.relative(e.getAppRootDir(),s.filePath)),name:s.name,image:s.image,description:s.description,exportName:s.exportName,inputs:Ht(s.inputs)};return Ht(i)}),version:1};e.debug("exporting registry components:",n.components.length);let o=(0,Xa.compress)(n);return btoa(JSON.stringify(o))}async function _D(e,t,r){if(typeof r!="string")throw new Error("Invalid registry to import");let n=await t.getRegistry(),o=JSON.parse(atob(r)),s=(0,Xa.decompress)(o),i=Ht(n);e.debug("importing registry components:",s.components.length);for(let a of s.components){let u=Dr(e.normalize(a.filePath)),c=n.components.find(p=>Dr(p.filePath).endsWith(u)&&p.exportName===a.exportName);if(!c){console.error(`Could not find component to register: ${a.filePath}, ${a.exportName}`);continue}e.debug(`register (${c.id})`,c.filePath),await t.registerComponent({cmpId:c.id});for(let p of a.inputs)e.debug(`set input (${c.id})`),await t.setRegisteredComponentInput({cmpId:c.id,name:p.name,type:p.type,required:p.required,defaultValue:p.defaultValue,friendlyName:p.friendlyName,helperText:p.helperText});e.debug(`set input (${c.id}) info`);let l=await t.setRegisteredComponentInfo({cmpId:c.id,name:a.name,image:a.image,description:a.description});i=Ht(l)}return i}var kt={react:"react",remix:"remix",angular:"angular",next:"next",qwik:"qwik",vue:"vue",native:"native"},wq={[kt.react]:[{version:q.gen1,recommended:!0},{version:q.gen2,recommended:!1}],[kt.remix]:[{version:q.gen1,recommended:!1},{version:q.gen2,recommended:!0}],[kt.angular]:[{version:q.gen2,recommended:!0}],[kt.next]:[{version:q.gen1,recommended:!0},{version:q.gen2,recommended:!1}],[kt.qwik]:[{version:q.gen2,recommended:!0}],[kt.vue]:[{version:q.gen1,recommended:!0},{version:q.gen2,recommended:!1}]};async function PD(e,t){let r=[],n=new Set;async function o(s){let i=e.join(s,"package.json");try{if(!await e.exists(i))return null;let u=await e.readFile(i);if(u===null)throw new Error(`Failed to read package.json at ${i}`);let c=JSON.parse(u);if(typeof c.name!="string"||c.name.trim()===""||n.has(c.name))return null;n.add(c.name);let l={name:c.name,subPackages:[]},p=await e.readdir(s);for(let d of p)d!=="node_modules"&&(await e.stat(e.join(s,d))).isDirectory()&&l.subPackages.push(d);return r.push(l),l}catch(a){return e.Sentry?.captureException(a,{level:"warning"}),null}}try{let s=e.join(t,"package.json");if(await e.exists(s)){let a=await e.readFile(s);if(a!==null){let u=JSON.parse(a),c={...u.dependencies,...u.devDependencies};for(let l of Object.keys(c)){let p=e.join(t,"node_modules",l);await o(p)}if(Array.isArray(u.workspaces))for(let l of u.workspaces){let p=await e.readdir(e.join(t,l));for(let d of p){let h=e.join(t,l,d);await o(h)}}}}}catch(s){e.Sentry?.captureException(s,{level:"warning"})}return r}var T$={"@builder.io/qwik-city":hy,next:oy,"@remix-run/react":xy,react:fl,"@angular/core":oD,vue:pD,native:fl},A$={"@builder.io/qwik-city":kt.qwik,next:kt.next,"@remix-run/react":kt.remix,react:kt.react,"@angular/core":kt.angular,vue:kt.vue,native:kt.native};async function eu(e,t=!1){if(!e.ts)throw new Error("createDevTools() requires a TypeScript instance passed to the 'ts' option");if((!e.frameworks||e.frameworks.length===0)&&(e.frameworks=await _o(e)),e.frameworks.length===0&&t&&e.frameworks.push({name:"native"}),e.frameworks.length===0)throw new Error("Supported Devtools framework for not found");for(let r of e.frameworks){let n=T$[r.name];if(n)try{let o=await n(e);return{...o,exportRegistry:()=>ED(e,o),importRegistry:i=>_D(e,o,i),framework:A$[r.name],findAllDependencies:async()=>await PD(e,e.getRepoRootDir())}}catch(o){e.Sentry?.captureException(o,{level:"warning"})}}throw new Error(`Devtools framework not found for ${e.getAppRootDir()}, ${JSON.stringify(e.frameworks,null,2)}`)}var DG=`
/** @type {import('next').NextConfig} */
const nextConfig = {
}
 
module.exports = nextConfig
`.trimStart();var TD=H(require("@sentry/node"),1),AD=H(require("@amplitude/analytics-node"),1);async function pn(e){if(process.env.NODE_ENV!=="test")try{await Promise.allSettled([TD.flush(2e3),AD.flush().promise])}catch(t){console.error(t)}process.exit(e)}var dn=process.env.AIR_HOST||process.env.BUILDER_HOST||"https://api.builder.io";var zo=H(require("@amplitude/analytics-node"),1),Qi=H(require("@sentry/node"),1);var st=[];for(let e=0;e<256;++e)st.push((e+256).toString(16).slice(1));function RD(e,t=0){return(st[e[t+0]]+st[e[t+1]]+st[e[t+2]]+st[e[t+3]]+"-"+st[e[t+4]]+st[e[t+5]]+"-"+st[e[t+6]]+st[e[t+7]]+"-"+st[e[t+8]]+st[e[t+9]]+"-"+st[e[t+10]]+st[e[t+11]]+st[e[t+12]]+st[e[t+13]]+st[e[t+14]]+st[e[t+15]]).toLowerCase()}var FD=H(require("node:crypto")),ru=new Uint8Array(256),tu=ru.length;function Ul(){return tu>ru.length-16&&(FD.default.randomFillSync(ru),tu=0),ru.slice(tu,tu+=16)}var $D=H(require("node:crypto")),Vl={randomUUID:$D.default.randomUUID};function R$(e,t,r){if(Vl.randomUUID&&!t&&!e)return Vl.randomUUID();e=e||{};let n=e.random||(e.rng||Ul)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return RD(n)}var Hl=R$;var Fn=class extends Error{},ve=class extends Fn{constructor({type:r,cause:n,message:o,suggestions:s=[],hostname:i,port:a,statusCode:u,errorCode:c}){super(o,{cause:n});Ke(this,"type");Ke(this,"suggestions");Ke(this,"hostname");Ke(this,"port");Ke(this,"statusCode");Ke(this,"errorCode");this.name="NetworkError",this.type=r,this.suggestions=s,this.hostname=i,this.port=a,this.statusCode=u,this.errorCode=c}},nu=process.platform==="win32",F$=process.platform==="darwin";function $$(e){return nu?`tracert ${e}`:`traceroute ${e}`}function k$(){return F$?"sudo dscacheutil -flushcache && sudo killall -HUP mDNSResponder":nu?"ipconfig /flushdns":"sudo systemd-resolve --flush-caches"}function I$(e,t){return nu?`Test-NetConnection -ComputerName ${e} -Port ${t}`:`nc -zv ${e} ${t}`}function N$(e){return nu?`nslookup ${e}`:`dig ${e}`}function O$(e,t){return`openssl s_client -connect ${e}:${t} -showcerts`}var M$=new Set(["DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN"]),L$=new Set(["UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","INVALID_CA","CERT_SIGNATURE_FAILURE","CERT_REVOKED","CERT_REJECTED","CERT_UNTRUSTED","CERT_CHAIN_TOO_LONG","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","UNABLE_TO_DECRYPT_CERT_SIGNATURE","HOSTNAME_MISMATCH","ERR_TLS_CERT_ALTNAME_INVALID"]),B$=new Set(["CERT_HAS_EXPIRED","ERROR_IN_CERT_NOT_AFTER_FIELD"]),z$=new Set(["CERT_NOT_YET_VALID","ERROR_IN_CERT_NOT_BEFORE_FIELD"]),j$=new Set(["CRL_HAS_EXPIRED","CRL_NOT_YET_VALID","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD"]),U$=new Set(["ERR_TLS_INVALID_PROTOCOL_VERSION","ERR_TLS_INVALID_PROTOCOL_METHOD","ERR_TLS_PROTOCOL_VERSION_CONFLICT","ERR_TLS_INVALID_STATE","ERR_TLS_INVALID_CONTEXT","ERR_TLS_RENEGOTIATION_DISABLED","ERR_TLS_REQUIRED_SERVER_NAME","ERR_TLS_SESSION_ATTACK","ERR_TLS_SNI_FROM_SERVER","ERR_TLS_DH_PARAM_SIZE","ERR_SSL_WRONG_VERSION_NUMBER","EPROTO"]),V$=new Set(["ERR_TLS_HANDSHAKE_TIMEOUT","ERR_SSL_HANDSHAKE_FAILURE"]),H$=new Set(["CRYPT_E_NO_REVOCATION_CHECK","CRYPT_E_REVOCATION_OFFLINE","CRYPT_E_NO_REVOCATION_DLL","CRYPT_E_NOT_IN_REVOCATION_DATABASE","UNABLE_TO_GET_CRL","CRL_SIGNATURE_FAILURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE"]),q$=new Set(["ERR_PROXY_INVALID_CONFIG","ERR_PROXY_TUNNEL","ERR_TUNNEL_CONNECTION_FAILED"]),G$=new Set(["ENETUNREACH","EHOSTUNREACH","ENETDOWN","ENONET"]);function ql(e,t,r){let n=e.code,o=`${t}${r?`:${r}`:""}`;if(n==="ECONNREFUSED"){let s=r||443;return new ve({type:"connection_refused",cause:e,message:`Connection refused to ${o}. The server may be down or not accepting connections on this port.`,suggestions:["Verify the server is running and accepting connections",`Test if the port is reachable: ${I$(t,s)}`,"Check if a firewall is blocking the connection","Ensure the correct port number is being used","If using a proxy, verify proxy settings are correct","Try again in a few minutes - the service may be temporarily unavailable"],hostname:t,port:r,errorCode:n})}if(n==="ECONNRESET")return new ve({type:"connection_reset",cause:e,message:`Connection to ${o} was reset. The server closed the connection unexpectedly.`,suggestions:["The server may have restarted or timed out - try again","Check if a proxy or firewall is terminating connections","If behind a corporate network, the connection may be blocked","Verify network stability - intermittent connectivity can cause resets","If using keep-alive connections, the server may have closed an idle connection"],hostname:t,port:r,errorCode:n});if(n==="ECONNABORTED")return new ve({type:"connection_aborted",cause:e,message:`Connection to ${o} was aborted before completing.`,suggestions:["The request may have been interrupted - try again","Check for network instability or packet loss","If using a proxy, verify the proxy is functioning correctly","The server may have terminated the connection early"],hostname:t,port:r,errorCode:n});if(n==="ETIMEDOUT"||n==="ESOCKETTIMEDOUT"||n==="ERR_SOCKET_CONNECTION_TIMEOUT"||n==="ERR_HTTP_REQUEST_TIMEOUT")return new ve({type:"connection_timeout",cause:e,message:`Connection to ${o} timed out. The server did not respond in time.`,suggestions:["Check your internet connection speed and stability","The server may be overloaded - try again in a few minutes","If behind a proxy, ensure the proxy is not causing delays","Corporate firewalls may be slowing or blocking the connection","Try using a different network (e.g., mobile hotspot) to isolate the issue"],hostname:t,port:r,errorCode:n});if(n==="ENOTFOUND"||n==="EAI_AGAIN")return new ve({type:"dns_not_found",cause:e,message:`Cannot resolve hostname '${t}'. DNS lookup failed.`,suggestions:["Check your internet connection","Verify the hostname is spelled correctly",`Test DNS resolution: ${N$(t)}`,"Try using a different DNS server (e.g., 8.8.8.8 or 1.1.1.1)","If on a VPN, try disconnecting and reconnecting",`Flush your DNS cache: ${k$()}`],hostname:t,errorCode:n});if(n&&M$.has(n)){let s=r||443;return new ve({type:"ssl_self_signed",cause:e,message:`SSL certificate error: The server at ${o} is using a self-signed certificate that is not trusted.`,suggestions:["If on a corporate network, add your company's CA certificate:","  \u2192 npm config set cafile /path/to/company-cert.pem","  \u2192 Or set NODE_EXTRA_CA_CERTS=/path/to/company-cert.pem","For Node.js 22+, use --use-system-ca flag if the CA is installed in your system",`Inspect the certificate: ${O$(t,s)}`,"Contact your IT department to get the corporate root CA certificate","If this is your server, consider using Let's Encrypt for free valid certificates","\u26A0\uFE0F Temporary workaround (not secure): npm config set strict-ssl false"],hostname:t,port:r,errorCode:n})}if(n&&B$.has(n))return new ve({type:"ssl_certificate_expired",cause:e,message:`SSL certificate error: The certificate for ${o} has expired.`,suggestions:["Contact the server administrator to renew the SSL certificate","Check if your system clock is set correctly - incorrect time can cause certificate errors","If this is your server, renew the certificate immediately","This may indicate a security issue - proceed with caution"],hostname:t,port:r,errorCode:n});if(n&&z$.has(n))return new ve({type:"ssl_certificate_not_yet_valid",cause:e,message:`SSL certificate error: The certificate for ${o} is not yet valid. The certificate's validity period has not started yet.`,suggestions:["Check if your system clock is set correctly - this is the most common cause","Verify your system date and time are accurate","If the clock is correct, wait until the certificate becomes valid","Contact the server administrator - they may have deployed a certificate too early"],hostname:t,port:r,errorCode:n});if(n&&j$.has(n)){let s=n==="CRL_HAS_EXPIRED",i=n==="CRL_NOT_YET_VALID";return new ve({type:"ssl_certificate_invalid",cause:e,message:`SSL error: The Certificate Revocation List (CRL) for ${o} ${s?"has expired":i?"is not yet valid":"has invalid date fields"}. This means the revocation list is stale, not that the certificate itself has expired.`,suggestions:["This is often a server-side configuration issue - the server needs to update its CRL","Check if your system clock is set correctly - incorrect time can cause CRL validation errors","If behind a corporate proxy, the proxy may be caching an outdated CRL","Try again later - the server administrator may need to refresh the CRL","If on a corporate network, contact your IT department","\u26A0\uFE0F Temporary workaround (not secure): npm config set strict-ssl false"],hostname:t,port:r,errorCode:n})}if(n&&L$.has(n))return new ve({type:"ssl_certificate_invalid",cause:e,message:`SSL certificate error: The certificate for ${o} could not be verified. ${K$(n)}`,suggestions:["If on a corporate network, add your company's CA certificate:","  \u2192 npm config set cafile /path/to/company-cert.pem","  \u2192 Or set NODE_EXTRA_CA_CERTS=/path/to/company-cert.pem","For Node.js 22+, use --use-system-ca flag if certificates are installed in your system","The server may be missing intermediate certificates in its chain","If behind a corporate proxy, contact IT for the proxy's root CA certificate","Verify you're connecting to the correct server (check for DNS hijacking)","\u26A0\uFE0F Temporary workaround (not secure): npm config set strict-ssl false"],hostname:t,port:r,errorCode:n});if(n&&V$.has(n))return new ve({type:"ssl_handshake_failed",cause:e,message:`SSL/TLS handshake with ${o} failed. Could not establish a secure connection.`,suggestions:["The server may be temporarily unavailable - try again","Check if a proxy or firewall is intercepting HTTPS traffic","Your corporate network may require specific certificates to be installed","The server may require a specific TLS version your client doesn't support","Try connecting from a different network to isolate the issue"],hostname:t,port:r,errorCode:n});if(n&&H$.has(n)){let s=n==="CRYPT_E_REVOCATION_OFFLINE";return new ve({type:"ssl_certificate_invalid",cause:e,message:`Certificate revocation check failed for ${o}. ${s?"The revocation server is offline.":"Unable to verify certificate revocation status."}`,suggestions:["This is often a temporary issue - try again in a few minutes","The certificate revocation server (CRL/OCSP) may be unreachable","If on a corporate network, add your company's CA certificate:","  \u2192 npm config set cafile /path/to/company-cert.pem","Check if a firewall or proxy is blocking access to revocation servers","Contact your IT department for assistance with certificate configuration","\u26A0\uFE0F Temporary workaround (not secure): npm config set strict-ssl false"],hostname:t,port:r,errorCode:n})}return n&&U$.has(n)?new ve({type:"ssl_protocol_error",cause:e,message:`SSL/TLS protocol error connecting to ${o}. ${W$(n)}`,suggestions:["The server may require a different TLS version (try TLS 1.2 or 1.3)","If behind a proxy, it may not support modern TLS protocols","Corporate firewalls sometimes downgrade TLS - contact your IT department","The server's SSL configuration may be outdated or misconfigured","Try updating Node.js to get the latest TLS support"],hostname:t,port:r,errorCode:n}):n&&q$.has(n)?new ve({type:"proxy_error",cause:e,message:`Proxy error while connecting to ${o}. The proxy server could not establish a tunnel.`,suggestions:["Verify your proxy settings (HTTP_PROXY, HTTPS_PROXY environment variables)","Check if the proxy server is running and accessible","Ensure the proxy allows connections to the target host","Try bypassing the proxy by adding the host to NO_PROXY","Corporate proxies may require authentication - check credentials","The proxy may be blocking this specific destination"],hostname:t,port:r,errorCode:n}):n&&G$.has(n)?new ve({type:"network_unreachable",cause:e,message:`Cannot reach ${o}. ${n==="EHOSTUNREACH"?"The host":"The network"} is unreachable.`,suggestions:["Check your internet connection is active","If on WiFi, try reconnecting to the network","VPN connection may have dropped - reconnect if using VPN","The destination network may be down or unreachable from your location","Check if a firewall is blocking outbound connections",`Diagnose the route: ${$$(t)}`],hostname:t,port:r,errorCode:n}):n==="EPIPE"?new ve({type:"connection_reset",cause:e,message:`Broken pipe to ${o}. The connection was closed while data was being sent.`,suggestions:["The server closed the connection unexpectedly - try again","Check if the request payload is too large","Network instability may have caused the connection to drop","If using keep-alive, the server may have closed an idle connection"],hostname:t,port:r,errorCode:n}):n==="ERR_SOCKET_BAD_PORT"?new ve({type:"socket_error",cause:e,message:`Invalid port number for ${t}. Port must be a number between 1 and 65535.`,suggestions:["Check your configuration for the correct port number","Ensure the port is a valid integer (1-65535)","Common ports: HTTP (80), HTTPS (443), custom services typically use 3000-9999","If using environment variables, verify they are set correctly"],hostname:t,port:r,errorCode:n}):n==="ERR_SOCKET_CLOSED"||n==="ERR_SOCKET_CLOSED_BEFORE_CONNECTION"?new ve({type:"socket_error",cause:e,message:`Socket closed unexpectedly while connecting to ${o}.`,suggestions:["The connection was closed unexpectedly - try again","Check for network instability","The server may have rejected the connection"],hostname:t,port:r,errorCode:n}):new ve({type:"unknown",cause:e,errorCode:n,message:`Network error connecting to ${o}: ${n?`[${n}] `:""}${e.message}`,suggestions:["Check your internet connection","If behind a proxy, verify proxy settings are correct","Try connecting from a different network","Check if a firewall or antivirus is blocking the connection","Try again in a few minutes - the service may be temporarily unavailable"],hostname:t,port:r})}function K$(e){return{UNABLE_TO_GET_ISSUER_CERT:"The certificate issuer could not be found.",UNABLE_TO_GET_ISSUER_CERT_LOCALLY:"The certificate issuer is not in the local trusted store.",UNABLE_TO_VERIFY_LEAF_SIGNATURE:"The first certificate in the chain could not be verified.",INVALID_CA:"The CA certificate is invalid.",CERT_SIGNATURE_FAILURE:"The certificate signature is invalid.",CERT_REVOKED:"The certificate has been revoked.",CERT_REJECTED:"The certificate was rejected.",CERT_UNTRUSTED:"The certificate is not trusted.",HOSTNAME_MISMATCH:"The certificate hostname does not match the requested hostname.",ERR_TLS_CERT_ALTNAME_INVALID:"The hostname is not in the certificate's subject alternative names."}[e]||""}function W$(e){return{ERR_TLS_INVALID_PROTOCOL_VERSION:"The TLS protocol version is not supported.",ERR_TLS_INVALID_PROTOCOL_METHOD:"The TLS protocol method is invalid.",ERR_TLS_PROTOCOL_VERSION_CONFLICT:"There is a conflict between TLS protocol versions.",EPROTO:"A protocol error occurred during the SSL/TLS handshake.",ERR_SSL_WRONG_VERSION_NUMBER:"SSL version number mismatch.",ERR_TLS_DH_PARAM_SIZE:"The Diffie-Hellman parameters are too small (insecure)."}[e]||""}async function Xi(e,t){let r={...t,app:"dev-tools-cli",package:"cli"},n=await Z$(),o=await J$();return await zo.track(e,r,{user_id:n,device_id:o}).promise}var ou,Gl;async function kD(e){ou=e;let t=await Po();await zc({...t,userId:e})}async function Z$(){if(ou)return ou;let e=await Po(),t;return Bc(e,"userId")&&(t=e.userId),ou=t,t}async function J$(){if(Gl)return Gl;let e=await Po(),t=Hl();return Bc(e,"deviceId")?t=e.deviceId:await zc({...e,deviceId:t}),Gl=t,t}var su=require("undici");var ID="0.0.0";var iu=H(require("node:process"),1),ND=H(require("@sentry/node"),1);var $n=class extends Error{constructor(r,n,o){super(r,o);Ke(this,"code");this.name="CodeGenError",this.code=n}};var Kl;function Q$(){let e=iu.default.env.FUSION_REJECT_UNAUTHORIZED!=="0";return Kl||(Kl=new su.Agent({connect:{rejectUnauthorized:e}})),Kl}var Kr=async(e,t)=>{let r=new URL(e),n=r.hostname,o=r.port?parseInt(r.port):void 0;try{let s=ND.getTraceData(),i=await(0,su.fetch)(e,{...t,dispatcher:Q$(),headers:{...t?.headers,...X$(),...s}});if(!i.ok){if(i.status===402){let a=await i.json(),u=a.code??"credits-limit-daily",c=a.message??"You've reached the DAY AI credits limit for your current plan.";throw new $n(c,u)}else if(i.status===429){let a=await i.json(),u=a.code??"credits-limit-other",c=a.message??"Rate limit exceeded. Please try again later.";throw new $n(c,u)}if(i.status>=500){let a;try{let u=await i.text();if(u)try{let c=JSON.parse(u);a=c.message||c.error||u}catch{a=u}}catch{}throw new ve({type:"server_error",cause:a?new Error(a):void 0,message:`Server error from ${n} (HTTP ${i.status}). The server encountered an internal error.`,suggestions:["Try again in a few minutes - this may be a temporary issue","Contact support if the problem persists"],hostname:n,statusCode:i.status})}}return i}catch(s){if(s instanceof ve||s instanceof $n||s instanceof Error&&s.name==="AbortError")throw s;if(s instanceof Error){if(s.name==="TypeError"&&s.cause instanceof Error){let c=s.cause;if(c.code)throw ql(c,n,o)}if(s.code)throw ql(s,n,o);if(s.message?.includes("SSL")||s.message?.includes("TLS")||s.message?.includes("certificate")||s.message?.includes("CERT"))throw new ve({type:"ssl_certificate_invalid",cause:s,message:`SSL/TLS error connecting to ${n}. The connection could not be secured.`,suggestions:["Check if you're behind a corporate proxy that requires custom certificates","Set NODE_EXTRA_CA_CERTS to include your organization's CA certificate","For Node.js 22+, try the --use-system-ca flag if certificates are installed locally","Try again in a few minutes","Contact support@builder.io if the issue persists"],hostname:n})}let i=t?.method||"GET",a=s instanceof Error?s.message:String(s);throw new ve({type:"unknown",cause:s instanceof Error?s:new Error(String(s)),message:`Network error for ${i} ${r.toString()}: ${a}`,suggestions:["Check your internet connection","Try again in a few minutes","Contact support if the issue persists"],hostname:n,port:o})}};function X$(){let t={darwin:"Macintosh",win32:"Windows NT",linux:"Linux",android:"Android",ios:"iPhone"}[iu.default.platform]||"Unknown",r=iu.default.platform==="win32"?"10.0":"";return{"User-Agent":`Mozilla/5.0 (${t}${r?"; "+r:""}) builder-cli/${ID}`,"Sec-Ch-Ua-Platform":t}}var ek=H(require("@sentry/node"),1);var on=H(Wn(),1);var G8=H(require("chokidar"),1),K8=H(require("ignore"),1);var Yl=H(VD(),1);var pk=H(require("@sentry/node"),1);function rs(e){if(e instanceof Error){let t=new Error(e.message,{cause:e});return t.name="AbortError",e}else{let t=new Error(e?String(e):"AbortError");return t.name="AbortError",t}}var Ql=class{constructor(){Ke(this,"processes",new Set);Ke(this,"cleanupHandlersRegistered",!1);this.registerCleanupHandlers()}track(t){this.processes.add(t),t.on("exit",()=>{this.processes.delete(t)})}untrack(t){this.processes.delete(t)}async killAll(t){if(this.processes.size===0)return;let r=[];for(let n of this.processes)n.pid&&n.exitCode===null&&r.push(au(t,n));await Promise.all(r),this.processes.clear()}registerCleanupHandlers(){if(this.cleanupHandlersRegistered)return;this.cleanupHandlersRegistered=!0;let t=async r=>{try{await this.killAll()}catch(n){console.error("[ProcessTracker] Error during cleanup:",n)}};process.on("SIGINT",()=>t("SIGINT")),process.on("SIGTERM",()=>t("SIGTERM")),process.on("SIGHUP",()=>t("SIGHUP")),process.on("exit",()=>{for(let r of this.processes)if(r.pid&&r.exitCode===null)try{process.kill(r.pid,"SIGKILL")}catch{}})}get count(){return this.processes.size}},tW=new Ql;function dk(e){try{return process.kill(e,0),!0}catch(t){return t.code==="EPERM"}}async function au(e,t,r,n=5e3){if(typeof t!="number"&&(!t||(Jl(t)?t.getExitCode()!==null:t.exitCode!==null)))return null;if(r?.aborted)return rs(r.reason);let o=new Promise((a,u)=>{r?.addEventListener("abort",()=>{u(new Error("killProcess aborted by the user"))},{once:!0})}),s,i;if(typeof t=="number"?s=t:(i=t,s=Jl(i)?i.getPid():i.pid),!s){if(e?.Sentry?.captureMessage("killProcess: no pid (process never spawned or already exited)",{level:"info",extra:{procType:i?Jl(i)?"DevCommandProcess":"ChildProcess":"number"}}),i)try{i.kill("SIGKILL")}catch{}return null}try{return await Promise.race([await new Promise((a,u)=>(0,Yl.default)(s,"SIGTERM",c=>{c?u(c):a()})),new Promise((a,u)=>setTimeout(()=>u(new Error("SIGTERM killProcess timeout")),n)),o]),null}catch(a){if(a.code==="ESRCH")return null;e?.Sentry?.captureException(a,{level:"warning"});try{return await Promise.race([await new Promise((u,c)=>(0,Yl.default)(s,"SIGKILL",l=>{l?c(l):u()})),new Promise((u,c)=>setTimeout(()=>c(new Error("SIGKILL killProcess timeout")),n)),o]),null}catch(u){return u.code==="ESRCH"||!dk(s)?null:(e?.Sentry?.captureException(u,{level:"warning"}),u instanceof Error?u:new Error("killProcess: failed to kill process: "+String(u)))}}finally{i&&i.removeAllListeners()}}var Jl=e=>"type"in e;var AI=H(hp(),1);var PI=H(hp(),1);var kW=process.platform==="win32"?"C:\\Windows\\System32\\drivers\\etc\\hosts":"/etc/hosts";var pN=H(LC(),1);var lN=H(WC(),1);var ZC="/_builder.io",iZ=ZC+"/api";var cZ=new(require("https")).Agent({rejectUnauthorized:!1});function mn(){}mn.prototype={diff:function(t,r){var n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.callback;typeof o=="function"&&(s=o,o={}),this.options=o;var i=this;function a(T){return s?(setTimeout(function(){s(void 0,T)},0),!0):T}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var u=r.length,c=t.length,l=1,p=u+c;o.maxEditLength&&(p=Math.min(p,o.maxEditLength));var d=(n=o.timeout)!==null&&n!==void 0?n:1/0,h=Date.now()+d,m=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(m[0],r,t,0);if(m[0].oldPos+1>=c&&f+1>=u)return a([{value:this.join(r),count:r.length}]);var g=-1/0,y=1/0;function b(){for(var T=Math.max(g,-l);T<=Math.min(y,l);T+=2){var E=void 0,R=m[T-1],$=m[T+1];R&&(m[T-1]=void 0);var I=!1;if($){var k=$.oldPos-T;I=$&&0<=k&&k<u}var F=R&&R.oldPos+1<c;if(!I&&!F){m[T]=void 0;continue}if(!F||I&&R.oldPos+1<$.oldPos?E=i.addToPath($,!0,void 0,0):E=i.addToPath(R,void 0,!0,1),f=i.extractCommon(E,r,t,T),E.oldPos+1>=c&&f+1>=u)return a(hN(i,E.lastComponent,r,t,i.useLongestToken));m[T]=E,E.oldPos+1>=c&&(y=Math.min(y,T-1)),f+1>=u&&(g=Math.max(g,T+1))}l++}if(s)(function T(){setTimeout(function(){if(l>p||Date.now()>h)return s();b()||T()},0)})();else for(;l<=p&&Date.now()<=h;){var w=b();if(w)return w}},addToPath:function(t,r,n,o){var s=t.lastComponent;return s&&s.added===r&&s.removed===n?{oldPos:t.oldPos+o,lastComponent:{count:s.count+1,added:r,removed:n,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+o,lastComponent:{count:1,added:r,removed:n,previousComponent:s}}},extractCommon:function(t,r,n,o){for(var s=r.length,i=n.length,a=t.oldPos,u=a-o,c=0;u+1<s&&a+1<i&&this.equals(r[u+1],n[a+1]);)u++,a++,c++;return c&&(t.lastComponent={count:c,previousComponent:t.lastComponent}),t.oldPos=a,u},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function hN(e,t,r,n,o){for(var s=[],i;t;)s.push(t),i=t.previousComponent,delete t.previousComponent,t=i;s.reverse();for(var a=0,u=s.length,c=0,l=0;a<u;a++){var p=s[a];if(p.removed){if(p.value=e.join(n.slice(l,l+p.count)),l+=p.count,a&&s[a-1].added){var h=s[a-1];s[a-1]=s[a],s[a]=h}}else{if(!p.added&&o){var d=r.slice(c,c+p.count);d=d.map(function(f,g){var y=n[l+g];return y.length>f.length?y:f}),p.value=e.join(d)}else p.value=e.join(r.slice(c,c+p.count));c+=p.count,p.added||(l+=p.count)}}var m=s[u-1];return u>1&&typeof m.value=="string"&&(m.added||m.removed)&&e.equals("",m.value)&&(s[u-2].value+=m.value,s.pop()),s}var kZ=new mn;var QC=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,XC=/\S/,ew=new mn;ew.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!XC.test(e)&&!XC.test(t)};ew.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&QC.test(t[r])&&QC.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var tw=new mn;tw.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var o=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var gN=new mn;gN.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var yN=new mn;yN.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Su(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var DN=Object.prototype.toString,ds=new mn;ds.useLongestToken=!0;ds.tokenize=tw.tokenize;ds.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,o=n===void 0?function(s,i){return typeof i>"u"?r:i}:n;return typeof e=="string"?e:JSON.stringify(Hp(e,null,null,o),o,"  ")};ds.equals=function(e,t){return mn.prototype.equals.call(ds,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Hp(e,t,r,n,o){t=t||[],r=r||[],n&&(e=n(o,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var i;if(DN.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),s=0;s<e.length;s+=1)i[s]=Hp(e[s],t,r,n,o);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),Su(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var a=[],u;for(u in e)e.hasOwnProperty(u)&&a.push(u);for(a.sort(),s=0;s<a.length;s+=1)u=a[s],i[u]=Hp(e[u],t,r,n,u);t.pop(),r.pop()}else i=e;return i}var qp=new mn;qp.tokenize=function(e){return e.slice()};qp.join=qp.removeEmpty=function(e){return e};var wN=["steve8708/mui-vite","steve8708/carbon-vite","steve8708/vite-react-shopify-polaris","steve8708/cloudscape-demos","BuilderIO/fusion-angular-tailwind-starter","BuilderIO/fusion-svelte-tailwind-starter","BuilderIO/fusion-vue-tailwind-starter"],bN="BuilderIO/fusion-starter",Gp=[...wN,bN],UZ=Gp.map(e=>`https://github.com/${e}`);var V8=H(require("chokidar"),1);var Wp=Object.freeze({status:"aborted"});function P(e,t,r){function n(a,u){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,u);for(let l in i.prototype)l in a||Object.defineProperty(a,l,{value:i.prototype[l].bind(a)});a._zod.constr=i,a._zod.def=u}let o=r?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function i(a){var u;let c=r?.Parent?new s:this;n(c,a),(u=c._zod).deferred??(u.deferred=[]);for(let l of c._zod.deferred)l();return c}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}var TN=Symbol("zod_brand"),hn=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Eu={};function Jt(e){return e&&Object.assign(Eu,e),Eu}var me={};ba(me,{BIGINT_FORMAT_RANGES:()=>aw,Class:()=>Jp,NUMBER_FORMAT_RANGES:()=>od,aborted:()=>co,allowsEval:()=>td,assert:()=>kN,assertEqual:()=>AN,assertIs:()=>FN,assertNever:()=>$N,assertNotEqual:()=>RN,assignProp:()=>ed,cached:()=>ms,captureStackTrace:()=>Pu,cleanEnum:()=>GN,cleanRegex:()=>gs,clone:()=>xr,createTransparentProxy:()=>BN,defineLazy:()=>_e,esc:()=>uo,escapeRegex:()=>In,extend:()=>UN,finalizeIssue:()=>Sr,floatSafeRemainder:()=>Xp,getElementAtPath:()=>IN,getEnumValues:()=>Yp,getLengthableOrigin:()=>ys,getParsedType:()=>LN,getSizableOrigin:()=>uw,isObject:()=>Jo,isPlainObject:()=>Yo,issue:()=>id,joinValues:()=>_u,jsonStringifyReplacer:()=>Qp,merge:()=>VN,normalizeParams:()=>U,nullish:()=>hs,numKeys:()=>MN,omit:()=>jN,optionalKeys:()=>nd,partial:()=>HN,pick:()=>zN,prefixIssues:()=>Yr,primitiveTypes:()=>sw,promiseAllObject:()=>NN,propertyKeyTypes:()=>rd,randomString:()=>ON,required:()=>qN,stringifyPrimitive:()=>Tu,unwrapMessage:()=>fs});function AN(e){return e}function RN(e){return e}function FN(e){}function $N(e){throw new Error}function kN(e){}function Yp(e){let t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}function _u(e,t="|"){return e.map(r=>Tu(r)).join(t)}function Qp(e,t){return typeof t=="bigint"?t.toString():t}function ms(e){return{get value(){{let r=e();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function hs(e){return e==null}function gs(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Xp(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,s=Number.parseInt(e.toFixed(o).replace(".","")),i=Number.parseInt(t.toFixed(o).replace(".",""));return s%i/10**o}function _e(e,t,r){Object.defineProperty(e,t,{get(){{let o=r();return e[t]=o,o}throw new Error("cached value already set")},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function ed(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function IN(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}function NN(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let o={};for(let s=0;s<t.length;s++)o[t[s]]=n[s];return o})}function ON(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function uo(e){return JSON.stringify(e)}var Pu=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Jo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var td=ms(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function Yo(e){if(Jo(e)===!1)return!1;let t=e.constructor;if(t===void 0)return!0;let r=t.prototype;return!(Jo(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function MN(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var LN=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},rd=new Set(["string","number","symbol"]),sw=new Set(["string","number","bigint","boolean","symbol","undefined"]);function In(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xr(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function U(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function BN(e){let t;return new Proxy({},{get(r,n,o){return t??(t=e()),Reflect.get(t,n,o)},set(r,n,o,s){return t??(t=e()),Reflect.set(t,n,o,s)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,o){return t??(t=e()),Reflect.defineProperty(t,n,o)}})}function Tu(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function nd(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}var od={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},aw={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function zN(e,t){let r={},n=e._zod.def;for(let o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=n.shape[o])}return xr(e,{...e._zod.def,shape:r,checks:[]})}function jN(e,t){let r={...e._zod.def.shape},n=e._zod.def;for(let o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete r[o]}return xr(e,{...e._zod.def,shape:r,checks:[]})}function UN(e,t){if(!Yo(t))throw new Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return ed(this,"shape",n),n},checks:[]};return xr(e,r)}function VN(e,t){return xr(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return ed(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function HN(e,t,r){let n=t._zod.def.shape,o={...n};if(r)for(let s in r){if(!(s in n))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=e?new e({type:"optional",innerType:n[s]}):n[s])}else for(let s in n)o[s]=e?new e({type:"optional",innerType:n[s]}):n[s];return xr(t,{...t._zod.def,shape:o,checks:[]})}function qN(e,t,r){let n=t._zod.def.shape,o={...n};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=new e({type:"nonoptional",innerType:n[s]}))}else for(let s in n)o[s]=new e({type:"nonoptional",innerType:n[s]});return xr(t,{...t._zod.def,shape:o,checks:[]})}function co(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Yr(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function fs(e){return typeof e=="string"?e:e?.message}function Sr(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let o=fs(e.inst?._zod.def?.error?.(e))??fs(t?.error?.(e))??fs(r.customError?.(e))??fs(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function uw(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function ys(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function id(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}function GN(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}var Jp=class{constructor(...t){}};var cw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,Qp,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Au=P("$ZodError",cw),sd=P("$ZodError",cw,{Parent:Error});function ad(e,t=r=>r.message){let r={},n=[];for(let o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}function ud(e,t){let r=t||function(s){return s.message},n={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>o({issues:a}));else if(i.code==="invalid_key")o({issues:i.issues});else if(i.code==="invalid_element")o({issues:i.issues});else if(i.path.length===0)n._errors.push(r(i));else{let a=n,u=0;for(;u<i.path.length;){let c=i.path[u];u===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(i))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return o(e),n}var lw=e=>(t,r,n,o)=>{let s=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new hn;if(i.issues.length){let a=new(o?.Err??e)(i.issues.map(u=>Sr(u,s,Jt())));throw Pu(a,o?.callee),a}return i.value};var pw=e=>async(t,r,n,o)=>{let s=n?Object.assign(n,{async:!0}):{async:!0},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){let a=new(o?.Err??e)(i.issues.map(u=>Sr(u,s,Jt())));throw Pu(a,o?.callee),a}return i.value};var cd=e=>(t,r,n)=>{let o=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new hn;return s.issues.length?{success:!1,error:new(e??Au)(s.issues.map(i=>Sr(i,o,Jt())))}:{success:!0,data:s.value}},dw=cd(sd),ld=e=>async(t,r,n)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>Sr(i,o,Jt())))}:{success:!0,data:s.value}},fw=ld(sd);var mw=/^[cC][^\s-]{8,}$/,hw=/^[0-9a-z]+$/,gw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,yw=/^[0-9a-vA-V]{20}$/,Dw=/^[A-Za-z0-9]{27}$/,vw=/^[a-zA-Z0-9_-]{21}$/,Cw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;var ww=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,pd=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;var bw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var WN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xw(){return new RegExp(WN,"u")}var Sw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ew=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,_w=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Pw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tw=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,dd=/^[A-Za-z0-9_-]*$/,Aw=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/;var Rw=/^\+(?:[0-9]){6,14}[0-9]$/,Fw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$w=new RegExp(`^${Fw}$`);function kw(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Iw(e){return new RegExp(`^${kw(e)}$`)}function Nw(e){let t=kw({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Fw}T(?:${n})$`)}var Ow=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Mw=/^\d+n?$/,Lw=/^\d+$/,Bw=/^-?\d+(?:\.\d+)?/i,zw=/true|false/i,jw=/null/i;var Uw=/^[^A-Z]*$/,Vw=/^[^a-z]*$/;var Dt=P("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Hw={number:"number",bigint:"bigint",object:"date"},fd=P("$ZodCheckLessThan",(e,t)=>{Dt.init(e,t);let r=Hw[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,s=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),md=P("$ZodCheckGreaterThan",(e,t)=>{Dt.init(e,t);let r=Hw[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,s=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qw=P("$ZodCheckMultipleOf",(e,t)=>{Dt.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Xp(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Gw=P("$ZodCheckNumberFormat",(e,t)=>{Dt.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[o,s]=od[t.format];e._zod.onattach.push(i=>{let a=i._zod.bag;a.format=t.format,a.minimum=o,a.maximum=s,r&&(a.pattern=Lw)}),e._zod.check=i=>{let a=i.value;if(r){if(!Number.isInteger(a)){i.issues.push({expected:n,format:t.format,code:"invalid_type",input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?i.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):i.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}a<o&&i.issues.push({origin:"number",input:a,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),a>s&&i.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:e})}});var Kw=P("$ZodCheckMaxLength",(e,t)=>{var r;Dt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!hs(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;if(o.length<=t.maximum)return;let i=ys(o);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Ww=P("$ZodCheckMinLength",(e,t)=>{var r;Dt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!hs(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;if(o.length>=t.minimum)return;let i=ys(o);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Zw=P("$ZodCheckLengthEquals",(e,t)=>{var r;Dt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!hs(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{let o=n.value,s=o.length;if(s===t.length)return;let i=ys(o),a=s>t.length;n.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Ds=P("$ZodCheckStringFormat",(e,t)=>{var r,n;Dt.init(e,t),e._zod.onattach.push(o=>{let s=o._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Jw=P("$ZodCheckRegex",(e,t)=>{Ds.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Yw=P("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Uw),Ds.init(e,t)}),Qw=P("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Vw),Ds.init(e,t)}),Xw=P("$ZodCheckIncludes",(e,t)=>{Dt.init(e,t);let r=In(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{let s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),eb=P("$ZodCheckStartsWith",(e,t)=>{Dt.init(e,t);let r=new RegExp(`^${In(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),tb=P("$ZodCheckEndsWith",(e,t)=>{Dt.init(e,t);let r=new RegExp(`.*${In(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});var rb=P("$ZodCheckOverwrite",(e,t)=>{Dt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});var Fu=class{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let n=t.split(`
`).filter(i=>i),o=Math.min(...n.map(i=>i.length-i.trimStart().length)),s=n.map(i=>i.slice(o)).map(i=>" ".repeat(this.indent*2)+i);for(let i of s)this.content.push(i)}compile(){let t=Function,r=this?.args,o=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,o.join(`
`))}};var ob={major:4,minor:0,patch:0};var De=P("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ob;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let o of n)for(let s of o._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let o=(s,i,a)=>{let u=co(s),c;for(let l of i){if(l._zod.def.when){if(!l._zod.def.when(s))continue}else if(u)continue;let p=s.issues.length,d=l._zod.check(s);if(d instanceof Promise&&a?.async===!1)throw new hn;if(c||d instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await d,s.issues.length!==p&&(u||(u=co(s,p)))});else{if(s.issues.length===p)continue;u||(u=co(s,p))}}return c?c.then(()=>s):s};e._zod.run=(s,i)=>{let a=e._zod.parse(s,i);if(a instanceof Promise){if(i.async===!1)throw new hn;return a.then(u=>o(u,n,i))}return o(a,n,i)}}e["~standard"]={validate:o=>{try{let s=dw(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return fw(e,o).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),ku=P("$ZodString",(e,t)=>{De.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ow(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ke=P("$ZodStringFormat",(e,t)=>{Ds.init(e,t),ku.init(e,t)}),mb=P("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=ww),ke.init(e,t)}),hb=P("$ZodUUID",(e,t)=>{if(t.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=pd(n))}else t.pattern??(t.pattern=pd());ke.init(e,t)}),gb=P("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=bw),ke.init(e,t)}),yb=P("$ZodURL",(e,t)=>{ke.init(e,t),e._zod.check=r=>{try{let n=r.value,o=new URL(n),s=o.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Aw.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),!n.endsWith("/")&&s.endsWith("/")?r.value=s.slice(0,-1):r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Db=P("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=xw()),ke.init(e,t)}),vb=P("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=vw),ke.init(e,t)}),Cb=P("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=mw),ke.init(e,t)}),wb=P("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=hw),ke.init(e,t)}),bb=P("$ZodULID",(e,t)=>{t.pattern??(t.pattern=gw),ke.init(e,t)}),xb=P("$ZodXID",(e,t)=>{t.pattern??(t.pattern=yw),ke.init(e,t)}),Sb=P("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Dw),ke.init(e,t)}),Eb=P("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Nw(t)),ke.init(e,t)}),_b=P("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=$w),ke.init(e,t)}),Pb=P("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Iw(t)),ke.init(e,t)}),Tb=P("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Cw),ke.init(e,t)}),Ab=P("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Sw),ke.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),Rb=P("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Ew),ke.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Fb=P("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=_w),ke.init(e,t)}),$b=P("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Pw),ke.init(e,t),e._zod.check=r=>{let[n,o]=r.value.split("/");try{if(!o)throw new Error;let s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function kb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}var Ib=P("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Tw),ke.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{kb(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function ZN(e){if(!dd.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return kb(r)}var Nb=P("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=dd),ke.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{ZN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Ob=P("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Rw),ke.init(e,t)});function JN(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}var Mb=P("$ZodJWT",(e,t)=>{ke.init(e,t),e._zod.check=r=>{JN(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}});var gd=P("$ZodNumber",(e,t)=>{De.init(e,t),e._zod.pattern=e._zod.bag.pattern??Bw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;let s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...s?{received:s}:{}}),r}}),Lb=P("$ZodNumber",(e,t)=>{Gw.init(e,t),gd.init(e,t)}),Bb=P("$ZodBoolean",(e,t)=>{De.init(e,t),e._zod.pattern=zw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),zb=P("$ZodBigInt",(e,t)=>{De.init(e,t),e._zod.pattern=Mw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}});var jb=P("$ZodNull",(e,t)=>{De.init(e,t),e._zod.pattern=jw,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}}),Ub=P("$ZodAny",(e,t)=>{De.init(e,t),e._zod.parse=r=>r}),Vb=P("$ZodUnknown",(e,t)=>{De.init(e,t),e._zod.parse=r=>r}),Hb=P("$ZodNever",(e,t)=>{De.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});var qb=P("$ZodDate",(e,t)=>{De.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let o=r.value,s=o instanceof Date;return s&&!Number.isNaN(o.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:o,...s?{received:"Invalid Date"}:{},inst:e}),r}});function ib(e,t,r){e.issues.length&&t.issues.push(...Yr(r,e.issues)),t.value[r]=e.value}var Gb=P("$ZodArray",(e,t)=>{De.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);let s=[];for(let i=0;i<o.length;i++){let a=o[i],u=t.element._zod.run({value:a,issues:[]},n);u instanceof Promise?s.push(u.then(c=>ib(c,r,i))):ib(u,r,i)}return s.length?Promise.all(s).then(()=>r):r}});function $u(e,t,r){e.issues.length&&t.issues.push(...Yr(r,e.issues)),t.value[r]=e.value}function sb(e,t,r,n){e.issues.length?n[r]===void 0?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...Yr(r,e.issues)):e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}var Kb=P("$ZodObject",(e,t)=>{De.init(e,t);let r=ms(()=>{let p=Object.keys(t.shape);for(let h of p)if(!(t.shape[h]instanceof De))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);let d=nd(t.shape);return{shape:t.shape,keys:p,keySet:new Set(p),numKeys:p.length,optionalKeys:new Set(d)}});_e(e._zod,"propValues",()=>{let p=t.shape,d={};for(let h in p){let m=p[h]._zod;if(m.values){d[h]??(d[h]=new Set);for(let f of m.values)d[h].add(f)}}return d});let n=p=>{let d=new Fu(["shape","payload","ctx"]),h=r.value,m=b=>{let w=uo(b);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};d.write("const input = payload.value;");let f=Object.create(null),g=0;for(let b of h.keys)f[b]=`key_${g++}`;d.write("const newResult = {}");for(let b of h.keys)if(h.optionalKeys.has(b)){let w=f[b];d.write(`const ${w} = ${m(b)};`);let T=uo(b);d.write(`
        if (${w}.issues.length) {
          if (input[${T}] === undefined) {
            if (${T} in input) {
              newResult[${T}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${w}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${T}, ...iss.path] : [${T}],
              }))
            );
          }
        } else if (${w}.value === undefined) {
          if (${T} in input) newResult[${T}] = undefined;
        } else {
          newResult[${T}] = ${w}.value;
        }
        `)}else{let w=f[b];d.write(`const ${w} = ${m(b)};`),d.write(`
          if (${w}.issues.length) payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${uo(b)}, ...iss.path] : [${uo(b)}]
          })));`),d.write(`newResult[${uo(b)}] = ${w}.value`)}d.write("payload.value = newResult;"),d.write("return payload;");let y=d.compile();return(b,w)=>y(p,b,w)},o,s=Jo,i=!Eu.jitless,u=i&&td.value,c=t.catchall,l;e._zod.parse=(p,d)=>{l??(l=r.value);let h=p.value;if(!s(h))return p.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),p;let m=[];if(i&&u&&d?.async===!1&&d.jitless!==!0)o||(o=n(t.shape)),p=o(p,d);else{p.value={};let w=l.shape;for(let T of l.keys){let E=w[T],R=E._zod.run({value:h[T],issues:[]},d),$=E._zod.optin==="optional"&&E._zod.optout==="optional";R instanceof Promise?m.push(R.then(I=>$?sb(I,p,T,h):$u(I,p,T))):$?sb(R,p,T,h):$u(R,p,T)}}if(!c)return m.length?Promise.all(m).then(()=>p):p;let f=[],g=l.keySet,y=c._zod,b=y.def.type;for(let w of Object.keys(h)){if(g.has(w))continue;if(b==="never"){f.push(w);continue}let T=y.run({value:h[w],issues:[]},d);T instanceof Promise?m.push(T.then(E=>$u(E,p,w))):$u(T,p,w)}return f.length&&p.issues.push({code:"unrecognized_keys",keys:f,input:h,inst:e}),m.length?Promise.all(m).then(()=>p):p}});function ab(e,t,r,n){for(let o of e)if(o.issues.length===0)return t.value=o.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(s=>Sr(s,n,Jt())))}),t}var yd=P("$ZodUnion",(e,t)=>{De.init(e,t),_e(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),_e(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),_e(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),_e(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){let r=t.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>gs(n.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let o=!1,s=[];for(let i of t.options){let a=i._zod.run({value:r.value,issues:[]},n);if(a instanceof Promise)s.push(a),o=!0;else{if(a.issues.length===0)return a;s.push(a)}}return o?Promise.all(s).then(i=>ab(i,r,e,n)):ab(s,r,e,n)}}),Wb=P("$ZodDiscriminatedUnion",(e,t)=>{yd.init(e,t);let r=e._zod.parse;_e(e._zod,"propValues",()=>{let o={};for(let s of t.options){let i=s._zod.propValues;if(!i||Object.keys(i).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let[a,u]of Object.entries(i)){o[a]||(o[a]=new Set);for(let c of u)o[a].add(c)}}return o});let n=ms(()=>{let o=t.options,s=new Map;for(let i of o){let a=i._zod.propValues[t.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let u of a){if(s.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,i)}}return s});e._zod.parse=(o,s)=>{let i=o.value;if(!Jo(i))return o.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),o;let a=n.value.get(i?.[t.discriminator]);return a?a._zod.run(o,s):t.unionFallback?r(o,s):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:i,path:[t.discriminator],inst:e}),o)}}),Zb=P("$ZodIntersection",(e,t)=>{De.init(e,t),e._zod.parse=(r,n)=>{let o=r.value,s=t.left._zod.run({value:o,issues:[]},n),i=t.right._zod.run({value:o,issues:[]},n);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([u,c])=>ub(r,u,c)):ub(r,s,i)}});function hd(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Yo(e)&&Yo(t)){let r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),o={...e,...t};for(let s of n){let i=hd(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};o[s]=i.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let o=e[n],s=t[n],i=hd(o,s);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function ub(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),co(e))return e;let n=hd(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}var Jb=P("$ZodRecord",(e,t)=>{De.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Yo(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;let s=[];if(t.keyType._zod.values){let i=t.keyType._zod.values;r.value={};for(let u of i)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){let c=t.valueType._zod.run({value:o[u],issues:[]},n);c instanceof Promise?s.push(c.then(l=>{l.issues.length&&r.issues.push(...Yr(u,l.issues)),r.value[u]=l.value})):(c.issues.length&&r.issues.push(...Yr(u,c.issues)),r.value[u]=c.value)}let a;for(let u in o)i.has(u)||(a=a??[],a.push(u));a&&a.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:a})}else{r.value={};for(let i of Reflect.ownKeys(o)){if(i==="__proto__")continue;let a=t.keyType._zod.run({value:i,issues:[]},n);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>Sr(c,n,Jt())),input:i,path:[i],inst:e}),r.value[a.value]=a.value;continue}let u=t.valueType._zod.run({value:o[i],issues:[]},n);u instanceof Promise?s.push(u.then(c=>{c.issues.length&&r.issues.push(...Yr(i,c.issues)),r.value[a.value]=c.value})):(u.issues.length&&r.issues.push(...Yr(i,u.issues)),r.value[a.value]=u.value)}}return s.length?Promise.all(s).then(()=>r):r}});var Yb=P("$ZodEnum",(e,t)=>{De.init(e,t);let r=Yp(t.entries);e._zod.values=new Set(r),e._zod.pattern=new RegExp(`^(${r.filter(n=>rd.has(typeof n)).map(n=>typeof n=="string"?In(n):n.toString()).join("|")})$`),e._zod.parse=(n,o)=>{let s=n.value;return e._zod.values.has(s)||n.issues.push({code:"invalid_value",values:r,input:s,inst:e}),n}}),Qb=P("$ZodLiteral",(e,t)=>{De.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?In(r):r?r.toString():String(r)).join("|")})$`),e._zod.parse=(r,n)=>{let o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),r}});var Xb=P("$ZodTransform",(e,t)=>{De.init(e,t),e._zod.parse=(r,n)=>{let o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(i=>(r.value=i,r));if(o instanceof Promise)throw new hn;return r.value=o,r}}),ex=P("$ZodOptional",(e,t)=>{De.init(e,t),e._zod.optin="optional",e._zod.optout="optional",_e(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),_e(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${gs(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,n):r.value===void 0?r:t.innerType._zod.run(r,n)}),tx=P("$ZodNullable",(e,t)=>{De.init(e,t),_e(e._zod,"optin",()=>t.innerType._zod.optin),_e(e._zod,"optout",()=>t.innerType._zod.optout),_e(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${gs(r.source)}|null)$`):void 0}),_e(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),rx=P("$ZodDefault",(e,t)=>{De.init(e,t),e._zod.optin="optional",_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>cb(s,t)):cb(o,t)}});function cb(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}var nx=P("$ZodPrefault",(e,t)=>{De.init(e,t),e._zod.optin="optional",_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),ox=P("$ZodNonOptional",(e,t)=>{De.init(e,t),_e(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>lb(s,e)):lb(o,e)}});function lb(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var ix=P("$ZodCatch",(e,t)=>{De.init(e,t),e._zod.optin="optional",_e(e._zod,"optout",()=>t.innerType._zod.optout),_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>Sr(i,n,Jt()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(s=>Sr(s,n,Jt()))},input:r.value}),r.issues=[]),r)}});var sx=P("$ZodPipe",(e,t)=>{De.init(e,t),_e(e._zod,"values",()=>t.in._zod.values),_e(e._zod,"optin",()=>t.in._zod.optin),_e(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(r,n)=>{let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(s=>pb(s,t,n)):pb(o,t,n)}});function pb(e,t,r){return co(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}var ax=P("$ZodReadonly",(e,t)=>{De.init(e,t),_e(e._zod,"propValues",()=>t.innerType._zod.propValues),_e(e._zod,"values",()=>t.innerType._zod.values),_e(e._zod,"optin",()=>t.innerType._zod.optin),_e(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(db):db(o)}});function db(e){return e.value=Object.freeze(e.value),e}var ux=P("$ZodCustom",(e,t)=>{Dt.init(e,t),De.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(s=>fb(s,r,n,e));fb(o,r,n,e)}});function fb(e,t,r,n){if(!e){let o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(id(o))}}var YN=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},QN=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${YN(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${Tu(n.values[0])}`:`Invalid option: expected one of ${_u(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",s=t(n.origin);return s?`Too big: expected ${n.origin??"value"} to have ${o}${n.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",s=t(n.origin);return s?`Too small: expected ${n.origin} to have ${o}${n.minimum.toString()} ${s.unit}`:`Too small: expected ${n.origin} to be ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${_u(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function cx(){return{localeError:QN()}}var XN=Symbol("ZodOutput"),eO=Symbol("ZodInput"),Dd=class{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}};function lx(){return new Dd}var Qo=lx();function px(e,t){return new e({type:"string",...U(t)})}function dx(e,t){return new e({type:"string",coerce:!0,...U(t)})}function fx(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...U(t)})}function vd(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...U(t)})}function mx(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...U(t)})}function hx(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...U(t)})}function gx(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...U(t)})}function yx(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...U(t)})}function Cd(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...U(t)})}function Dx(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...U(t)})}function vx(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...U(t)})}function Cx(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...U(t)})}function wx(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...U(t)})}function bx(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...U(t)})}function xx(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...U(t)})}function Sx(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...U(t)})}function Ex(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...U(t)})}function _x(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...U(t)})}function Px(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...U(t)})}function Tx(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...U(t)})}function Ax(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...U(t)})}function Rx(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...U(t)})}function Fx(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...U(t)})}function $x(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...U(t)})}function kx(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...U(t)})}function Ix(e,t){return new e({type:"string",format:"date",check:"string_format",...U(t)})}function Nx(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...U(t)})}function Ox(e,t){return new e({type:"string",format:"duration",check:"string_format",...U(t)})}function Mx(e,t){return new e({type:"number",checks:[],...U(t)})}function Lx(e,t){return new e({type:"number",coerce:!0,checks:[],...U(t)})}function Bx(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...U(t)})}function zx(e,t){return new e({type:"boolean",...U(t)})}function jx(e,t){return new e({type:"boolean",coerce:!0,...U(t)})}function Ux(e,t){return new e({type:"bigint",coerce:!0,...U(t)})}function Vx(e,t){return new e({type:"null",...U(t)})}function Hx(e){return new e({type:"any"})}function qx(e){return new e({type:"unknown"})}function Gx(e,t){return new e({type:"never",...U(t)})}function Kx(e,t){return new e({type:"date",coerce:!0,...U(t)})}function Xo(e,t){return new fd({check:"less_than",...U(t),value:e,inclusive:!1})}function gn(e,t){return new fd({check:"less_than",...U(t),value:e,inclusive:!0})}function ei(e,t){return new md({check:"greater_than",...U(t),value:e,inclusive:!1})}function Er(e,t){return new md({check:"greater_than",...U(t),value:e,inclusive:!0})}function vs(e,t){return new qw({check:"multiple_of",...U(t),value:e})}function Iu(e,t){return new Kw({check:"max_length",...U(t),maximum:e})}function ti(e,t){return new Ww({check:"min_length",...U(t),minimum:e})}function Nu(e,t){return new Zw({check:"length_equals",...U(t),length:e})}function wd(e,t){return new Jw({check:"string_format",format:"regex",...U(t),pattern:e})}function bd(e){return new Yw({check:"string_format",format:"lowercase",...U(e)})}function xd(e){return new Qw({check:"string_format",format:"uppercase",...U(e)})}function Sd(e,t){return new Xw({check:"string_format",format:"includes",...U(t),includes:e})}function Ed(e,t){return new eb({check:"string_format",format:"starts_with",...U(t),prefix:e})}function _d(e,t){return new tb({check:"string_format",format:"ends_with",...U(t),suffix:e})}function lo(e){return new rb({check:"overwrite",tx:e})}function Pd(e){return lo(t=>t.normalize(e))}function Td(){return lo(e=>e.trim())}function Ad(){return lo(e=>e.toLowerCase())}function Rd(){return lo(e=>e.toUpperCase())}function Wx(e,t,r){return new e({type:"array",element:t,...U(r)})}function Zx(e,t,r){let n=U(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function Jx(e,t,r){return new e({type:"custom",check:"custom",fn:t,...U(r)})}var Cs={};ba(Cs,{ZodISODate:()=>Qx,ZodISODateTime:()=>Yx,ZodISODuration:()=>eS,ZodISOTime:()=>Xx,date:()=>$d,datetime:()=>Fd,duration:()=>Id,time:()=>kd});var Yx=P("ZodISODateTime",(e,t)=>{Eb.init(e,t),Le.init(e,t)});function Fd(e){return kx(Yx,e)}var Qx=P("ZodISODate",(e,t)=>{_b.init(e,t),Le.init(e,t)});function $d(e){return Ix(Qx,e)}var Xx=P("ZodISOTime",(e,t)=>{Pb.init(e,t),Le.init(e,t)});function kd(e){return Nx(Xx,e)}var eS=P("ZodISODuration",(e,t)=>{Tb.init(e,t),Le.init(e,t)});function Id(e){return Ox(eS,e)}var rS=(e,t)=>{Au.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>ud(e,r)},flatten:{value:r=>ad(e,r)},addIssue:{value:r=>e.issues.push(r)},addIssues:{value:r=>e.issues.push(...r)},isEmpty:{get(){return e.issues.length===0}}})},TY=P("ZodError",rS),ws=P("ZodError",rS,{Parent:Error});var nS=lw(ws),oS=pw(ws),iS=cd(ws),sS=ld(ws);var Pe=P("ZodType",(e,t)=>(De.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>xr(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>nS(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>iS(e,r,n),e.parseAsync=async(r,n)=>oS(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>sS(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(WO(r,n)),e.superRefine=r=>e.check(ZO(r)),e.overwrite=r=>e.check(lo(r)),e.optional=()=>Ve(e),e.nullable=()=>cS(e),e.nullish=()=>Ve(cS(e)),e.nonoptional=r=>jO(e,r),e.array=()=>N(e),e.or=r=>Te([e,r]),e.and=r=>Lu(e,r),e.transform=r=>Od(e,DS(r)),e.default=r=>LO(e,r),e.prefault=r=>zO(e,r),e.catch=r=>VO(e,r),e.pipe=r=>Od(e,r),e.readonly=()=>GO(e),e.describe=r=>{let n=e.clone();return Qo.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Qo.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Qo.get(e);let n=e.clone();return Qo.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),lS=P("_ZodString",(e,t)=>{ku.init(e,t),Pe.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(wd(...n)),e.includes=(...n)=>e.check(Sd(...n)),e.startsWith=(...n)=>e.check(Ed(...n)),e.endsWith=(...n)=>e.check(_d(...n)),e.min=(...n)=>e.check(ti(...n)),e.max=(...n)=>e.check(Iu(...n)),e.length=(...n)=>e.check(Nu(...n)),e.nonempty=(...n)=>e.check(ti(1,...n)),e.lowercase=n=>e.check(bd(n)),e.uppercase=n=>e.check(xd(n)),e.trim=()=>e.check(Td()),e.normalize=(...n)=>e.check(Pd(...n)),e.toLowerCase=()=>e.check(Ad()),e.toUpperCase=()=>e.check(Rd())}),Md=P("ZodString",(e,t)=>{ku.init(e,t),lS.init(e,t),e.email=r=>e.check(fx(uO,r)),e.url=r=>e.check(Cd(pS,r)),e.jwt=r=>e.check($x(xO,r)),e.emoji=r=>e.check(Dx(cO,r)),e.guid=r=>e.check(vd(aS,r)),e.uuid=r=>e.check(mx(Ou,r)),e.uuidv4=r=>e.check(hx(Ou,r)),e.uuidv6=r=>e.check(gx(Ou,r)),e.uuidv7=r=>e.check(yx(Ou,r)),e.nanoid=r=>e.check(vx(lO,r)),e.guid=r=>e.check(vd(aS,r)),e.cuid=r=>e.check(Cx(pO,r)),e.cuid2=r=>e.check(wx(dO,r)),e.ulid=r=>e.check(bx(fO,r)),e.base64=r=>e.check(Ax(CO,r)),e.base64url=r=>e.check(Rx(wO,r)),e.xid=r=>e.check(xx(mO,r)),e.ksuid=r=>e.check(Sx(hO,r)),e.ipv4=r=>e.check(Ex(gO,r)),e.ipv6=r=>e.check(_x(yO,r)),e.cidrv4=r=>e.check(Px(DO,r)),e.cidrv6=r=>e.check(Tx(vO,r)),e.e164=r=>e.check(Fx(bO,r)),e.datetime=r=>e.check(Fd(r)),e.date=r=>e.check($d(r)),e.time=r=>e.check(kd(r)),e.duration=r=>e.check(Id(r))});function D(e){return px(Md,e)}var Le=P("ZodStringFormat",(e,t)=>{ke.init(e,t),lS.init(e,t)}),uO=P("ZodEmail",(e,t)=>{gb.init(e,t),Le.init(e,t)});var aS=P("ZodGUID",(e,t)=>{mb.init(e,t),Le.init(e,t)});var Ou=P("ZodUUID",(e,t)=>{hb.init(e,t),Le.init(e,t)});var pS=P("ZodURL",(e,t)=>{yb.init(e,t),Le.init(e,t)});function dS(e){return Cd(pS,e)}var cO=P("ZodEmoji",(e,t)=>{Db.init(e,t),Le.init(e,t)});var lO=P("ZodNanoID",(e,t)=>{vb.init(e,t),Le.init(e,t)});var pO=P("ZodCUID",(e,t)=>{Cb.init(e,t),Le.init(e,t)});var dO=P("ZodCUID2",(e,t)=>{wb.init(e,t),Le.init(e,t)});var fO=P("ZodULID",(e,t)=>{bb.init(e,t),Le.init(e,t)});var mO=P("ZodXID",(e,t)=>{xb.init(e,t),Le.init(e,t)});var hO=P("ZodKSUID",(e,t)=>{Sb.init(e,t),Le.init(e,t)});var gO=P("ZodIPv4",(e,t)=>{Ab.init(e,t),Le.init(e,t)});var yO=P("ZodIPv6",(e,t)=>{Rb.init(e,t),Le.init(e,t)});var DO=P("ZodCIDRv4",(e,t)=>{Fb.init(e,t),Le.init(e,t)});var vO=P("ZodCIDRv6",(e,t)=>{$b.init(e,t),Le.init(e,t)});var CO=P("ZodBase64",(e,t)=>{Ib.init(e,t),Le.init(e,t)});var wO=P("ZodBase64URL",(e,t)=>{Nb.init(e,t),Le.init(e,t)});var bO=P("ZodE164",(e,t)=>{Ob.init(e,t),Le.init(e,t)});var xO=P("ZodJWT",(e,t)=>{Mb.init(e,t),Le.init(e,t)});var Mu=P("ZodNumber",(e,t)=>{gd.init(e,t),Pe.init(e,t),e.gt=(n,o)=>e.check(ei(n,o)),e.gte=(n,o)=>e.check(Er(n,o)),e.min=(n,o)=>e.check(Er(n,o)),e.lt=(n,o)=>e.check(Xo(n,o)),e.lte=(n,o)=>e.check(gn(n,o)),e.max=(n,o)=>e.check(gn(n,o)),e.int=n=>e.check(uS(n)),e.safe=n=>e.check(uS(n)),e.positive=n=>e.check(ei(0,n)),e.nonnegative=n=>e.check(Er(0,n)),e.negative=n=>e.check(Xo(0,n)),e.nonpositive=n=>e.check(gn(0,n)),e.multipleOf=(n,o)=>e.check(vs(n,o)),e.step=(n,o)=>e.check(vs(n,o)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function he(e){return Mx(Mu,e)}var SO=P("ZodNumberFormat",(e,t)=>{Lb.init(e,t),Mu.init(e,t)});function uS(e){return Bx(SO,e)}var Ld=P("ZodBoolean",(e,t)=>{Bb.init(e,t),Pe.init(e,t)});function be(e){return zx(Ld,e)}var fS=P("ZodBigInt",(e,t)=>{zb.init(e,t),Pe.init(e,t),e.gte=(n,o)=>e.check(Er(n,o)),e.min=(n,o)=>e.check(Er(n,o)),e.gt=(n,o)=>e.check(ei(n,o)),e.gte=(n,o)=>e.check(Er(n,o)),e.min=(n,o)=>e.check(Er(n,o)),e.lt=(n,o)=>e.check(Xo(n,o)),e.lte=(n,o)=>e.check(gn(n,o)),e.max=(n,o)=>e.check(gn(n,o)),e.positive=n=>e.check(ei(BigInt(0),n)),e.negative=n=>e.check(Xo(BigInt(0),n)),e.nonpositive=n=>e.check(gn(BigInt(0),n)),e.nonnegative=n=>e.check(Er(BigInt(0),n)),e.multipleOf=(n,o)=>e.check(vs(n,o));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});var EO=P("ZodNull",(e,t)=>{jb.init(e,t),Pe.init(e,t)});function Bd(e){return Vx(EO,e)}var _O=P("ZodAny",(e,t)=>{Ub.init(e,t),Pe.init(e,t)});function mS(){return Hx(_O)}var PO=P("ZodUnknown",(e,t)=>{Vb.init(e,t),Pe.init(e,t)});function Be(){return qx(PO)}var TO=P("ZodNever",(e,t)=>{Hb.init(e,t),Pe.init(e,t)});function AO(e){return Gx(TO,e)}var hS=P("ZodDate",(e,t)=>{qb.init(e,t),Pe.init(e,t),e.min=(n,o)=>e.check(Er(n,o)),e.max=(n,o)=>e.check(gn(n,o));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});var RO=P("ZodArray",(e,t)=>{Gb.init(e,t),Pe.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(ti(r,n)),e.nonempty=r=>e.check(ti(1,r)),e.max=(r,n)=>e.check(Iu(r,n)),e.length=(r,n)=>e.check(Nu(r,n)),e.unwrap=()=>e.element});function N(e,t){return Wx(RO,e,t)}var gS=P("ZodObject",(e,t)=>{Kb.init(e,t),Pe.init(e,t),me.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>Lt(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Be()}),e.loose=()=>e.clone({...e._zod.def,catchall:Be()}),e.strict=()=>e.clone({...e._zod.def,catchall:AO()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>me.extend(e,r),e.merge=r=>me.merge(e,r),e.pick=r=>me.pick(e,r),e.omit=r=>me.omit(e,r),e.partial=(...r)=>me.partial(vS,e,r[0]),e.required=(...r)=>me.required(CS,e,r[0])});function M(e,t){let r={type:"object",get shape(){return me.assignProp(this,"shape",{...e}),this.shape},...me.normalizeParams(t)};return new gS(r)}function Xe(e,t){return new gS({type:"object",get shape(){return me.assignProp(this,"shape",{...e}),this.shape},catchall:Be(),...me.normalizeParams(t)})}var yS=P("ZodUnion",(e,t)=>{yd.init(e,t),Pe.init(e,t),e.options=t.options});function Te(e,t){return new yS({type:"union",options:e,...me.normalizeParams(t)})}var FO=P("ZodDiscriminatedUnion",(e,t)=>{yS.init(e,t),Wb.init(e,t)});function zd(e,t,r){return new FO({type:"union",options:t,discriminator:e,...me.normalizeParams(r)})}var $O=P("ZodIntersection",(e,t)=>{Zb.init(e,t),Pe.init(e,t)});function Lu(e,t){return new $O({type:"intersection",left:e,right:t})}var kO=P("ZodRecord",(e,t)=>{Jb.init(e,t),Pe.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function ze(e,t,r){return new kO({type:"record",keyType:e,valueType:t,...me.normalizeParams(r)})}var Nd=P("ZodEnum",(e,t)=>{Yb.init(e,t),Pe.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{let s={};for(let i of n)if(r.has(i))s[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new Nd({...t,checks:[],...me.normalizeParams(o),entries:s})},e.exclude=(n,o)=>{let s={...t.entries};for(let i of n)if(r.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new Nd({...t,checks:[],...me.normalizeParams(o),entries:s})}});function Lt(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Nd({type:"enum",entries:r,...me.normalizeParams(t)})}var IO=P("ZodLiteral",(e,t)=>{Qb.init(e,t),Pe.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function B(e,t){return new IO({type:"literal",values:Array.isArray(e)?e:[e],...me.normalizeParams(t)})}var NO=P("ZodTransform",(e,t)=>{Xb.init(e,t),Pe.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=s=>{if(typeof s=="string")r.issues.push(me.issue(s,r.value,t));else{let i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!0),r.issues.push(me.issue(i))}};let o=t.transform(r.value,r);return o instanceof Promise?o.then(s=>(r.value=s,r)):(r.value=o,r)}});function DS(e){return new NO({type:"transform",transform:e})}var vS=P("ZodOptional",(e,t)=>{ex.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ve(e){return new vS({type:"optional",innerType:e})}var OO=P("ZodNullable",(e,t)=>{tx.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cS(e){return new OO({type:"nullable",innerType:e})}var MO=P("ZodDefault",(e,t)=>{rx.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function LO(e,t){return new MO({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}var BO=P("ZodPrefault",(e,t)=>{nx.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zO(e,t){return new BO({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}var CS=P("ZodNonOptional",(e,t)=>{ox.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jO(e,t){return new CS({type:"nonoptional",innerType:e,...me.normalizeParams(t)})}var UO=P("ZodCatch",(e,t)=>{ix.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function VO(e,t){return new UO({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var HO=P("ZodPipe",(e,t)=>{sx.init(e,t),Pe.init(e,t),e.in=t.in,e.out=t.out});function Od(e,t){return new HO({type:"pipe",in:e,out:t})}var qO=P("ZodReadonly",(e,t)=>{ax.init(e,t),Pe.init(e,t)});function GO(e){return new qO({type:"readonly",innerType:e})}var wS=P("ZodCustom",(e,t)=>{ux.init(e,t),Pe.init(e,t)});function KO(e){let t=new Dt({check:"custom"});return t._zod.check=e,t}function bS(e,t){return Zx(wS,e??(()=>!0),t)}function WO(e,t={}){return Jx(wS,e,t)}function ZO(e){let t=KO(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(me.issue(n,r.value,t._zod.def));else{let o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(me.issue(o))}},e(r.value,r)));return t}function jd(e,t){return Od(DS(e),t)}var xS={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};var Bu={};ba(Bu,{bigint:()=>XO,boolean:()=>QO,date:()=>e2,number:()=>YO,string:()=>JO});function JO(e){return dx(Md,e)}function YO(e){return Lx(Mu,e)}function QO(e){return jx(Ld,e)}function XO(e){return Ux(fS,e)}function e2(e){return Kx(hS,e)}Jt(cx());var SS="io.modelcontextprotocol/related-task",ju="2.0",at=bS(e=>e!==null&&(typeof e=="object"||typeof e=="function")),ES=Te([D(),he().int()]),_S=D(),bQ=Xe({ttl:Te([he(),Bd()]).optional(),pollInterval:he().optional()}),r2=M({ttl:he().optional()}),n2=M({taskId:D()}),Ud=Xe({progressToken:ES.optional(),[SS]:n2.optional()}),Yt=M({_meta:Ud.optional()}),Uu=Yt.extend({task:r2.optional()});var ut=M({method:D(),params:Yt.loose().optional()}),pr=M({_meta:Ud.optional()}),dr=M({method:D(),params:pr.loose().optional()}),ct=Xe({_meta:Ud.optional()}),Vu=Te([D(),he().int()]),o2=M({jsonrpc:B(ju),id:Vu,...ut.shape}).strict();var i2=M({jsonrpc:B(ju),...dr.shape}).strict();var PS=M({jsonrpc:B(ju),id:Vu,result:ct}).strict();var bs;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(bs||(bs={}));var TS=M({jsonrpc:B(ju),id:Vu.optional(),error:M({code:he().int(),message:D(),data:Be().optional()})}).strict();var Vd=Te([o2,i2,PS,TS]),xQ=Te([PS,TS]),Hd=ct.strict(),s2=pr.extend({requestId:Vu.optional(),reason:D().optional()}),qd=dr.extend({method:B("notifications/cancelled"),params:s2}),a2=M({src:D(),mimeType:D().optional(),sizes:N(D()).optional(),theme:Lt(["light","dark"]).optional()}),xs=M({icons:N(a2).optional()}),ni=M({name:D(),title:D().optional()}),AS=ni.extend({...ni.shape,...xs.shape,version:D(),websiteUrl:D().optional(),description:D().optional()}),u2=Lu(M({applyDefaults:be().optional()}),ze(D(),Be())),c2=jd(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,Lu(M({form:u2.optional(),url:at.optional()}),ze(D(),Be()).optional())),l2=Xe({list:at.optional(),cancel:at.optional(),requests:Xe({sampling:Xe({createMessage:at.optional()}).optional(),elicitation:Xe({create:at.optional()}).optional()}).optional()}),p2=Xe({list:at.optional(),cancel:at.optional(),requests:Xe({tools:Xe({call:at.optional()}).optional()}).optional()}),d2=M({experimental:ze(D(),at).optional(),sampling:M({context:at.optional(),tools:at.optional()}).optional(),elicitation:c2.optional(),roots:M({listChanged:be().optional()}).optional(),tasks:l2.optional()}),f2=Yt.extend({protocolVersion:D(),capabilities:d2,clientInfo:AS}),m2=ut.extend({method:B("initialize"),params:f2});var h2=M({experimental:ze(D(),at).optional(),logging:at.optional(),completions:at.optional(),prompts:M({listChanged:be().optional()}).optional(),resources:M({subscribe:be().optional(),listChanged:be().optional()}).optional(),tools:M({listChanged:be().optional()}).optional(),tasks:p2.optional()}),RS=ct.extend({protocolVersion:D(),capabilities:h2,serverInfo:AS,instructions:D().optional()}),g2=dr.extend({method:B("notifications/initialized"),params:pr.optional()});var Gd=ut.extend({method:B("ping"),params:Yt.optional()}),y2=M({progress:he(),total:Ve(he()),message:Ve(D())}),D2=M({...pr.shape,...y2.shape,progressToken:ES}),Kd=dr.extend({method:B("notifications/progress"),params:D2}),v2=Yt.extend({cursor:_S.optional()}),Ss=ut.extend({params:v2.optional()}),Es=ct.extend({nextCursor:_S.optional()}),C2=Lt(["working","input_required","completed","failed","cancelled"]),_s=M({taskId:D(),status:C2,ttl:Te([he(),Bd()]),createdAt:D(),lastUpdatedAt:D(),pollInterval:Ve(he()),statusMessage:Ve(D())}),Hu=ct.extend({task:_s}),w2=pr.merge(_s),Wd=dr.extend({method:B("notifications/tasks/status"),params:w2}),Zd=ut.extend({method:B("tasks/get"),params:Yt.extend({taskId:D()})}),Jd=ct.merge(_s),Yd=ut.extend({method:B("tasks/result"),params:Yt.extend({taskId:D()})}),SQ=ct.loose(),Qd=Ss.extend({method:B("tasks/list")}),Xd=Es.extend({tasks:N(_s)}),ef=ut.extend({method:B("tasks/cancel"),params:Yt.extend({taskId:D()})}),b2=ct.merge(_s),FS=M({uri:D(),mimeType:Ve(D()),_meta:ze(D(),Be()).optional()}),$S=FS.extend({text:D()}),tf=D().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),kS=FS.extend({blob:tf}),Ps=Lt(["user","assistant"]),oi=M({audience:N(Ps).optional(),priority:he().min(0).max(1).optional(),lastModified:Cs.datetime({offset:!0}).optional()}),IS=M({...ni.shape,...xs.shape,uri:D(),description:Ve(D()),mimeType:Ve(D()),annotations:oi.optional(),_meta:Ve(Xe({}))}),x2=M({...ni.shape,...xs.shape,uriTemplate:D(),description:Ve(D()),mimeType:Ve(D()),annotations:oi.optional(),_meta:Ve(Xe({}))}),S2=Ss.extend({method:B("resources/list")}),NS=Es.extend({resources:N(IS)}),E2=Ss.extend({method:B("resources/templates/list")}),OS=Es.extend({resourceTemplates:N(x2)}),rf=Yt.extend({uri:D()}),_2=rf,P2=ut.extend({method:B("resources/read"),params:_2}),MS=ct.extend({contents:N(Te([$S,kS]))}),LS=dr.extend({method:B("notifications/resources/list_changed"),params:pr.optional()}),T2=rf,A2=ut.extend({method:B("resources/subscribe"),params:T2}),R2=rf,F2=ut.extend({method:B("resources/unsubscribe"),params:R2}),$2=pr.extend({uri:D()}),k2=dr.extend({method:B("notifications/resources/updated"),params:$2}),I2=M({name:D(),description:Ve(D()),required:Ve(be())}),N2=M({...ni.shape,...xs.shape,description:Ve(D()),arguments:Ve(N(I2)),_meta:Ve(Xe({}))}),O2=Ss.extend({method:B("prompts/list")}),BS=Es.extend({prompts:N(N2)}),M2=Yt.extend({name:D(),arguments:ze(D(),D()).optional()}),L2=ut.extend({method:B("prompts/get"),params:M2}),nf=M({type:B("text"),text:D(),annotations:oi.optional(),_meta:ze(D(),Be()).optional()}),of=M({type:B("image"),data:tf,mimeType:D(),annotations:oi.optional(),_meta:ze(D(),Be()).optional()}),sf=M({type:B("audio"),data:tf,mimeType:D(),annotations:oi.optional(),_meta:ze(D(),Be()).optional()}),B2=M({type:B("tool_use"),name:D(),id:D(),input:ze(D(),Be()),_meta:ze(D(),Be()).optional()}),z2=M({type:B("resource"),resource:Te([$S,kS]),annotations:oi.optional(),_meta:ze(D(),Be()).optional()}),j2=IS.extend({type:B("resource_link")}),af=Te([nf,of,sf,j2,z2]),U2=M({role:Ps,content:af}),zS=ct.extend({description:D().optional(),messages:N(U2)}),jS=dr.extend({method:B("notifications/prompts/list_changed"),params:pr.optional()}),V2=M({title:D().optional(),readOnlyHint:be().optional(),destructiveHint:be().optional(),idempotentHint:be().optional(),openWorldHint:be().optional()}),H2=M({taskSupport:Lt(["required","optional","forbidden"]).optional()}),US=M({...ni.shape,...xs.shape,description:D().optional(),inputSchema:M({type:B("object"),properties:ze(D(),at).optional(),required:N(D()).optional()}).catchall(Be()),outputSchema:M({type:B("object"),properties:ze(D(),at).optional(),required:N(D()).optional()}).catchall(Be()).optional(),annotations:V2.optional(),execution:H2.optional(),_meta:ze(D(),Be()).optional()}),q2=Ss.extend({method:B("tools/list")}),VS=Es.extend({tools:N(US)}),qu=ct.extend({content:N(af).default([]),structuredContent:ze(D(),Be()).optional(),isError:be().optional()}),EQ=qu.or(ct.extend({toolResult:Be()})),G2=Uu.extend({name:D(),arguments:ze(D(),Be()).optional()}),K2=ut.extend({method:B("tools/call"),params:G2}),HS=dr.extend({method:B("notifications/tools/list_changed"),params:pr.optional()}),W2=M({autoRefresh:be().default(!0),debounceMs:he().int().nonnegative().default(300)}),qS=Lt(["debug","info","notice","warning","error","critical","alert","emergency"]),Z2=Yt.extend({level:qS}),J2=ut.extend({method:B("logging/setLevel"),params:Z2}),Y2=pr.extend({level:qS,logger:D().optional(),data:Be()}),Q2=dr.extend({method:B("notifications/message"),params:Y2}),X2=M({name:D().optional()}),eM=M({hints:N(X2).optional(),costPriority:he().min(0).max(1).optional(),speedPriority:he().min(0).max(1).optional(),intelligencePriority:he().min(0).max(1).optional()}),tM=M({mode:Lt(["auto","required","none"]).optional()}),rM=M({type:B("tool_result"),toolUseId:D().describe("The unique identifier for the corresponding tool call."),content:N(af).default([]),structuredContent:M({}).loose().optional(),isError:be().optional(),_meta:ze(D(),Be()).optional()}),nM=zd("type",[nf,of,sf]),zu=zd("type",[nf,of,sf,B2,rM]),oM=M({role:Ps,content:Te([zu,N(zu)]),_meta:ze(D(),Be()).optional()}),iM=Uu.extend({messages:N(oM),modelPreferences:eM.optional(),systemPrompt:D().optional(),includeContext:Lt(["none","thisServer","allServers"]).optional(),temperature:he().optional(),maxTokens:he().int(),stopSequences:N(D()).optional(),metadata:at.optional(),tools:N(US).optional(),toolChoice:tM.optional()}),GS=ut.extend({method:B("sampling/createMessage"),params:iM}),KS=ct.extend({model:D(),stopReason:Ve(Lt(["endTurn","stopSequence","maxTokens"]).or(D())),role:Ps,content:nM}),WS=ct.extend({model:D(),stopReason:Ve(Lt(["endTurn","stopSequence","maxTokens","toolUse"]).or(D())),role:Ps,content:Te([zu,N(zu)])}),sM=M({type:B("boolean"),title:D().optional(),description:D().optional(),default:be().optional()}),aM=M({type:B("string"),title:D().optional(),description:D().optional(),minLength:he().optional(),maxLength:he().optional(),format:Lt(["email","uri","date","date-time"]).optional(),default:D().optional()}),uM=M({type:Lt(["number","integer"]),title:D().optional(),description:D().optional(),minimum:he().optional(),maximum:he().optional(),default:he().optional()}),cM=M({type:B("string"),title:D().optional(),description:D().optional(),enum:N(D()),default:D().optional()}),lM=M({type:B("string"),title:D().optional(),description:D().optional(),oneOf:N(M({const:D(),title:D()})),default:D().optional()}),pM=M({type:B("string"),title:D().optional(),description:D().optional(),enum:N(D()),enumNames:N(D()).optional(),default:D().optional()}),dM=Te([cM,lM]),fM=M({type:B("array"),title:D().optional(),description:D().optional(),minItems:he().optional(),maxItems:he().optional(),items:M({type:B("string"),enum:N(D())}),default:N(D()).optional()}),mM=M({type:B("array"),title:D().optional(),description:D().optional(),minItems:he().optional(),maxItems:he().optional(),items:M({anyOf:N(M({const:D(),title:D()}))}),default:N(D()).optional()}),hM=Te([fM,mM]),gM=Te([pM,dM,hM]),yM=Te([gM,sM,aM,uM]),DM=Uu.extend({mode:B("form").optional(),message:D(),requestedSchema:M({type:B("object"),properties:ze(D(),yM),required:N(D()).optional()})}),vM=Uu.extend({mode:B("url"),message:D(),elicitationId:D(),url:D().url()}),CM=Te([DM,vM]),ZS=ut.extend({method:B("elicitation/create"),params:CM}),wM=pr.extend({elicitationId:D()}),bM=dr.extend({method:B("notifications/elicitation/complete"),params:wM}),JS=ct.extend({action:Lt(["accept","decline","cancel"]),content:jd(e=>e===null?void 0:e,ze(D(),Te([D(),he(),be(),N(D())])).optional())}),xM=M({type:B("ref/resource"),uri:D()});var SM=M({type:B("ref/prompt"),name:D()}),EM=Yt.extend({ref:Te([SM,xM]),argument:M({name:D(),value:D()}),context:M({arguments:ze(D(),D()).optional()}).optional()}),_M=ut.extend({method:B("completion/complete"),params:EM});var YS=ct.extend({completion:Xe({values:N(D()).max(100),total:Ve(he().int()),hasMore:Ve(be())})}),PM=M({uri:D().startsWith("file://"),name:D().optional(),_meta:ze(D(),Be()).optional()}),TM=ut.extend({method:B("roots/list"),params:Yt.optional()}),AM=ct.extend({roots:N(PM)}),RM=dr.extend({method:B("notifications/roots/list_changed"),params:pr.optional()}),_Q=Te([Gd,m2,_M,J2,L2,O2,S2,E2,P2,A2,F2,K2,q2,Zd,Yd,Qd,ef]),PQ=Te([qd,Kd,g2,RM,Wd]),TQ=Te([Hd,KS,WS,JS,AM,Jd,Xd,Hu]),AQ=Te([Gd,GS,ZS,TM,Zd,Yd,Qd,ef]),RQ=Te([qd,Kd,Q2,k2,LS,HS,jS,Wd,bM]),FQ=Te([Hd,RS,YS,zS,BS,NS,OS,MS,qu,VS,Jd,Xd,Hu]);var FM=Symbol("Let zodToJsonSchema decide on which parser to use");var lX=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var AU=H(qm(),1),RU=H(H_(),1);var o8=H($P(),1),kP=H(require("node:process"),1);var moe=kP.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE","PROGRAMFILES"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];var i8;i8=globalThis.crypto?.webcrypto??globalThis.crypto??import("node:crypto").then(e=>e.webcrypto);var ft=dS().superRefine((e,t)=>{if(!URL.canParse(e))return t.addIssue({code:xS.custom,message:"URL must be parseable",fatal:!0}),Wp}).refine(e=>{let t=new URL(e);return t.protocol!=="javascript:"&&t.protocol!=="data:"&&t.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),s8=Xe({resource:D().url(),authorization_servers:N(ft).optional(),jwks_uri:D().url().optional(),scopes_supported:N(D()).optional(),bearer_methods_supported:N(D()).optional(),resource_signing_alg_values_supported:N(D()).optional(),resource_name:D().optional(),resource_documentation:D().optional(),resource_policy_uri:D().url().optional(),resource_tos_uri:D().url().optional(),tls_client_certificate_bound_access_tokens:be().optional(),authorization_details_types_supported:N(D()).optional(),dpop_signing_alg_values_supported:N(D()).optional(),dpop_bound_access_tokens_required:be().optional()}),NP=Xe({issuer:D(),authorization_endpoint:ft,token_endpoint:ft,registration_endpoint:ft.optional(),scopes_supported:N(D()).optional(),response_types_supported:N(D()),response_modes_supported:N(D()).optional(),grant_types_supported:N(D()).optional(),token_endpoint_auth_methods_supported:N(D()).optional(),token_endpoint_auth_signing_alg_values_supported:N(D()).optional(),service_documentation:ft.optional(),revocation_endpoint:ft.optional(),revocation_endpoint_auth_methods_supported:N(D()).optional(),revocation_endpoint_auth_signing_alg_values_supported:N(D()).optional(),introspection_endpoint:D().optional(),introspection_endpoint_auth_methods_supported:N(D()).optional(),introspection_endpoint_auth_signing_alg_values_supported:N(D()).optional(),code_challenge_methods_supported:N(D()).optional(),client_id_metadata_document_supported:be().optional()}),a8=Xe({issuer:D(),authorization_endpoint:ft,token_endpoint:ft,userinfo_endpoint:ft.optional(),jwks_uri:ft,registration_endpoint:ft.optional(),scopes_supported:N(D()).optional(),response_types_supported:N(D()),response_modes_supported:N(D()).optional(),grant_types_supported:N(D()).optional(),acr_values_supported:N(D()).optional(),subject_types_supported:N(D()),id_token_signing_alg_values_supported:N(D()),id_token_encryption_alg_values_supported:N(D()).optional(),id_token_encryption_enc_values_supported:N(D()).optional(),userinfo_signing_alg_values_supported:N(D()).optional(),userinfo_encryption_alg_values_supported:N(D()).optional(),userinfo_encryption_enc_values_supported:N(D()).optional(),request_object_signing_alg_values_supported:N(D()).optional(),request_object_encryption_alg_values_supported:N(D()).optional(),request_object_encryption_enc_values_supported:N(D()).optional(),token_endpoint_auth_methods_supported:N(D()).optional(),token_endpoint_auth_signing_alg_values_supported:N(D()).optional(),display_values_supported:N(D()).optional(),claim_types_supported:N(D()).optional(),claims_supported:N(D()).optional(),service_documentation:D().optional(),claims_locales_supported:N(D()).optional(),ui_locales_supported:N(D()).optional(),claims_parameter_supported:be().optional(),request_parameter_supported:be().optional(),request_uri_parameter_supported:be().optional(),require_request_uri_registration:be().optional(),op_policy_uri:ft.optional(),op_tos_uri:ft.optional(),client_id_metadata_document_supported:be().optional()}),u8=M({...a8.shape,...NP.pick({code_challenge_methods_supported:!0}).shape}),c8=M({access_token:D(),id_token:D().optional(),token_type:D(),expires_in:Bu.number().optional(),scope:D().optional(),refresh_token:D().optional()}).strip(),l8=M({error:D(),error_description:D().optional(),error_uri:D().optional()}),IP=ft.optional().or(B("").transform(()=>{})),p8=M({redirect_uris:N(ft),token_endpoint_auth_method:D().optional(),grant_types:N(D()).optional(),response_types:N(D()).optional(),client_name:D().optional(),client_uri:ft.optional(),logo_uri:IP,scope:D().optional(),contacts:N(D()).optional(),tos_uri:IP,policy_uri:D().optional(),jwks_uri:ft.optional(),jwks:mS().optional(),software_id:D().optional(),software_version:D().optional(),software_statement:D().optional()}).strip(),d8=M({client_id:D(),client_secret:D().optional(),client_id_issued_at:he().optional(),client_secret_expires_at:he().optional()}).strip(),f8=p8.merge(d8),Doe=M({error:D(),error_description:D().optional()}).strip(),voe=M({token:D(),token_type_hint:D().optional()}).strip();var Ze=class extends Error{constructor(t,r){super(t),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){let t={error:this.errorCode,error_description:this.message};return this.errorUri&&(t.error_uri=this.errorUri),t}get errorCode(){return this.constructor.errorCode}},oa=class extends Ze{};oa.errorCode="invalid_request";var xi=class extends Ze{};xi.errorCode="invalid_client";var Si=class extends Ze{};Si.errorCode="invalid_grant";var Ei=class extends Ze{};Ei.errorCode="unauthorized_client";var ia=class extends Ze{};ia.errorCode="unsupported_grant_type";var sa=class extends Ze{};sa.errorCode="invalid_scope";var aa=class extends Ze{};aa.errorCode="access_denied";var _i=class extends Ze{};_i.errorCode="server_error";var ua=class extends Ze{};ua.errorCode="temporarily_unavailable";var ca=class extends Ze{};ca.errorCode="unsupported_response_type";var la=class extends Ze{};la.errorCode="unsupported_token_type";var pa=class extends Ze{};pa.errorCode="invalid_token";var da=class extends Ze{};da.errorCode="method_not_allowed";var fa=class extends Ze{};fa.errorCode="too_many_requests";var Pi=class extends Ze{};Pi.errorCode="invalid_client_metadata";var ma=class extends Ze{};ma.errorCode="insufficient_scope";var ha=class extends Ze{};ha.errorCode="invalid_target";var m8={[oa.errorCode]:oa,[xi.errorCode]:xi,[Si.errorCode]:Si,[Ei.errorCode]:Ei,[ia.errorCode]:ia,[sa.errorCode]:sa,[aa.errorCode]:aa,[_i.errorCode]:_i,[ua.errorCode]:ua,[ca.errorCode]:ca,[la.errorCode]:la,[pa.errorCode]:pa,[da.errorCode]:da,[fa.errorCode]:fa,[Pi.errorCode]:Pi,[ma.errorCode]:ma,[ha.errorCode]:ha};var L8=H(require("@sentry/node"),1);var B8=H(zP(),1);var z8=()=>{if(typeof globalThis<"u"&&globalThis.crypto)return globalThis.crypto;if(typeof require<"u")try{let e=require("crypto");if(e.webcrypto)return e.webcrypto}catch{}throw new Error("Web Crypto API is not available. Requires Node.js 15+ or a browser environment.")},lie=z8();var q8=H(require("@sentry/node"),1);var C=H(Wn(),1);function ph(e){switch(Xi("cli help",{subcommand:e}),console.log(""),En((0,C.bgCyan)((0,C.bold)((0,C.white)(" help ")))+"  "+(0,C.dim)(Xt)),e){case"add":case"generate":case"gen":case"g":En(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Generate Figma Components")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} figma generate URL [URL ...] `))}

Start the auto-mapping wizard for the Figma Component URLs pasted in.

${(0,C.yellow)("Usage:")}
  Get the URL by right-clicking on the Figma Component and selecting
  "Copy Link". Be sure to copy the URL from the main component.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--componentName")}  Name of the component to generate
  ${(0,C.cyan)("--mappingOutput")}  Output file name for the mapping
  ${(0,C.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,C.cyan)("--force")}          Force operation even if there are warnings
  ${(0,C.cyan)("--skipInstallation")} Skip the package installation step
  ${(0,C.cyan)("--yes")}            Auto-confirm all prompts`);break;case"auth":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Authentication")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} auth `))}

Re-authenticate with Figma and Builder.io.

${(0,C.yellow)("Environment Variables:")}
  ${(0,C.cyan)("BUILDER_PUBLIC_KEY")}   Your Builder.io public API key
  ${(0,C.cyan)("BUILDER_PRIVATE_KEY")}  Your Builder.io private API key
  ${(0,C.cyan)("FIGMA_PERSONAL_TOKEN")} Your Figma personal access token

${(0,C.yellow)("Non-Interactive Authentication:")}
  Environment variables can be used to skip the interactive authentication process.
  This is especially useful for CI/CD pipelines or automated workflows.

  Example using environment variables:
  ${(0,C.dim)('export BUILDER_PRIVATE_KEY="your-private-key"')}
  ${(0,C.dim)('export FIGMA_PERSONAL_TOKEN="your-figma-token"')}
  ${(0,C.dim)(`npx ${Oe()} figma generate <url> --ci`)}

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--force")}          Force re-authentication even if already authenticated
  ${(0,C.cyan)("--reset")}          Clear all stored credentials (logout)

${(0,C.yellow)("Learn More:")}
  \u2022 Builder.io API keys: https://www.builder.io/c/docs/using-your-api-key#managing-private-keys
  \u2022 Figma access token: https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens
  \u2022 CI setup guide: https://www.builder.io/c/docs/integrating-builder-figma

${(0,C.yellow)("Subcommands:")}
  ${(0,C.cyan)("status")}           Check if you are authenticated and display user/space info

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} auth status `))}

Check authentication status and user information.

${(0,C.yellow)("Clear Credentials:")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} auth --reset `))}

Clear all stored credentials to logout or switch accounts.`);break;case"publish":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Publish Mappings")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} figma publish `))}

Publish your Figma Mappings to Builder.io.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,C.cyan)("--force")}          Force publish even if there are warnings
  ${(0,C.cyan)("--verbose")}        Print output as JSON
  ${(0,C.cyan)("--dryrun")}         Run without making changes
  ${(0,C.cyan)("--yes")}            Auto-confirm all prompts
  ${(0,C.cyan)("--clearMappings")}  Remove all mappings from the space, publishing zero mappings`);break;case"migrate":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Migrate Mappings")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} figma migrate `))}

Migrate your existing Figma Mappings into the repo as local files.

${(0,C.yellow)("Description:")}
  Downloads existing Figma Mappings from Builder.io and saves them locally.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--force")}          Force migration even if there are warnings
  ${(0,C.cyan)("--yes")}            Auto-confirm all prompts`);break;case"code":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Code Generation")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} code --url URL `))}

Generate or modify code based on Figma designs.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--url")}            URL to start completion from
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--prompt")}         Prompt text for non-interactive mode
  ${(0,C.cyan)("--workspace")}      Specify a workspace configuration file for multi-root workspaces
  ${(0,C.cyan)("--mode")}           Generation mode - either 'exact' for precise matches or 'creative' for more flexibility
  ${(0,C.cyan)("--cwd")}            Working directory to run commands from
  ${(0,C.cyan)("--disableMcp")}     Disable MCP server support
  ${(0,C.cyan)("--privacyMode")}    Enable privacy mode for codegen (encrypts sensitive data)
${(0,C.yellow)("Configuration Files:")}
  ${(0,C.cyan)(".builderignore")}   Add patterns to exclude files from being included in code generation
  ${(0,C.cyan)(".builderrules")}    Add custom instructions that will be injected into the LLM prompt
  ${(0,C.cyan)(".cursorrules")}     Cursor's settings are automatically supported for consistent behavior`);break;case"indexing":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Code Indexing")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} code indexing `))}

Index your codebase to improve code generation results.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--cwd")}            Working directory to run commands from`);break;case"index-repo":case"repo-index":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Repository Indexing")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} index-repo `))}

Index your entire repository to improve code generation results.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,C.cyan)("--cwd")}            Working directory to run commands from
  ${(0,C.cyan)("--components")}     Comma-separated list of specific component names to reindex
  ${(0,C.cyan)("--force")}          Force reindexing even if no changes detected
  ${(0,C.cyan)("--designSystemName")} Name of the design system to index
  ${(0,C.cyan)("--designSystemPackage")} NPM package name to index
  ${(0,C.cyan)("--addDirectory")} Additional directories to include in indexing
  ${(0,C.cyan)("--exclude")} Glob patterns to exclude from indexing
  ${(0,C.cyan)("--include")} Glob patterns to include in indexing
  ${(0,C.cyan)("--instructions")} Add extra instructions to be taken into account during repo indexing

${(0,C.yellow)("Examples:")}
  ${(0,C.cyan)(`npx ${Oe()} index-repo`)} - Index entire repository
  ${(0,C.cyan)(`npx ${Oe()} index-repo --components "Button,Input,Card"`)} - Reindex specific components
  ${(0,C.cyan)(`npx ${Oe()} index-repo --components "Button" --force`)} - Force reindex Button component`);break;case"launch":case"fusion":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Fusion Development Server")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} launch -p <port> -c <command> `))}

This command will:
1. Run your development server command
2. Create a proxy server that injects Builder.io scripts into your application on the specified port
3. Set up an API server to handle Builder.io operations

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("-p, --port")}    Port number where your application is running
  ${(0,C.cyan)("-c, --command")} Command to run your development server
  ${(0,C.cyan)("--no-open")}     Skip automatically opening the browser
  ${(0,C.cyan)("--privacyMode")} Enable privacy mode for codegen (encrypts sensitive data)
  ${(0,C.cyan)("--chat")}        Open Builder in chat-only mode

${(0,C.yellow)("Example:")}
  ${(0,C.cyan)('npx builder.io launch -p 3000 -c "npm run dev"')}

${(0,C.yellow)("Note:")}
  - The proxy runs on port ${(0,C.cyan)("48752")} and the API server on port ${(0,C.cyan)("48753")}`);break;case"launch-init":En(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Initialize Builder.io Repository")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} init `))}

Clone and initialize a repository for use with Builder.io.

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--repoFullName")}    Repository name in format owner/repo
  ${(0,C.cyan)("--branchName")}      Branch name to clone (required)
  ${(0,C.cyan)("--githubToken")}     GitHub token for private repositories
  ${(0,C.cyan)("--installCommand")}  Command to install dependencies (defaults to npm install)`);break;case"repo-connect":case"connect-repo":re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bold)("Connect Repository to Builder.io")}

${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} connect-repo `))}

Connect your existing git repository to Builder.io Fusion by creating a new project.

This command will:
1. Detect your git repository and configuration
2. Run your project's install command with retry support
3. Collect and let you select environment variables to include
4. Gather configuration files (.npmrc, /etc/hosts)
5. Detect installed tools (node, npm, pnpm, yarn, bun, deno)
6. Create a new Fusion project with all collected information

${(0,C.yellow)("Arguments:")}
  ${(0,C.cyan)("--installCommand")}  Install command to run (e.g., 'npm install', 'pnpm install')
  ${(0,C.cyan)("--spaceId")}         Builder.io space ID to use
  ${(0,C.cyan)("--cwd")}             Working directory to run from
  ${(0,C.cyan)("--dryrun")}          Run without creating the project (shows configuration only)

${(0,C.yellow)("Features:")}
  \u2022 Automatic git repository detection
  \u2022 Monorepo support (detects recommended root path)
  \u2022 Interactive environment variable selection
  \u2022 Retry logic for installation failures
  \u2022 Configuration file collection (.npmrc, hosts)
  \u2022 Tool version detection for reproducible builds

${(0,C.yellow)("Example:")}
  ${(0,C.cyan)("cd /path/to/your/project")}
  ${(0,C.cyan)(`npx ${Oe()} connect-repo`)}
  ${(0,C.cyan)(`npx ${Oe()} connect-repo --installCommand "pnpm install"`)}
  ${(0,C.cyan)(`npx ${Oe()} connect-repo --dryrun`)}

${(0,C.yellow)("Note:")}
  - Must be run from within a git repository
  - Creates a new Fusion project with needSetup: true
  - Environment variables can be selected interactively
  - Use --dryrun to preview the configuration without creating the project`);break;case"figma":re.info(`${(0,C.bold)("Figma Commands:")}
`),[{command:"figma generate URL [URL ...]",description:"Start the auto-mapping wizard for Figma Component URLs"},{command:"figma publish",description:"Publish your Figma Mappings to Builder.io"},{command:"figma migrate",description:"Migrate existing Figma Mappings into the repo as local files"},{command:"figma auth",description:"Authenticate with Figma and Builder.io"}].forEach(({command:n,description:o})=>{re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} ${n} `))}
   ${(0,C.dim)(o)}
`)}),re.info(`For detailed help about a specific command, run:
  ${(0,C.cyan)(`npx ${Oe()} figma <command> --help`)}`);break;default:re.info(`${(0,C.bold)("Available Commands:")}
`),[{command:"launch",description:"Launch Builder Fusion development server"},{command:"auth",description:"Authenticate with Builder.io"},{command:"index-repo",description:"Index your design system repository for AI code generation"},{command:"connect-repo",description:"Connect your git repository to Builder.io Fusion"},{command:"code",description:"Generate or modify code based on Figma designs"},{command:"figma generate",description:"Start the auto-mapping wizard for Figma Component URLs"},{command:"figma publish",description:"Publish your Figma Mappings to Builder.io"},{command:"figma migrate",description:"Migrate existing Figma Mappings into the repo as local files"},{command:"add",description:"Add a component to your project"}].forEach(({command:n,description:o})=>{re.info(`${(0,C.cyan)("\u2192")} ${(0,C.bgGreen)((0,C.white)(` npx ${Oe()} ${n} `))}
   ${(0,C.dim)(o)}
`)}),re.info(`For detailed help about a specific command, run:
  ${(0,C.cyan)(`npx ${Oe()} <command> --help`)}`)}Ma("bye \u{1F44B}")}var dh=H(require("node:process"),1);function fh(){let{env:e}=dh.default,{TERM:t,TERM_PROGRAM:r}=e;return dh.default.platform!=="win32"?t!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||t==="xterm-256color"||t==="alacritty"||t==="rxvt-unicode"||t==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var mh=H(Wn(),1),Ti=H(Aa(),1),ga=H(Wn(),1),gh=()=>{let e=hh?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],t=hh?80:120,r,n=!1,o="",s="",i="",a=g=>{let y=g>1?"Something went wrong":"Canceled";n&&h(y,g)},u=(g,y)=>{console.error(y,g),a(2)},c=()=>a(1),l=()=>{process.on("uncaughtExceptionMonitor",u),process.on("unhandledRejection",u),process.on("SIGINT",c),process.on("SIGTERM",c),process.on("exit",a)},p=()=>{process.removeListener("uncaughtExceptionMonitor",u),process.removeListener("unhandledRejection",u),process.removeListener("SIGINT",c),process.removeListener("SIGTERM",c),process.removeListener("exit",a)},d=(g="")=>{n=!0,o=g.replace(/\.+$/,""),process.stdout.write(`${mh.default.gray(W8)}
`);let y=0,b=0;l(),process.env.CI||(r=setInterval(()=>{let w=mh.default.magenta(e[y]),T=".".repeat(Math.floor(b)).slice(0,3);process.stdout.write(Ti.cursor.move(-999,-i.split(`
`).length+1)),process.stdout.write(Ti.erase.down(i.split(`
`).length));let E=`${w}  ${o}${T}${s}`;process.stdout.write(E),y=y+1<e.length?y+1:0,b=b<e.length?b+.125:0,i=E},t))},h=(g,y=0)=>{o=g??o,n=!1,clearInterval(r);let b=y===0?(0,ga.green)(Y8):y===1?(0,ga.red)(Z8):(0,ga.red)(J8);process.stdout.write(Ti.cursor.move(-999,-i.split(`
`).length+1)),process.stdout.write(Ti.erase.down(i.split(`
`).length)),process.stdout.write(`${b}  ${o}
`),i=o,p()};return{start:d,stop:h,message:(g="")=>{o=g??o},extra:(g="")=>{s=g}}},hh=fh(),Ac=(e,t)=>hh?e:t,W8=Ac("\u2502","|"),Z8=Ac("\u25A0","x"),J8=Ac("\u25B2","x"),Y8=Ac("\u25C7","o");var jP=require("child_process");async function yh(e){try{let i=(await import("open")).default;await i(e);return}catch{}let t=process.platform,r,n;if(t==="darwin")r="open",n=[e];else if(t==="win32"){let s=`Start-Process '${e.replace(/'/g,"''")}'`,i=Buffer.from(s,"utf16le").toString("base64");r="powershell.exe",n=["-NoProfile","-NonInteractive","-EncodedCommand",i]}else r="xdg-open",n=[e];let o=t==="win32";return new Promise((s,i)=>{let a=(0,jP.spawn)(r,n,{stdio:"ignore",detached:!o,shell:o});a.on("error",i),a.on("spawn",()=>{a.off("error",i),a.unref(),s()}),a.on("close",u=>{u!==null&&u!==0&&i(new Error(`Failed to open browser with exit code ${u}`))})})}var X8=H(require("@sentry/node"),1);var Oue=`
   `+(0,on.dim)("ESC to interrupt");var yr=H(require("typescript"),1);function Dh(e){return!(e.category!==yr.DiagnosticCategory.Error||!e.file||e.code===6133||e.code===6138||e.code===6305||e.code===6196||e.code===6192||e.code===6198||e.code===6199||e.code===6205||e.code===1449||e.code===2578||e.code===7006||e.code===5074||e.code===7026||e.code===2503||e.code===2695||e.code===2322)}async function e4(e,t,r){let n=[],o=[t],s=e.relative(e.getAppRootDir(),t.fileName);for(;o.length>0;){let i=o.shift();if(i4(i,t)){let a=r4(e,i,t,r),{line:u,character:c}=t.getLineAndCharacterOfPosition(i.getStart());a&&(a.loc=`${s}:${u+1}:${c+1}`,n.push(a))}o.push(...i.getChildren(t))}return n}var t4="figmaMapping";function r4(e,t,r,n){let[o]=t.arguments;if(!o)throw new Error("Invalid figmaMapping call, no arguments found");if(!Z.default.isObjectLiteralExpression(o))throw new Error("Invalid figmaMapping call, argument is not an object literal");let s=o.properties;if(!s)throw new Error("Invalid figmaMapping call, argument has no properties");let i="",a,u,c,l="-",p=e.basename(r.fileName).replace(/\.mapper\.[tsxjm]+$/,""),d,h,m,f,g;if(t.typeArguments&&t.typeArguments.length>0){let $=UP(t.typeArguments[0].getText(r));$&&(p=$)}for(let $ of s){let I=$.name?.getText(r);if(!I)throw new Error("Invalid figmaMapping call, property has no name");switch(I){case"componentName":{if(!("initializer"in $))throw new Error("Invalid figmaMapping call, componentName has no initializer");let k=$.initializer;if(!Z.default.isStringLiteral(k))throw new Error("Invalid figmaMapping call, componentName is not a string literal");a=k.text;break}case"url":{if(!("initializer"in $))throw new Error("Invalid figmaMapping call, url has no initializer");let k=$.initializer;if(!Z.default.isStringLiteral(k))throw new Error("Invalid figmaMapping call, url is not a string literal");f=k.text;break}case"componentKey":{if(!("initializer"in $))throw new Error("Invalid figmaMapping call, componentKey has no initializer");let k=$.initializer;if(!Z.default.isStringLiteral(k))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");i=k.text;break}case"meta":{if(!("initializer"in $))throw new Error("Invalid figmaMapping call, meta has no initializer");let k=$.initializer;if(Z.default.isObjectLiteralExpression(k)){g={imports:[]};for(let F of k.properties)Z.default.isPropertyAssignment(F)&&Z.default.isIdentifier(F.name)&&F.name.text==="imports"&&Z.default.isArrayLiteralExpression(F.initializer)&&(g.imports=F.initializer.elements.map(z=>{if(Z.default.isStringLiteral(z))return z.text;if(Z.default.isObjectLiteralExpression(z)){let V={};for(let G of z.properties)if(Z.default.isPropertyAssignment(G)&&Z.default.isIdentifier(G.name)){let x=G.name.text;Z.default.isStringLiteral(G.initializer)&&(V[x]=G.initializer.text)}return V}return null}).filter(Boolean))}break}case"mapper":if(Z.default.isMethodDeclaration($)){let k=function(v){let V=n.getSymbolAtLocation(v)?.getDeclarations()?.[0];if(V){let G=o4(V);if(G?.importClause){let x=G.importClause.name?.getText(r);return x===l?(d="default",h=x):G.importClause.namedBindings&&Z.default.isNamedImports(G.importClause.namedBindings)&&(d="named",G.importClause.namedBindings.elements.forEach(_=>{_.name.getText(r)===l&&(h=_.name.getText(r))})),h&&Z.default.isStringLiteral(G.moduleSpecifier)&&(m=G.moduleSpecifier.text),!0}}return!1},F=function(v){if((Z.default.isJsxOpeningElement(v)||Z.default.isJsxSelfClosingElement(v))&&Z.default.isIdentifier(v.tagName)){l=v.tagName.getText(r),k(v.tagName);return}else if(Z.default.isTaggedTemplateExpression(v)&&Z.default.isIdentifier(v.tag)&&(v.tag.escapedText==="html"||v.tag.escapedText==="tmpl")){if(Z.default.isTemplateExpression(v.template)){let V=v.template.templateSpans.find(G=>Z.default.isIdentifier(G.expression)&&n4(G.expression.text)&&k(G.expression));if(V&&Z.default.isIdentifier(V.expression)){l=V.expression.text;return}}let z=v.template.getText(r).match(/^`\s*<([^\s]+)/);if(z){l=z[1];return}if(z=v.template.getText(r).match(/^`\s*([^\s]+)/),z){l=z[1];return}}else Z.default.forEachChild(v,F)};var E=k,R=F;if($.parameters&&$.parameters.length>0&&$.parameters[0]&&$.parameters[0].type){let v=$.parameters[0].type.getText(r),z=UP(v);z&&(p=z)}Z.default.forEachChild($,F),c=$.getText(r).replace(/^mapper/,"function Mapper"),u=vh(c);break}case"designTokenMapper":if(Z.default.isMethodDeclaration($)){c=$.getText(r).replace(/^designTokenMapper/,"function Mapper"),u=vh(c),i="design-tokens";break}case"genericMapper":if(Z.default.isMethodDeclaration($)){c=$.getText(r).replace(/^genericMapper/,"function Mapper"),u=vh(c),i="*";break}}}if(!i&&!f)throw new Error("Invalid figmaMapping call, no componentKey or url found");if(!i&&!u)throw new Error("Invalid figmaMapping call, no mapper found");if(!i&&!c)throw new Error("Invalid figmaMapping call, no original mapper found");let y=u4(r),b=g?.imports??[],w=[],T=[];w.push(...y);for(let $ of b)typeof $=="string"?T.push($):w.push($);return{builderName:l,figmaName:a??p,figmaKey:i,figmaUrl:f,inputMapper:u,exportType:d,importName:h,importPath:m,originalInputMapper:c,imports:w,importStrings:T.length>0?T:void 0,source:"cli"}}function n4(e){return e.charAt(0)===e.charAt(0).toUpperCase()}function vh(e){return Z.default.transpile(e,{target:Z.default.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:Z.default.ModuleResolutionKind.NodeJs,module:Z.default.ModuleKind.CommonJS,noImplicitAny:!1,esModuleInterop:!0,noUnusedLocals:!1,noUnusedParameters:!1,jsx:Z.default.JsxEmit.React,jsxFactory:"React.createElement",jsxFragmentFactory:"React.Fragment",allowJs:!0,checkJs:!0,strict:!0,suppressImplicitAnyIndexErrors:!0,typeRoots:["node_modules/@types"],inlineSources:!0,inlineSourceMap:!0})}function o4(e){let t=e;for(;t;){if(Z.default.isImportDeclaration(t))return t;t=t.parent}}function i4(e,t){return Z.default.isCallExpression(e)&&e.expression.getText(t)===t4}async function VP(e){let t=["node_modules","dist","build","public"];return(await e.readdirRecursive(e.getAppRootDir(),t)).filter(n=>er(n))}function UP(e){let t=e.match(/^Figma(\w+)Props$/);if(t&&typeof t[1]=="string")return t[1]}async function HP(e,t,r,n=!1){try{return r||(r=await eu(e)),(await r.setPublicApiKey({publicApiKey:t})).modifiedType==="permission-error"?{success:!1,error:"permission-error"}:(n&&await r.ensureFigmaImportPage(),{success:!0})}catch(o){let s="unknown-error";return o instanceof Error?s=o.message:typeof o=="string"&&(s=o),{success:!1,error:s}}}var s4={getCanonicalFileName:e=>e,getCurrentDirectory:()=>Z.default.sys.getCurrentDirectory(),getNewLine:()=>Z.default.sys.newLine};function a4(e){return Z.default.formatDiagnosticsWithColorAndContext(e,s4)}async function qP({sys:e,mappingFiles:t,typeCheck:r}){if(e.Sentry?.setContext("findMappings",{mappingFiles:t}),!t.length)return{mapperFiles:[],figmaBuilderLinks:[],figmaLinksToResolve:[],diagnostics:[]};let n=[],o=[],s=[],i=await Ye(e,t),a=i.getTypeChecker(),u=i.getSyntacticDiagnostics().filter(Dh).filter(p=>p.file?.fileName?t.includes(p.file.fileName):!1);if(u.length>0)return re.error(`At least one of the mappings contain syntactic errors:

${a4(u)}`),pn(1);let c=[...r?i.getSemanticDiagnostics():[]].filter(Dh);for(let p of t)try{let d=i.getSourceFile(p);if(!d){e.Sentry?.captureException(new Error("Could not find source file"),{extra:{file:p,sourceFiles:i.getSourceFiles().map(f=>f.fileName)},level:"warning"});continue}let h=d?.fileName;if(o.push({filePath:p,content:d.getText()}),h){let f=c.filter(g=>g.file?.fileName===h);f.length>0&&s.push(...f)}let m=await e4(e,d,a);n.push(...m)}catch(d){return e.Sentry?.captureException(d),await pn(1)}let l=n.filter(p=>p.figmaUrl&&!p.figmaKey).map(p=>p.figmaUrl);return{mapperFiles:o,figmaBuilderLinks:n,figmaLinksToResolve:l,diagnostics:s}}function u4(e){let t=[];for(let r of e.statements){if(!Z.default.isImportDeclaration(r)||!r.importClause||r.importClause.isTypeOnly||!Z.default.isStringLiteral(r.moduleSpecifier))continue;let n=r.moduleSpecifier.text;if(n.startsWith("@builder.io"))continue;r.importClause.name&&t.push({importType:"default",importName:r.importClause.name.text,importPath:n});let o=r.importClause.namedBindings;if(o&&Z.default.isNamedImports(o))for(let s of o.elements)s.isTypeOnly||t.push({importType:"named",importName:s.name.text,importPath:n})}return t}var ZP=require("crypto");var c4=5294,l4=5284,wh=4,Ch=e=>!!(process.env.CI||e.ci),p4=(e,t)=>{let r=Ch(t)?{}:bh(e),n=r.spaceName,o=t.builderUserId??process.env.BUILDER_USER_ID??r.userId,s=t.builderPublicKey??process.env.BUILDER_PUBLIC_KEY??r.builderPublicKey,i=t.builderPrivateKey??process.env.BUILDER_PRIVATE_KEY??r.builderPrivateKey,a=process.env.FIGMA_PERSONAL_TOKEN??t.figmaToken,u;return a?u={access_token:a,oauth:!1}:u=r.figmaAuth,{spaceName:n,userId:o,builderPublicKey:s,builderPrivateKey:i,figmaAuth:u,timestamp:r.timestamp}},ts=async(e,t,r)=>{let{spaceName:n,userId:o,builderPublicKey:s,builderPrivateKey:i,figmaAuth:a,timestamp:u}=p4(e,t);if(r.forceSpaceId&&!t.yes&&s&&s!==r.forceSpaceId)if(re.warning(`You are currently authenticated for space ${(0,Vn.yellow)(s)} (${n||"unnamed"}), but this command requires space ${(0,Vn.green)(r.forceSpaceId)}.`),await Oi({message:"You must switch to the correct space to continue with this code generation command.",options:[{value:"switch",label:"Switch to required space",hint:"Authenticate with the correct space and continue"},{value:"exit",label:"Exit code generation",hint:"Cancel the command and stay in current space"}]})==="switch")s=r.forceSpaceId,i=void 0,n=void 0,o=void 0;else return re.info("Code generation cancelled. You can run the command again when you're ready to switch spaces."),await pn(1);if(Ch(t)){if(!a&&r.requireFigmaAuth==="if-unset")throw new Error(`No Figma personal token found.
Please set the FIGMA_PERSONAL_TOKEN environment variable.`);if(!i&&r.builderPrivateKey)throw new Error(`No Builder private key found.
Please set the BUILDER_PRIVATE_KEY environment variable.`);if(!s&&r.builderPublicKey)throw new Error(`No Builder public key found.
Please set the BUILDER_PUBLIC_KEY environment variable.`);return{figmaAuth:a,builderPublicKey:s,builderPrivateKey:i,userId:o,spaceName:n}}if((r.requireFigmaAuth==="always"||!a&&r.requireFigmaAuth==="if-unset")&&(a=await f4(e),GP(e,{figmaAuth:a})),r.force||!i&&r.builderPrivateKey||!s&&r.builderPublicKey){let{privateKey:c,spaceId:l,spaceName:p,userId:d}=await m4(e,r.forceSpaceId);if(r.forceSpaceId&&l!==r.forceSpaceId)throw new Error(`OAuth flow returned space ${(0,Vn.yellow)(l)}, however the command specified --spaceId=${(0,Vn.green)(r.forceSpaceId)}`);s=l,i=c,n=p,o=d,await kD(o),await Sn(e,e.getAppRootDir())&&(await HP(e,l,void 0,!1)||re.warn("Unable to set public api key in an existing .env file or create a new one. Please ensure you have write access in the current directory.")),GP(e,{builderPublicKey:s,builderPrivateKey:i,spaceName:n,userId:o,timestamp:new Date().toISOString()})}return o?e.Sentry?.setUser({id:o,username:process.env.USER||process.env.USERNAME||"unknown"}):s&&e.Sentry?.setUser({id:s,username:process.env.USER||process.env.USERNAME||"unknown"}),(n||s)&&e.Sentry?.setContext("builder",{spaceId:s,spaceName:n,userId:o}),{figmaAuth:a,builderPublicKey:s,builderPrivateKey:i,spaceName:n,userId:o,timestamp:u}},d4="RHr2ed743waC2g2ZHMEJSn6O0NQ08L";async function f4(e){let t=(0,ZP.randomUUID)();return JP({sys:e,name:"Figma",initialPort:c4,requestListener:async(r,n,o,s,i)=>{let a=new URL(n.url||"",`http://localhost:${r}`);if(a.pathname==="/figma-connect"){let u=a.searchParams.get("code"),c=a.searchParams.get("state"),l="nrGCqw6TLl95QJhVDi097A",p=d4,h=`Basic ${Buffer.from(`${l}:${p}`).toString("base64")}`;if(u&&t===c){let f=await(await Kr("https://api.figma.com/v1/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:h},body:new URLSearchParams({redirect_uri:`http://localhost:${r}/figma-connect`,code:u,grant_type:"authorization_code"}).toString()})).json();o.end(`<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Figma"),()=>{s({...f,oauth:!0})})}}},onListen:r=>{let n=new URL("https://www.figma.com/oauth");return n.searchParams.set("client_id","nrGCqw6TLl95QJhVDi097A"),n.searchParams.set("redirect_uri",`http://localhost:${r}/figma-connect`),n.searchParams.set("scope","files:read,file_dev_resources:read,file_variables:read"),n.searchParams.set("state",t),n.searchParams.set("response_type","code"),n.href}})}async function m4(e,t){let r=await e.getDeviceId();return JP({sys:e,name:"Builder.io",initialPort:l4,requestListener:async(n,o,s,i)=>{let a=new URL(o.url||"",`http://localhost:${n}`);a.pathname===qn&&s.end(`<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Builder.io"),()=>{i({privateKey:a.searchParams.get("p-key")||"",spaceId:a.searchParams.get("api-key")||"",spaceName:a.searchParams.get("org-name")||"",userId:a.searchParams.get("user-id")||""})})},onListen:n=>{let o=new URL("/cli-auth","https://builder.io");o.searchParams.set("client_id","builder-dev-tools-cli"),o.searchParams.set("host",r),o.searchParams.set("response_type","code"),o.searchParams.set("cli","true"),t&&o.searchParams.set("space_id",t);let s=new URL(qn,`http://localhost:${n}`);s.searchParams.set(xa,(0,WP.platform)()),s.searchParams.set(Sa,process.versions.node);let i=e.getFrameworks();return i.length>0&&(o.searchParams.set(bo,i[0].name),s.searchParams.set(bo,i[0].name)),o.searchParams.set("redirect_url",s.href),o.href}})}function GP(e,t){if((0,At.existsSync)((0,Qt.join)(e.getAppRootDir(),"node_modules"))){let n=(0,Qt.join)(e.getAppRootDir(),"node_modules",".builder"),o=(0,Qt.join)(n,"data.json"),s=bh(e);t=Object.assign(s,t),(0,At.mkdirSync)((0,Qt.dirname)(o),{recursive:!0}),(0,At.writeFileSync)(o,JSON.stringify({credentials:t},null,2))}else{let n=(0,Qt.join)(e.getAppRootDir(),".config","builderio"),o=(0,Qt.join)(n,"data.json"),s=(0,Qt.join)(e.getAppRootDir(),".gitignore"),i=bh(e);t=Object.assign(i,t),(0,At.mkdirSync)((0,Qt.dirname)(o),{recursive:!0}),(0,At.writeFileSync)(o,JSON.stringify({credentials:t},null,2));let a=".config/";if((0,At.existsSync)(s)){let u=(0,At.readFileSync)(s,"utf8");u.includes(a)||(0,At.writeFileSync)(s,u+`
`+a+`
`)}else(0,At.writeFileSync)(s,a+`
`)}}function bh(e){let t=(0,Qt.join)(e.getAppRootDir(),".config","builderio","data.json"),r=[(0,Qt.join)(e.getAppRootDir(),"node_modules",".builder","data.json"),t,(0,Qt.join)(e.getRepoRootDir(),".git",".builder.json")];for(let n of r)if((0,At.existsSync)(n))try{let o=(0,At.readFileSync)(n,"utf8");return JSON.parse(o).credentials}catch(o){e.Sentry?.captureException(o,{level:"warning"})}return{}}async function JP(e){let t,r,n,o=new Promise((p,d)=>{t=p,r=d}),s=e.initialPort,i=0,a=(0,KP.createServer)((p,d)=>e.requestListener(s,p,d,t,r)),u=()=>{c(),a&&("closeAllConnections"in a&&a.closeAllConnections(),a.close(p=>{p&&e.sys.Sentry?.captureException(p)}))};process.on("uncaughtExceptionMonitor",u),process.on("unhandledRejection",u),process.on("SIGINT",u),process.on("SIGTERM",u),process.on("exit",u);let c=()=>{process.removeListener("uncaughtExceptionMonitor",u),process.removeListener("unhandledRejection",u),process.removeListener("SIGINT",u),process.removeListener("SIGTERM",u),process.removeListener("exit",u)},l=()=>new Promise((p,d)=>{let h=m=>{a.removeListener("error",h),m.code==="EADDRINUSE"&&i<wh?(re.warning(`Port ${s} is already in use, trying next port`),s++,i++,p(0)):d(m)};a.once("error",h),a.listen(s,()=>{a.removeListener("error",h);let m=a.address();p(m.port)})});try{let p=0;for(;p===0&&i<wh;)p=await l();if(p===0)throw new Error(`Failed to find an available port after ${wh} attempts`);let d=e.onListen(p);re.warn(`Required authenticating with ${e.name}
OPEN: ${(0,Vn.dim)(d)}`),n=gh(),n.start(`Waiting for ${e.name} authentication`),await yh(d);let h=await o;return n&&n.stop(`Authenticated with ${e.name} successfully`),h}catch(p){throw n&&(n.stop(`Failed to authenticate with ${e.name}.`,-1),ph("auth")),e.sys.Sentry?.captureException(p),u(),p}finally{u()}}async function QP(e,t,r,n){try{if(!e)return Ai(r,n,400,"Builder context closed");let o=v4(r);if(o.pathname===kc){if(r.method==="POST"){let s=await D4(r);if(s)try{let i=await Qh(e,JSON.parse(s));return YP(r,n,200,i)}catch(i){e.debug("Dev API Error",i.stack||i.message||i);let a={errors:[String(i.message||i)]};return YP(r,n,500,a)}}else if(r.method==="OPTIONS"){let s={"Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Cache-Control, X-Builder-Devtools-Version, sentry-trace, baggage"},i=r.headers.origin;i&&i!=="null"?XP(new URL(i))&&(s["Access-Control-Allow-Origin"]=i):s["Access-Control-Allow-Origin"]="*",n.writeHead(200,s),n.end();return}return Ai(r,n,405,`${kc} is an API endpoint used only during development by the Builder.io Devtools client-side script`)}if(o.pathname===Ic)return h4(r,n,200,await Xh(e));if(o.pathname===Eh){let s=o.searchParams.get($c);return s?y4(n,302,await ng(e,s)):Ai(r,n,400,`Missing ${$c} querystring`)}if(o.pathname===qn)return g4(r,n,200,await eg(e));if(o.pathname===_h){await ts(e,{_:[]},{});let s=await VP(e),{figmaBuilderLinks:i,diagnostics:a}=await qP({mappingFiles:s,sys:e});return ya(r,n,200,"application/json",JSON.stringify({figmaBuilderLinks:i,foundErrors:a.length>0,diagnostics:a,version:2,local:!0},null,2))}return o.pathname===Gn?(e.debug(`Close Dev Tools Server Requested: ${o.href}`),setTimeout(()=>{try{t.close(s=>{e.debug(`Dev Tools Server Closed Error: ${s}`)})}catch(s){e.debug(`Error closing devtools server: ${s}`)}},20),Ai(r,n,200,"Closing Dev Tools Server")):Ai(r,n,404,"Not found")}catch(o){return e?.Sentry?.captureException(o),Ai(r,n,500,`Dev Server Error: ${o}`)}}function YP(e,t,r,n){ya(e,t,r,"application/json",JSON.stringify(n))}function h4(e,t,r,n){ya(e,t,r,"application/javascript",n)}function g4(e,t,r,n){ya(e,t,r,"text/html",n)}function Ai(e,t,r,n){ya(e,t,r,"text/plain",n)}function ya(e,t,r,n,o){let s={"Content-Type":`${n}; charset=utf-8`,"Cache-Control":"no-cache, no-store, must-revalidate","X-Builder-Devtools-Version":Xt},i=e.headers.origin;i&&i!=="null"?XP(new URL(i))&&(s["Access-Control-Allow-Origin"]=i):s["Access-Control-Allow-Origin"]="*",t.writeHead(r,s),t.end(o)}function XP(e){return e.hostname==="localhost"||e.origin==="https://builder.io"||e.origin==="https://www.builder.io"||e.origin.endsWith(".builder.io")?!0:e.port===""?!1:e.port!=="80"&&e.port!=="443"}function y4(e,t,r){e.writeHead(t,{Location:r}),e.end()}async function D4(e){let t="";for await(let r of e)t+=r;return t}function v4(e){let t=e.url||"/";return new URL(t,`http://${e.headers.host}`)}async function eT(e){if(globalThis.__builderDevToolsServer)return e.debug("reusing existing devtools server"),globalThis.__builderDevToolsServer.setContext(e),globalThis.__builderDevToolsServer;let t=await C4(e),r=(0,Rc.createServer)((o,s)=>{QP(e,r,o,s)}),n=()=>new Promise((o,s)=>{r.listening?(e.debug(`closing devtools server on port ${t}`),r.close(i=>{e=null,i?(e.debug(`error closing devtools server on port ${t}`),s(i)):(e&&e.debug(`closed devtools server on port ${t}`),o())})):(e.debug(`devtools server on port ${t} not listening`),o())});return process.once("SIGTERM",n),process.once("SIGINT",n),process.env.CI!=="true"&&process.stdin.on("end",n),globalThis.__builderDevToolsServer={url:new URL(`http://localhost:${t}`).href,port:t,setContext:o=>{e.debug(`set devtools context on server ${t}`),e=o},close:async()=>{globalThis.__builderDevToolsServer=null,await n()}},new Promise(o=>{r.listen(t,()=>{e.debug(`started devtools server on port ${t}`),o(globalThis.__builderDevToolsServer)})})}function C4(e){return new Promise(t=>{let r=e.port;try{(0,Rc.request)({hostname:"localhost",port:r,path:Gn,method:"GET"},o=>{o.on("end",()=>{e.debug(`${Gn} - Response ended`),t(r)})}).on("error",o=>{e.debug(`${Gn} - No response ${o}`),t(r)}).end()}catch(n){e.debug(`${Gn} - Error ${n}`),t(r)}})}async function lh(e){let t={...e,devToolsServerUrl:"",isValid:!1,serverShouldRestart:!1,publicApiKey:"",port:e.port||5273,ignoreMissingConfig:!1,getAllProjectFiles:e.getAllProjectFiles||(()=>Promise.resolve([]))},r=e.getFrameworks().map(s=>s.name).join(", ");t.debug(`create devtools ${xh} [${r}]`);let n=await eT(t);return t.devToolsServerUrl=n.url,t.port=n.port,{getUrl:()=>t.devToolsServerUrl}}var xh=Xt;0&&(module.exports={createDevToolsServer,version});
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

cookie-parser/index.js:
  (*!
   * cookie-parser
   * Copyright(c) 2014 TJ Holowaychuk
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
